/*! For license information please see bundle.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define(["react"],e):"object"==typeof exports?exports.SilkVerb=e(require("react")):t.SilkVerb=e(t.react)}(self,(t=>(()=>{var e,n,r={7183:t=>{function e(t,e,n){for(var r=0;r<n.length;r++)t.setUint8(e+r,n.charCodeAt(r))}t.exports=function(t,n){n=n||{};var r=t.numberOfChannels,i=t.sampleRate,a=n.float32?3:1,o=3===a?32:16;return function(t,n,r,i,a){var o=a/8,s=i*o,l=new ArrayBuffer(44+t.length*o),c=new DataView(l);return e(c,0,"RIFF"),c.setUint32(4,36+t.length*o,!0),e(c,8,"WAVE"),e(c,12,"fmt "),c.setUint32(16,16,!0),c.setUint16(20,n,!0),c.setUint16(22,i,!0),c.setUint32(24,r,!0),c.setUint32(28,r*s,!0),c.setUint16(32,s,!0),c.setUint16(34,a,!0),e(c,36,"data"),c.setUint32(40,t.length*o,!0),1===n?function(t,e,n){for(var r=0;r<n.length;r++,e+=2){var i=Math.max(-1,Math.min(1,n[r]));t.setInt16(e,i<0?32768*i:32767*i,!0)}}(c,44,t):function(t,e,n){for(var r=0;r<n.length;r++,e+=4)t.setFloat32(e,n[r],!0)}(c,44,t),l}(2===r?function(t,e){for(var n=t.length+e.length,r=new Float32Array(n),i=0,a=0;i<n;)r[i++]=t[a],r[i++]=e[a],a++;return r}(t.getChannelData(0),t.getChannelData(1)):t.getChannelData(0),a,i,r,o)}},8706:(t,e,n)=>{var r=n(7348),i=(r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double,r.new_float),a=(r.new_float_n,r.new_int,r.new_int_n,r.assert,n(4621));t.exports=function(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=i(a.SBMAX_l),this.s=i(a.SBMAX_s),this.psfb21=i(a.PSFB21),this.psfb12=i(a.PSFB12),this.cb_l=i(a.CBANDS),this.cb_s=i(a.CBANDS),this.eql_w=i(a.BLKSIZE/2)}},4002:(t,e,n)=>{var r=n(7348),i=r.System,a=(r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays),o=(r.new_array_n,r.new_byte),s=(r.new_double,r.new_float,r.new_float_n),l=r.new_int,c=(r.new_int_n,r.assert),u=n(8526),h=n(1632),f=n(4621),d=n(4498);function p(){var t=n(8476),e=this,r=32,p=null,m=null,_=null,v=null;this.setModules=function(t,e,n,r){p=t,m=e,_=n,v=r};var y=null,g=0,b=0,w=0;function x(t){i.arraycopy(t.header[t.w_ptr].buf,0,y,b,t.sideinfo_len),b+=t.sideinfo_len,g+=8*t.sideinfo_len,t.w_ptr=t.w_ptr+1&d.MAX_HEADER_BUF-1}function S(e,n,i){for(c(i<30);i>0;){var a;0==w&&(w=8,b++,c(b<t.LAME_MAXMP3BUFFER),c(e.header[e.w_ptr].write_timing>=g),e.header[e.w_ptr].write_timing==g&&x(e),y[b]=0),a=Math.min(i,w),w-=a,c((i-=a)<r),c(w<r),y[b]|=n>>i<<w,g+=a}}function E(e,n,i){for(c(i<30);i>0;){var a;0==w&&(w=8,b++,c(b<t.LAME_MAXMP3BUFFER),y[b]=0),a=Math.min(i,w),w-=a,c((i-=a)<r),c(w<r),y[b]|=n>>i<<w,g+=a}}function A(t,e){var n,r=t.internal_flags;if(c(e>=0),e>=8&&(S(r,76,8),e-=8),e>=8&&(S(r,65,8),e-=8),e>=8&&(S(r,77,8),e-=8),e>=8&&(S(r,69,8),e-=8),e>=32){var i=_.getLameShortVersion();if(e>=32)for(n=0;n<i.length&&e>=8;++n)e-=8,S(r,i.charAt(n),8)}for(;e>=1;e-=1)S(r,r.ancillary_flag,1),r.ancillary_flag^=t.disable_reservoir?0:1;c(0==e)}function T(t,e,n){for(var i=t.header[t.h_ptr].ptr;n>0;){var a=Math.min(n,8-(7&i));c((n-=a)<r),t.header[t.h_ptr].buf[i>>3]|=e>>n<<8-(7&i)-a,i+=a}t.header[t.h_ptr].ptr=i}function R(t,e){t<<=8;for(var n=0;n<8;n++)65536&((e<<=1)^(t<<=1))&&(e^=32773);return e}function M(t,e){var n,r=h.ht[e.count1table_select+32],i=0,a=e.big_values,o=e.big_values;for(c(e.count1table_select<2),n=(e.count1-e.big_values)/4;n>0;--n){var s,l=0,u=0;0!=(s=e.l3_enc[a+0])&&(u+=8,e.xr[o+0]<0&&l++,c(s<=1)),0!=(s=e.l3_enc[a+1])&&(u+=4,l*=2,e.xr[o+1]<0&&l++,c(s<=1)),0!=(s=e.l3_enc[a+2])&&(u+=2,l*=2,e.xr[o+2]<0&&l++,c(s<=1)),0!=(s=e.l3_enc[a+3])&&(u++,l*=2,e.xr[o+3]<0&&l++,c(s<=1)),a+=4,o+=4,S(t,l+r.table[u],r.hlen[u]),i+=r.hlen[u]}return i}function k(t,e,n,i,a){var o=h.ht[e],s=0;if(c(e<32),0==e)return s;for(var l=n;l<i;l+=2){var u=0,f=0,d=o.xlen,p=o.xlen,m=0,_=a.l3_enc[l],v=a.l3_enc[l+1];if(0!=_&&(a.xr[l]<0&&m++,u--),e>15){if(_>14){var y=_-15;c(y<=o.linmax),m|=y<<1,f=d,_=15}if(v>14){var g=v-15;c(g<=o.linmax),m<<=d,m|=g,f+=d,v=15}p=16}0!=v&&(m<<=1,a.xr[l+1]<0&&m++,u--),c((_|v)<16),_=_*p+v,f-=u,u+=o.hlen[_],c(u<=r),c(f<=r),S(t,o.table[_],u),S(t,m,f),s+=u+f}return s}function P(t,e){var n=3*t.scalefac_band.s[3];return n>e.big_values&&(n=e.big_values),k(t,e.table_select[0],0,n,e)+k(t,e.table_select[1],n,e.big_values,e)}function B(t,e){var n,r,i,a;n=e.big_values,c(0<=n&&n<=576);var o=e.region0_count+1;return c(0<=o),c(o<t.scalefac_band.l.length),i=t.scalefac_band.l[o],o+=e.region1_count+1,c(0<=o),c(o<t.scalefac_band.l.length),i>n&&(i=n),(a=t.scalefac_band.l[o])>n&&(a=n),r=k(t,e.table_select[0],0,i,e),(r+=k(t,e.table_select[1],i,a,e))+k(t,e.table_select[2],a,n,e)}function L(){this.total=0}function V(t,n){var r,a,o,s,l,c=t.internal_flags;return l=c.w_ptr,-1==(s=c.h_ptr-1)&&(s=d.MAX_HEADER_BUF-1),r=c.header[s].write_timing-g,n.total=r,r>=0&&(a=1+s-l,s<l&&(a=1+s-l+d.MAX_HEADER_BUF),r-=8*a*c.sideinfo_len),r+=o=e.getframebits(t),n.total+=o,n.total%8!=0?n.total=1+n.total/8:n.total=n.total/8,n.total+=b+1,r<0&&i.err.println("strange error flushing buffer ... \n"),r}this.getframebits=function(t){var e,n=t.internal_flags;return e=0!=n.bitrate_index?h.bitrate_table[t.version][n.bitrate_index]:t.brate,c(8<=e&&e<=640),8*(0|72e3*(t.version+1)*e/t.out_samplerate+n.padding)},this.CRC_writeheader=function(t,e){var n=65535;n=R(255&e[2],n),n=R(255&e[3],n);for(var r=6;r<t.sideinfo_len;r++)n=R(255&e[r],n);e[4]=byte(n>>8),e[5]=byte(255&n)},this.flush_bitstream=function(t){var e,n,r=t.internal_flags,i=r.h_ptr-1;if(-1==i&&(i=d.MAX_HEADER_BUF-1),e=r.l3_side,!((n=V(t,new L))<0)){if(A(t,n),c(r.header[i].write_timing+this.getframebits(t)==g),r.ResvSize=0,e.main_data_begin=0,r.findReplayGain){var a=p.GetTitleGain(r.rgdata);c(NEQ(a,GainAnalysis.GAIN_NOT_ENOUGH_SAMPLES)),r.RadioGain=0|Math.floor(10*a+.5)}r.findPeakSample&&(r.noclipGainChange=0|Math.ceil(20*Math.log10(r.PeakSample/32767)*10),r.noclipGainChange>0&&(EQ(t.scale,1)||EQ(t.scale,0))?r.noclipScale=Math.floor(32767/r.PeakSample*100)/100:r.noclipScale=-1)}},this.add_dummy_byte=function(t,e,n){for(var r,i=t.internal_flags;n-- >0;)for(E(0,e,8),r=0;r<d.MAX_HEADER_BUF;++r)i.header[r].write_timing+=8},this.format_bitstream=function(t){var e,n=t.internal_flags;e=n.l3_side;var r=this.getframebits(t);A(t,e.resvDrain_pre),function(t,e){var n,r,o,s=t.internal_flags;if(n=s.l3_side,s.header[s.h_ptr].ptr=0,a.fill(s.header[s.h_ptr].buf,0,s.sideinfo_len,0),t.out_samplerate<16e3?T(s,4094,12):T(s,4095,12),T(s,t.version,1),T(s,1,2),T(s,t.error_protection?0:1,1),T(s,s.bitrate_index,4),T(s,s.samplerate_index,2),T(s,s.padding,1),T(s,t.extension,1),T(s,t.mode.ordinal(),2),T(s,s.mode_ext,2),T(s,t.copyright,1),T(s,t.original,1),T(s,t.emphasis,2),t.error_protection&&T(s,0,16),1==t.version){for(c(n.main_data_begin>=0),T(s,n.main_data_begin,9),2==s.channels_out?T(s,n.private_bits,3):T(s,n.private_bits,5),o=0;o<s.channels_out;o++){var l;for(l=0;l<4;l++)T(s,n.scfsi[o][l],1)}for(r=0;r<2;r++)for(o=0;o<s.channels_out;o++)T(s,(u=n.tt[r][o]).part2_3_length+u.part2_length,12),T(s,u.big_values/2,9),T(s,u.global_gain,8),T(s,u.scalefac_compress,4),u.block_type!=f.NORM_TYPE?(T(s,1,1),T(s,u.block_type,2),T(s,u.mixed_block_flag,1),14==u.table_select[0]&&(u.table_select[0]=16),T(s,u.table_select[0],5),14==u.table_select[1]&&(u.table_select[1]=16),T(s,u.table_select[1],5),T(s,u.subblock_gain[0],3),T(s,u.subblock_gain[1],3),T(s,u.subblock_gain[2],3)):(T(s,0,1),14==u.table_select[0]&&(u.table_select[0]=16),T(s,u.table_select[0],5),14==u.table_select[1]&&(u.table_select[1]=16),T(s,u.table_select[1],5),14==u.table_select[2]&&(u.table_select[2]=16),T(s,u.table_select[2],5),c(0<=u.region0_count&&u.region0_count<16),c(0<=u.region1_count&&u.region1_count<8),T(s,u.region0_count,4),T(s,u.region1_count,3)),T(s,u.preflag,1),T(s,u.scalefac_scale,1),T(s,u.count1table_select,1)}else for(c(n.main_data_begin>=0),T(s,n.main_data_begin,8),T(s,n.private_bits,s.channels_out),r=0,o=0;o<s.channels_out;o++){var u;T(s,(u=n.tt[r][o]).part2_3_length+u.part2_length,12),T(s,u.big_values/2,9),T(s,u.global_gain,8),T(s,u.scalefac_compress,9),u.block_type!=f.NORM_TYPE?(T(s,1,1),T(s,u.block_type,2),T(s,u.mixed_block_flag,1),14==u.table_select[0]&&(u.table_select[0]=16),T(s,u.table_select[0],5),14==u.table_select[1]&&(u.table_select[1]=16),T(s,u.table_select[1],5),T(s,u.subblock_gain[0],3),T(s,u.subblock_gain[1],3),T(s,u.subblock_gain[2],3)):(T(s,0,1),14==u.table_select[0]&&(u.table_select[0]=16),T(s,u.table_select[0],5),14==u.table_select[1]&&(u.table_select[1]=16),T(s,u.table_select[1],5),14==u.table_select[2]&&(u.table_select[2]=16),T(s,u.table_select[2],5),c(0<=u.region0_count&&u.region0_count<16),c(0<=u.region1_count&&u.region1_count<8),T(s,u.region0_count,4),T(s,u.region1_count,3)),T(s,u.scalefac_scale,1),T(s,u.count1table_select,1)}t.error_protection&&CRC_writeheader(s,s.header[s.h_ptr].buf);var h=s.h_ptr;c(s.header[h].ptr==8*s.sideinfo_len),s.h_ptr=h+1&d.MAX_HEADER_BUF-1,s.header[s.h_ptr].write_timing=s.header[h].write_timing+e,s.h_ptr==s.w_ptr&&i.err.println("Error: MAX_HEADER_BUF too small in bitstream.c \n")}(t,r);var o=8*n.sideinfo_len;if(o+=function(t){var e,n,r,i,a=0,o=t.internal_flags,s=o.l3_side;if(1==t.version)for(e=0;e<2;e++)for(n=0;n<o.channels_out;n++){var l=s.tt[e][n],h=u.slen1_tab[l.scalefac_compress],d=u.slen2_tab[l.scalefac_compress];for(i=0,r=0;r<l.sfbdivide;r++)-1!=l.scalefac[r]&&(S(o,l.scalefac[r],h),i+=h);for(;r<l.sfbmax;r++)-1!=l.scalefac[r]&&(S(o,l.scalefac[r],d),i+=d);c(i==l.part2_length),l.block_type==f.SHORT_TYPE?i+=P(o,l):i+=B(o,l),i+=M(o,l),c(i==l.part2_3_length+l.part2_length),a+=i}else for(e=0,n=0;n<o.channels_out;n++){l=s.tt[e][n];var p,m,_=0;if(c(null!=l.sfb_partition_table),i=0,r=0,m=0,l.block_type==f.SHORT_TYPE){for(;m<4;m++){var v=l.sfb_partition_table[m]/3,y=l.slen[m];for(p=0;p<v;p++,r++)S(o,Math.max(l.scalefac[3*r+0],0),y),S(o,Math.max(l.scalefac[3*r+1],0),y),S(o,Math.max(l.scalefac[3*r+2],0),y),_+=3*y}i+=P(o,l)}else{for(;m<4;m++)for(v=l.sfb_partition_table[m],y=l.slen[m],p=0;p<v;p++,r++)S(o,Math.max(l.scalefac[r],0),y),_+=y;i+=B(o,l)}i+=M(o,l),c(i==l.part2_3_length),c(_==l.part2_length),a+=_+i}return a}(t),A(t,e.resvDrain_post),o+=e.resvDrain_post,e.main_data_begin+=(r-o)/8,V(t,new L)!=n.ResvSize&&i.err.println("Internal buffer inconsistency. flushbits <> ResvSize"),8*e.main_data_begin!=n.ResvSize&&(i.err.printf("bit reservoir error: \nl3_side.main_data_begin: %d \nResvoir size:             %d \nresv drain (post)         %d \nresv drain (pre)          %d \nheader and sideinfo:      %d \ndata bits:                %d \ntotal bits:               %d (remainder: %d) \nbitsperframe:             %d \n",8*e.main_data_begin,n.ResvSize,e.resvDrain_post,e.resvDrain_pre,8*n.sideinfo_len,o-e.resvDrain_post-8*n.sideinfo_len,o,o%8,r),i.err.println("This is a fatal error.  It has several possible causes:"),i.err.println("90%%  LAME compiled with buggy version of gcc using advanced optimizations"),i.err.println(" 9%%  Your system is overclocked"),i.err.println(" 1%%  bug in LAME encoding library"),n.ResvSize=8*e.main_data_begin),c(g%8==0),g>1e9){var s;for(s=0;s<d.MAX_HEADER_BUF;++s)n.header[s].write_timing-=g;g=0}return 0},this.copy_buffer=function(t,e,n,r,a){var o=b+1;if(o<=0)return 0;if(0!=r&&o>r)return-1;if(i.arraycopy(y,0,e,n,o),b=-1,w=0,0!=a){var u=l(1);if(u[0]=t.nMusicCRC,v.updateMusicCRC(u,e,n,o),t.nMusicCRC=u[0],o>0&&(t.VBR_seek_table.nBytesWritten+=o),t.decode_on_the_fly)for(var h,f=s([2,1152]),d=o,_=-1;0!=_;)if(_=m.hip_decode1_unclipped(t.hip,e,n,d,f[0],f[1]),d=0,-1==_&&(_=0),_>0){if(c(_<=1152),t.findPeakSample){for(h=0;h<_;h++)f[0][h]>t.PeakSample?t.PeakSample=f[0][h]:-f[0][h]>t.PeakSample&&(t.PeakSample=-f[0][h]);if(t.channels_out>1)for(h=0;h<_;h++)f[1][h]>t.PeakSample?t.PeakSample=f[1][h]:-f[1][h]>t.PeakSample&&(t.PeakSample=-f[1][h])}if(t.findReplayGain&&p.AnalyzeSamples(t.rgdata,f[0],0,f[1],0,_,t.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6}}return o},this.init_bit_stream_w=function(e){y=o(t.LAME_MAXMP3BUFFER),e.h_ptr=e.w_ptr=0,e.header[e.h_ptr].write_timing=0,b=-1,w=0,g=0}}p.EQ=function(t,e){return Math.abs(t)>Math.abs(e)?Math.abs(t-e)<=1e-6*Math.abs(t):Math.abs(t-e)<=1e-6*Math.abs(e)},p.NEQ=function(t,e){return!p.EQ(t,e)},t.exports=p},9283:(t,e,n)=>{var r=n(7348),i=(r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double,r.new_float),a=(r.new_float_n,r.new_int),o=(r.new_int_n,r.assert),s=n(532),l=n(4621),c=n(1331),u=n(4498);t.exports=function(t){var e=t;this.quantize=e,this.iteration_loop=function(t,e,n,r){var h,f=t.internal_flags,d=i(c.SFBMAX),p=i(576),m=a(2),_=0,v=f.l3_side,y=new s(_);this.quantize.rv.ResvFrameBegin(t,y),_=y.bits;for(var g=0;g<f.mode_gr;g++){h=this.quantize.qupvt.on_pe(t,e,m,_,g,g),f.mode_ext==l.MPG_MD_MS_LR&&(this.quantize.ms_convert(f.l3_side,g),this.quantize.qupvt.reduce_side(m,n[g],_,h));for(var b=0;b<f.channels_out;b++){var w,x,S=v.tt[g][b];S.block_type!=l.SHORT_TYPE?(w=0,x=f.PSY.mask_adjust-w):(w=0,x=f.PSY.mask_adjust_short-w),f.masking_lower=Math.pow(10,.1*x),this.quantize.init_outer_loop(f,S),this.quantize.init_xrpow(f,S,p)&&(this.quantize.qupvt.calc_xmin(t,r[g][b],S,d),this.quantize.outer_loop(t,S,d,p,b,m[b])),this.quantize.iteration_finish_one(f,g,b),o(S.part2_3_length<=u.MAX_BITS_PER_CHANNEL),o(S.part2_3_length<=m[b])}}this.quantize.rv.ResvFrameEnd(f,_)}}},8068:(t,e,n)=>{var r=n(7348),i=r.new_float,a=r.new_int;r.assert,t.exports=function(){this.global_gain=0,this.sfb_count1=0,this.step=a(39),this.noise=i(39),this.noise_log=i(39)}},7649:t=>{t.exports=function(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}},4621:(t,e,n)=>{var r=n(7348),i=r.System,a=r.VbrMode,o=(r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n),s=(r.new_byte,r.new_double,r.new_float),l=r.new_float_n,c=r.new_int,u=(r.new_int_n,r.assert);function h(){var t=n(5993),e=n(4787),r=n(8551),f=h.FFTOFFSET,d=h.MPG_MD_MS_LR,p=null;this.psy=null;var m=null,_=null,v=null;this.setModules=function(t,e,n,r){p=t,this.psy=e,m=e,_=r,v=n};var y=new t;this.lame_encode_mp3_frame=function(t,n,g,b,w,x){var S,E=o([2,2]);E[0][0]=new e,E[0][1]=new e,E[1][0]=new e,E[1][1]=new e;var A,T=o([2,2]);T[0][0]=new e,T[0][1]=new e,T[1][0]=new e,T[1][1]=new e;var R,M,k,P=[null,null],B=t.internal_flags,L=l([2,4]),V=[.5,.5],O=[[0,0],[0,0]],N=[[0,0],[0,0]];if(P[0]=n,P[1]=g,0==B.lame_encode_frame_init&&function(t,e){var n,r,i=t.internal_flags;if(0==i.lame_encode_frame_init){var a,o,l=s(2014),c=s(2014);for(i.lame_encode_frame_init=1,a=0,o=0;a<286+576*(1+i.mode_gr);++a)a<576*i.mode_gr?(l[a]=0,2==i.channels_out&&(c[a]=0)):(l[a]=e[0][o],2==i.channels_out&&(c[a]=e[1][o]),++o);for(r=0;r<i.mode_gr;r++)for(n=0;n<i.channels_out;n++)i.l3_side.tt[r][n].block_type=h.SHORT_TYPE;y.mdct_sub48(i,l,c),u(576>=h.FFTOFFSET),u(i.mf_size>=h.BLKSIZE+t.framesize-h.FFTOFFSET),u(i.mf_size>=512+t.framesize-32)}}(t,P),B.padding=0,(B.slot_lag-=B.frac_SpF)<0&&(B.slot_lag+=t.out_samplerate,B.padding=1),0!=B.psymodel){var C=[null,null],I=0,D=c(2);for(k=0;k<B.mode_gr;k++){for(M=0;M<B.channels_out;M++)C[M]=P[M],I=576+576*k-h.FFTOFFSET;if(0!=(t.VBR==a.vbr_mtrh||t.VBR==a.vbr_mt?m.L3psycho_anal_vbr(t,C,I,k,E,T,O[k],N[k],L[k],D):m.L3psycho_anal_ns(t,C,I,k,E,T,O[k],N[k],L[k],D)))return-4;for(t.mode==r.JOINT_STEREO&&(V[k]=L[k][2]+L[k][3],V[k]>0&&(V[k]=L[k][3]/V[k])),M=0;M<B.channels_out;M++){var j=B.l3_side.tt[k][M];j.block_type=D[M],j.mixed_block_flag=0}}}else for(k=0;k<B.mode_gr;k++)for(M=0;M<B.channels_out;M++)B.l3_side.tt[k][M].block_type=h.NORM_TYPE,B.l3_side.tt[k][M].mixed_block_flag=0,N[k][M]=O[k][M]=700;if(function(t){var e,n;if(0!=t.ATH.useAdjust)if(n=t.loudness_sq[0][0],e=t.loudness_sq[1][0],2==t.channels_out?(n+=t.loudness_sq[0][1],e+=t.loudness_sq[1][1]):(n+=n,e+=e),2==t.mode_gr&&(n=Math.max(n,e)),n*=.5,(n*=t.ATH.aaSensitivityP)>.03125)t.ATH.adjust>=1?t.ATH.adjust=1:t.ATH.adjust<t.ATH.adjustLimit&&(t.ATH.adjust=t.ATH.adjustLimit),t.ATH.adjustLimit=1;else{var r=31.98*n+625e-6;t.ATH.adjust>=r?(t.ATH.adjust*=.075*r+.925,t.ATH.adjust<r&&(t.ATH.adjust=r)):t.ATH.adjustLimit>=r?t.ATH.adjust=r:t.ATH.adjust<t.ATH.adjustLimit&&(t.ATH.adjust=t.ATH.adjustLimit),t.ATH.adjustLimit=r}else t.ATH.adjust=1}(B),y.mdct_sub48(B,P[0],P[1]),B.mode_ext=h.MPG_MD_LR_LR,t.force_ms)B.mode_ext=h.MPG_MD_MS_LR;else if(t.mode==r.JOINT_STEREO){var F=0,H=0;for(k=0;k<B.mode_gr;k++)for(M=0;M<B.channels_out;M++)F+=N[k][M],H+=O[k][M];if(F<=1*H){var q=B.l3_side.tt[0],X=B.l3_side.tt[B.mode_gr-1];q[0].block_type==q[1].block_type&&X[0].block_type==X[1].block_type&&(B.mode_ext=h.MPG_MD_MS_LR)}}if(B.mode_ext==d?(A=T,R=N):(A=E,R=O),t.analysis&&null!=B.pinfo)for(k=0;k<B.mode_gr;k++)for(M=0;M<B.channels_out;M++)B.pinfo.ms_ratio[k]=B.ms_ratio[k],B.pinfo.ms_ener_ratio[k]=V[k],B.pinfo.blocktype[k][M]=B.l3_side.tt[k][M].block_type,B.pinfo.pe[k][M]=R[k][M],i.arraycopy(B.l3_side.tt[k][M].xr,0,B.pinfo.xr[k][M],0,576),B.mode_ext==d&&(B.pinfo.ers[k][M]=B.pinfo.ers[k][M+2],i.arraycopy(B.pinfo.energy[k][M+2],0,B.pinfo.energy[k][M],0,B.pinfo.energy[k][M].length));if(t.VBR==a.vbr_off||t.VBR==a.vbr_abr){var Y,U;for(Y=0;Y<18;Y++)B.nsPsy.pefirbuf[Y]=B.nsPsy.pefirbuf[Y+1];for(U=0,k=0;k<B.mode_gr;k++)for(M=0;M<B.channels_out;M++)U+=R[k][M];for(B.nsPsy.pefirbuf[18]=U,U=B.nsPsy.pefirbuf[9],Y=0;Y<9;Y++)U+=(B.nsPsy.pefirbuf[Y]+B.nsPsy.pefirbuf[18-Y])*h.fircoef[Y];for(U=3350*B.mode_gr*B.channels_out/U,k=0;k<B.mode_gr;k++)for(M=0;M<B.channels_out;M++)R[k][M]*=U}if(B.iteration_loop.iteration_loop(t,R,V,A),p.format_bitstream(t),S=p.copy_buffer(B,b,w,x,1),t.bWriteVbrTag&&_.addVbrFrame(t),t.analysis&&null!=B.pinfo){for(M=0;M<B.channels_out;M++){var G;for(G=0;G<f;G++)B.pinfo.pcmdata[M][G]=B.pinfo.pcmdata[M][G+t.framesize];for(G=f;G<1600;G++)B.pinfo.pcmdata[M][G]=P[M][G-f]}v.set_frame_pinfo(t,A)}return function(t){var e,n;for(u(0<=t.bitrate_index&&t.bitrate_index<16),u(0<=t.mode_ext&&t.mode_ext<4),t.bitrate_stereoMode_Hist[t.bitrate_index][4]++,t.bitrate_stereoMode_Hist[15][4]++,2==t.channels_out&&(t.bitrate_stereoMode_Hist[t.bitrate_index][t.mode_ext]++,t.bitrate_stereoMode_Hist[15][t.mode_ext]++),e=0;e<t.mode_gr;++e)for(n=0;n<t.channels_out;++n){var r=0|t.l3_side.tt[e][n].block_type;0!=t.l3_side.tt[e][n].mixed_block_flag&&(r=4),t.bitrate_blockType_Hist[t.bitrate_index][r]++,t.bitrate_blockType_Hist[t.bitrate_index][5]++,t.bitrate_blockType_Hist[15][r]++,t.bitrate_blockType_Hist[15][5]++}}(B),S}}h.ENCDELAY=576,h.POSTDELAY=1152,h.MDCTDELAY=48,h.FFTOFFSET=224+h.MDCTDELAY,h.DECDELAY=528,h.SBLIMIT=32,h.CBANDS=64,h.SBPSY_l=21,h.SBPSY_s=12,h.SBMAX_l=22,h.SBMAX_s=13,h.PSFB21=6,h.PSFB12=6,h.BLKSIZE=1024,h.HBLKSIZE=h.BLKSIZE/2+1,h.BLKSIZE_s=256,h.HBLKSIZE_s=h.BLKSIZE_s/2+1,h.NORM_TYPE=0,h.START_TYPE=1,h.SHORT_TYPE=2,h.STOP_TYPE=3,h.MPG_MD_LR_LR=0,h.MPG_MD_LR_I=1,h.MPG_MD_MS_LR=2,h.MPG_MD_MS_I=3,h.fircoef=[-.1039435,-.1892065,5*-.0432472,-.155915,3898045e-23,.0467745*5,.50455,.756825,.187098*5],t.exports=h},7181:(t,e,n)=>{var r=n(7348),i=(r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util),a=(r.Arrays,r.new_array_n,r.new_byte,r.new_double,r.new_float),o=(r.new_float_n,r.new_int,r.new_int_n,r.assert,n(4621));t.exports=function(){var t=a(o.BLKSIZE),e=a(o.BLKSIZE_s/2),n=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function r(t,e,r){var a,o,s,l=0,c=e+(r<<=1);a=4;do{var u,h,f,d,p,m,_;_=a>>1,m=(p=a<<1)+(d=a),a=p<<1,s=(o=e)+_;do{S=t[o+0]-t[o+d],x=t[o+0]+t[o+d],R=t[o+p]-t[o+m],A=t[o+p]+t[o+m],t[o+p]=x-A,t[o+0]=x+A,t[o+m]=S-R,t[o+d]=S+R,S=t[s+0]-t[s+d],x=t[s+0]+t[s+d],R=i.SQRT2*t[s+m],A=i.SQRT2*t[s+p],t[s+p]=x-A,t[s+0]=x+A,t[s+m]=S-R,t[s+d]=S+R,s+=a,o+=a}while(o<c);for(h=n[l+0],u=n[l+1],f=1;f<_;f++){var v,y;v=1-2*u*u,y=2*u*h,o=e+f,s=e+d-f;do{var g,b,w,x,S,E,A,T,R,M;b=y*t[o+d]-v*t[s+d],g=v*t[o+d]+y*t[s+d],S=t[o+0]-g,x=t[o+0]+g,E=t[s+0]-b,w=t[s+0]+b,b=y*t[o+m]-v*t[s+m],g=v*t[o+m]+y*t[s+m],R=t[o+p]-g,A=t[o+p]+g,M=t[s+p]-b,T=t[s+p]+b,b=u*A-h*M,g=h*A+u*M,t[o+p]=x-g,t[o+0]=x+g,t[s+m]=E-b,t[s+d]=E+b,b=h*T-u*R,g=u*T+h*R,t[s+p]=w-g,t[s+0]=w+g,t[o+m]=S-b,t[o+d]=S+b,s+=a,o+=a}while(o<c);h=(v=h)*n[l+0]-u*n[l+1],u=v*n[l+1]+u*n[l+0]}l+=2}while(a<r)}var s=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(t,n,i,a,l){for(var c=0;c<3;c++){var u=o.BLKSIZE_s/2,h=65535&192*(c+1),f=o.BLKSIZE_s/8-1;do{var d,p,m,_,v,y=255&s[f<<2];p=(d=e[y]*a[i][l+y+h])-(v=e[127-y]*a[i][l+y+h+128]),d+=v,_=(m=e[y+64]*a[i][l+y+h+64])-(v=e[63-y]*a[i][l+y+h+192]),m+=v,u-=4,n[c][u+0]=d+m,n[c][u+2]=d-m,n[c][u+1]=p+_,n[c][u+3]=p-_,p=(d=e[y+1]*a[i][l+y+h+1])-(v=e[126-y]*a[i][l+y+h+129]),d+=v,_=(m=e[y+65]*a[i][l+y+h+65])-(v=e[62-y]*a[i][l+y+h+193]),m+=v,n[c][u+o.BLKSIZE_s/2+0]=d+m,n[c][u+o.BLKSIZE_s/2+2]=d-m,n[c][u+o.BLKSIZE_s/2+1]=p+_,n[c][u+o.BLKSIZE_s/2+3]=p-_}while(--f>=0);r(n[c],u,o.BLKSIZE_s/2)}},this.fft_long=function(e,n,i,a,l){var c=o.BLKSIZE/8-1,u=o.BLKSIZE/2;do{var h,f,d,p,m,_=255&s[c];f=(h=t[_]*a[i][l+_])-(m=t[_+512]*a[i][l+_+512]),h+=m,p=(d=t[_+256]*a[i][l+_+256])-(m=t[_+768]*a[i][l+_+768]),d+=m,n[0+(u-=4)]=h+d,n[u+2]=h-d,n[u+1]=f+p,n[u+3]=f-p,f=(h=t[_+1]*a[i][l+_+1])-(m=t[_+513]*a[i][l+_+513]),h+=m,p=(d=t[_+257]*a[i][l+_+257])-(m=t[_+769]*a[i][l+_+769]),d+=m,n[u+o.BLKSIZE/2+0]=h+d,n[u+o.BLKSIZE/2+2]=h-d,n[u+o.BLKSIZE/2+1]=f+p,n[u+o.BLKSIZE/2+3]=f-p}while(--c>=0);r(n,u,o.BLKSIZE/2)},this.init_fft=function(n){for(var r=0;r<o.BLKSIZE;r++)t[r]=.42-.5*Math.cos(2*Math.PI*(r+.5)/o.BLKSIZE)+.08*Math.cos(4*Math.PI*(r+.5)/o.BLKSIZE);for(r=0;r<o.BLKSIZE_s/2;r++)e[r]=.5*(1-Math.cos(2*Math.PI*(r+.5)/o.BLKSIZE_s))}}},9356:(t,e,n)=>{var r=n(7348),i=r.System,a=(r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays);function o(){o.YULE_ORDER,o.MAX_SAMP_FREQ;var t=o.RMS_WINDOW_TIME_NUMERATOR,e=o.RMS_WINDOW_TIME_DENOMINATOR,n=(o.MAX_SAMPLES_PER_WINDOW,[[.038575994352,-3.84664617118067,-.02160367184185,7.81501653005538,-.00123395316851,-11.34170355132042,-9291677959e-14,13.05504219327545,-.01655260341619,-12.28759895145294,.02161526843274,9.4829380631979,-.02074045215285,-5.87257861775999,.00594298065125,2.75465861874613,.00306428023191,-.86984376593551,.00012025322027,.13919314567432,.00288463683916],[.0541865640643,-3.47845948550071,-.02911007808948,6.36317777566148,-.00848709379851,-8.54751527471874,-.00851165645469,9.4769360780128,-.00834990904936,-8.81498681370155,.02245293253339,6.85401540936998,-.02596338512915,-4.39470996079559,.01624864962975,2.19611684890774,-.00240879051584,-.75104302451432,.00674613682247,.13149317958808,-.00187763777362],[.15457299681924,-2.37898834973084,-.09331049056315,2.84868151156327,-.06247880153653,-2.64577170229825,.02163541888798,2.23697657451713,-.05588393329856,-1.67148153367602,.04781476674921,1.00595954808547,.00222312597743,-.45953458054983,.03174092540049,.16378164858596,-.01390589421898,-.05032077717131,.00651420667831,.0234789740702,-.00881362733839],[.30296907319327,-1.61273165137247,-.22613988682123,1.0797749225997,-.08587323730772,-.2565625775407,.03282930172664,-.1627671912044,-.00915702933434,-.22638893773906,-.02364141202522,.39120800788284,-.00584456039913,-.22138138954925,.06276101321749,.04500235387352,-828086748e-14,.02005851806501,.00205861885564,.00302439095741,-.02950134983287],[.33642304856132,-1.49858979367799,-.2557224142557,.87350271418188,-.11828570177555,.12205022308084,.11921148675203,-.80774944671438,-.07834489609479,.47854794562326,-.0046997791438,-.12453458140019,-.0058950022444,-.04067510197014,.05724228140351,.08333755284107,.00832043980773,-.04237348025746,-.0163538138454,.02977207319925,-.0176017656815],[.4491525660845,-.62820619233671,-.14351757464547,.29661783706366,-.22784394429749,-.372563729424,-.01419140100551,.00213767857124,.04078262797139,-.42029820170918,-.12398163381748,.22199650564824,.04097565135648,.00613424350682,.10478503600251,.06747620744683,-.01863887810927,.05784820375801,-.03193428438915,.03222754072173,.00541907748707],[.56619470757641,-1.04800335126349,-.75464456939302,.29156311971249,.1624213774223,-.26806001042947,.16744243493672,.00819999645858,-.18901604199609,.45054734505008,.3093178284183,-.33032403314006,-.27562961986224,.0673936833311,.00647310677246,-.04784254229033,.08647503780351,.01639907836189,-.0378898455484,.01807364323573,-.00588215443421],[.58100494960553,-.51035327095184,-.53174909058578,-.31863563325245,-.14289799034253,-.20256413484477,.17520704835522,.1472815413433,.02377945217615,.38952639978999,.15558449135573,-.23313271880868,-.25344790059353,-.05246019024463,.01628462406333,-.02505961724053,.06920467763959,.02442357316099,-.03721611395801,.01818801111503,-.00749618797172],[.53648789255105,-.2504987195602,-.42163034350696,-.43193942311114,-.00275953611929,-.03424681017675,.04267842219415,-.04678328784242,-.10214864179676,.26408300200955,.14590772289388,.15113130533216,-.02459864859345,-.17556493366449,-.11202315195388,-.18823009262115,-.04060034127,.05477720428674,.0478866554818,.0470440968812,-.02217936801134]]),r=[[.98621192462708,-1.97223372919527,-1.97242384925416,.97261396931306,.98621192462708],[.98500175787242,-1.96977855582618,-1.97000351574484,.9702284756635,.98500175787242],[.97938932735214,-1.95835380975398,-1.95877865470428,.95920349965459,.97938932735214],[.97531843204928,-1.95002759149878,-1.95063686409857,.95124613669835,.97531843204928],[.97316523498161,-1.94561023566527,-1.94633046996323,.94705070426118,.97316523498161],[.96454515552826,-1.92783286977036,-1.92909031105652,.93034775234268,.96454515552826],[.96009142950541,-1.91858953033784,-1.92018285901082,.92177618768381,.96009142950541],[.95856916599601,-1.9154210807478,-1.91713833199203,.91885558323625,.95856916599601],[.94597685600279,-1.88903307939452,-1.89195371200558,.89487434461664,.94597685600279]];function s(t,e,n,r,i,a){for(;0!=i--;)n[r]=1e-10+t[e+0]*a[0]-n[r-1]*a[1]+t[e-1]*a[2]-n[r-2]*a[3]+t[e-2]*a[4]-n[r-3]*a[5]+t[e-3]*a[6]-n[r-4]*a[7]+t[e-4]*a[8]-n[r-5]*a[9]+t[e-5]*a[10]-n[r-6]*a[11]+t[e-6]*a[12]-n[r-7]*a[13]+t[e-7]*a[14]-n[r-8]*a[15]+t[e-8]*a[16]-n[r-9]*a[17]+t[e-9]*a[18]-n[r-10]*a[19]+t[e-10]*a[20],++r,++e}function l(t,e,n,r,i,a){for(;0!=i--;)n[r]=t[e+0]*a[0]-n[r-1]*a[1]+t[e-1]*a[2]-n[r-2]*a[3]+t[e-2]*a[4],++r,++e}function c(t){return t*t}this.InitGainAnalysis=function(n,r){return function(n,r){for(var i=0;i<MAX_ORDER;i++)n.linprebuf[i]=n.lstepbuf[i]=n.loutbuf[i]=n.rinprebuf[i]=n.rstepbuf[i]=n.routbuf[i]=0;switch(0|r){case 48e3:n.reqindex=0;break;case 44100:n.reqindex=1;break;case 32e3:n.reqindex=2;break;case 24e3:n.reqindex=3;break;case 22050:n.reqindex=4;break;case 16e3:n.reqindex=5;break;case 12e3:n.reqindex=6;break;case 11025:n.reqindex=7;break;case 8e3:n.reqindex=8;break;default:return INIT_GAIN_ANALYSIS_ERROR}return n.sampleWindow=0|(r*t+e-1)/e,n.lsum=0,n.rsum=0,n.totsamp=0,a.ill(n.A,0),INIT_GAIN_ANALYSIS_OK}(n,r)!=INIT_GAIN_ANALYSIS_OK?INIT_GAIN_ANALYSIS_ERROR:(n.linpre=MAX_ORDER,n.rinpre=MAX_ORDER,n.lstep=MAX_ORDER,n.rstep=MAX_ORDER,n.lout=MAX_ORDER,n.rout=MAX_ORDER,a.fill(n.B,0),INIT_GAIN_ANALYSIS_OK)},this.AnalyzeSamples=function(t,e,a,u,h,f,d){var p,m,_,v,y,g,b;if(0==f)return GAIN_ANALYSIS_OK;switch(b=0,y=f,d){case 1:u=e,h=a;break;case 2:break;default:return GAIN_ANALYSIS_ERROR}for(f<MAX_ORDER?(i.arraycopy(e,a,t.linprebuf,MAX_ORDER,f),i.arraycopy(u,h,t.rinprebuf,MAX_ORDER,f)):(i.arraycopy(e,a,t.linprebuf,MAX_ORDER,MAX_ORDER),i.arraycopy(u,h,t.rinprebuf,MAX_ORDER,MAX_ORDER));y>0;){g=y>t.sampleWindow-t.totsamp?t.sampleWindow-t.totsamp:y,b<MAX_ORDER?(p=t.linpre+b,m=t.linprebuf,_=t.rinpre+b,v=t.rinprebuf,g>MAX_ORDER-b&&(g=MAX_ORDER-b)):(p=a+b,m=e,_=h+b,v=u),s(m,p,t.lstepbuf,t.lstep+t.totsamp,g,n[t.reqindex]),s(v,_,t.rstepbuf,t.rstep+t.totsamp,g,n[t.reqindex]),l(t.lstepbuf,t.lstep+t.totsamp,t.loutbuf,t.lout+t.totsamp,g,r[t.reqindex]),l(t.rstepbuf,t.rstep+t.totsamp,t.routbuf,t.rout+t.totsamp,g,r[t.reqindex]),p=t.lout+t.totsamp,m=t.loutbuf,_=t.rout+t.totsamp,v=t.routbuf;for(var w=g%8;0!=w--;)t.lsum+=c(m[p++]),t.rsum+=c(v[_++]);for(w=g/8;0!=w--;)t.lsum+=c(m[p+0])+c(m[p+1])+c(m[p+2])+c(m[p+3])+c(m[p+4])+c(m[p+5])+c(m[p+6])+c(m[p+7]),p+=8,t.rsum+=c(v[_+0])+c(v[_+1])+c(v[_+2])+c(v[_+3])+c(v[_+4])+c(v[_+5])+c(v[_+6])+c(v[_+7]),_+=8;if(y-=g,b+=g,t.totsamp+=g,t.totsamp==t.sampleWindow){var x=10*o.STEPS_per_dB*Math.log10((t.lsum+t.rsum)/t.totsamp*.5+1e-37),S=x<=0?0:0|x;S>=t.A.length&&(S=t.A.length-1),t.A[S]++,t.lsum=t.rsum=0,i.arraycopy(t.loutbuf,t.totsamp,t.loutbuf,0,MAX_ORDER),i.arraycopy(t.routbuf,t.totsamp,t.routbuf,0,MAX_ORDER),i.arraycopy(t.lstepbuf,t.totsamp,t.lstepbuf,0,MAX_ORDER),i.arraycopy(t.rstepbuf,t.totsamp,t.rstepbuf,0,MAX_ORDER),t.totsamp=0}if(t.totsamp>t.sampleWindow)return GAIN_ANALYSIS_ERROR}return f<MAX_ORDER?(i.arraycopy(t.linprebuf,f,t.linprebuf,0,MAX_ORDER-f),i.arraycopy(t.rinprebuf,f,t.rinprebuf,0,MAX_ORDER-f),i.arraycopy(e,a,t.linprebuf,MAX_ORDER-f,f),i.arraycopy(u,h,t.rinprebuf,MAX_ORDER-f,f)):(i.arraycopy(e,a+f-MAX_ORDER,t.linprebuf,0,MAX_ORDER),i.arraycopy(u,h+f-MAX_ORDER,t.rinprebuf,0,MAX_ORDER)),GAIN_ANALYSIS_OK},this.GetTitleGain=function(t){for(var e=function(t,e){var n,r=0;for(n=0;n<e;n++)r+=t[n];if(0==r)return GAIN_NOT_ENOUGH_SAMPLES;var i=0|Math.ceil(r*(1-.95));for(n=e;n-- >0&&!((i-=t[n])<=0););return 64.82-n/o.STEPS_per_dB}(t.A,t.A.length),n=0;n<t.A.length;n++)t.B[n]+=t.A[n],t.A[n]=0;for(n=0;n<MAX_ORDER;n++)t.linprebuf[n]=t.lstepbuf[n]=t.loutbuf[n]=t.rinprebuf[n]=t.rstepbuf[n]=t.routbuf[n]=0;return t.totsamp=0,t.lsum=t.rsum=0,e}}r.new_array_n,r.new_byte,r.new_double,r.new_float,r.new_float_n,r.new_int,r.new_int_n,r.assert,o.STEPS_per_dB=100,o.MAX_dB=120,o.GAIN_NOT_ENOUGH_SAMPLES=-24601,o.GAIN_ANALYSIS_ERROR=0,o.GAIN_ANALYSIS_OK=1,o.INIT_GAIN_ANALYSIS_ERROR=0,o.INIT_GAIN_ANALYSIS_OK=1,o.YULE_ORDER=10,o.MAX_ORDER=o.YULE_ORDER,o.MAX_SAMP_FREQ=48e3,o.RMS_WINDOW_TIME_NUMERATOR=1,o.RMS_WINDOW_TIME_DENOMINATOR=20,o.MAX_SAMPLES_PER_WINDOW=o.MAX_SAMP_FREQ*o.RMS_WINDOW_TIME_NUMERATOR/o.RMS_WINDOW_TIME_DENOMINATOR+1,t.exports=o},1324:(t,e,n)=>{var r=n(7348),i=(r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double,r.new_float),a=(r.new_float_n,r.new_int),o=(r.new_int_n,r.assert,n(1331));t.exports=function(){this.xr=i(576),this.l3_enc=a(576),this.scalefac=a(o.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=a(3),this.subblock_gain=a(4),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=a(o.SFBMAX),this.window=a(o.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=a(4),this.max_nonzero_coeff=0;var t=this;function e(t){return new Int32Array(t)}this.assign=function(n){var r;t.xr=(r=n.xr,new Float32Array(r)),t.l3_enc=e(n.l3_enc),t.scalefac=e(n.scalefac),t.xrpow_max=n.xrpow_max,t.part2_3_length=n.part2_3_length,t.big_values=n.big_values,t.count1=n.count1,t.global_gain=n.global_gain,t.scalefac_compress=n.scalefac_compress,t.block_type=n.block_type,t.mixed_block_flag=n.mixed_block_flag,t.table_select=e(n.table_select),t.subblock_gain=e(n.subblock_gain),t.region0_count=n.region0_count,t.region1_count=n.region1_count,t.preflag=n.preflag,t.scalefac_scale=n.scalefac_scale,t.count1table_select=n.count1table_select,t.part2_length=n.part2_length,t.sfb_lmax=n.sfb_lmax,t.sfb_smin=n.sfb_smin,t.psy_lmax=n.psy_lmax,t.sfbmax=n.sfbmax,t.psymax=n.psymax,t.sfbdivide=n.sfbdivide,t.width=e(n.width),t.window=e(n.window),t.count1bits=n.count1bits,t.sfb_partition_table=n.sfb_partition_table.slice(0),t.slen=e(n.slen),t.max_nonzero_coeff=n.max_nonzero_coeff}}},3871:(t,e,n)=>{var r=n(7348),i=(r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double,r.new_float,r.new_float_n,r.new_int),a=(r.new_int_n,r.assert,n(1324));t.exports=function(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[i(4),i(4)];for(var t=0;t<2;t++)for(var e=0;e<2;e++)this.tt[t][e]=new a}},4787:(t,e,n)=>{var r=n(3786);t.exports=function(){this.thm=new r,this.en=new r}},3786:(t,e,n)=>{var r=n(4621),i=n(7348),a=i.System,o=(i.VbrMode,i.Float,i.ShortBlock,i.Util,i.Arrays,i.new_array_n,i.new_byte,i.new_double,i.new_float),s=i.new_float_n;i.new_int,i.new_int_n,i.assert,t.exports=function(){this.l=o(r.SBMAX_l),this.s=s([r.SBMAX_s,3]);var t=this;this.assign=function(e){a.arraycopy(e.l,0,t.l,0,r.SBMAX_l);for(var n=0;n<r.SBMAX_s;n++)for(var i=0;i<3;i++)t.s[n][i]=e.s[n][i]}}},1331:(t,e,n)=>{var r=n(4621),i={};i.SFBMAX=3*r.SBMAX_s,t.exports=i},8476:(t,e,n)=>{var r=n(7348),i=r.System,a=r.VbrMode,o=(r.Float,r.ShortBlock),s=(r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double,r.new_float),l=(r.new_float_n,r.new_int,r.new_int_n),c=r.new_short_n,u=r.assert,h=n(6400),f=n(1396),d=n(4498),p=n(8706),m=n(4149),_=n(9283),v=n(4002),y=n(1632),g=n(4621);t.exports=function t(){var e,r,b,w,x,S=n(8551),E=this;t.V9=410,t.V8=420,t.V7=430,t.V6=440,t.V5=450,t.V4=460,t.V3=470,t.V2=480,t.V1=490,t.V0=500,t.R3MIX=1e3,t.STANDARD=1001,t.EXTREME=1002,t.INSANE=1003,t.STANDARD_FAST=1004,t.EXTREME_FAST=1005,t.MEDIUM=1006,t.MEDIUM_FAST=1007,t.LAME_MAXMP3BUFFER=147456;var A,T,R,M=new h;function k(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=s(g.SBMAX_l),this.bo_s_weight=s(g.SBMAX_s)}function P(){this.lowerlimit=0}function B(t,e){this.lowpass=e}this.enc=new g,this.setModules=function(t,n,i,a,o,s,l,c,u){e=t,r=n,b=i,w=a,x=o,A=s,T=c,R=u,this.enc.setModules(r,M,w,A)};var L=4294479419;function V(t){return t>1?0:t<=0?1:Math.cos(Math.PI/2*t)}function O(t,e){switch(t){case 44100:return e.version=1,0;case 48e3:return e.version=1,1;case 32e3:return e.version=1,2;case 22050:case 11025:return e.version=0,0;case 24e3:case 12e3:return e.version=0,1;case 16e3:case 8e3:return e.version=0,2;default:return e.version=0,-1}}function N(t,e,n){n<16e3&&(e=2);for(var r=y.bitrate_table[e][1],i=2;i<=14;i++)y.bitrate_table[e][i]>0&&Math.abs(y.bitrate_table[e][i]-t)<Math.abs(r-t)&&(r=y.bitrate_table[e][i]);return r}function C(t,e,n){n<16e3&&(e=2);for(var r=0;r<=14;r++)if(y.bitrate_table[e][r]>0&&y.bitrate_table[e][r]==t)return r;return-1}function I(t,e){var n=[new B(8,2e3),new B(16,3700),new B(24,3900),new B(32,5500),new B(40,7e3),new B(48,7500),new B(56,1e4),new B(64,11e3),new B(80,13500),new B(96,15100),new B(112,15600),new B(128,17e3),new B(160,17500),new B(192,18600),new B(224,19400),new B(256,19700),new B(320,20500)],r=E.nearestBitrateFullIndex(e);t.lowerlimit=n[r].lowpass}function D(t){var e=g.BLKSIZE+t.framesize-g.FFTOFFSET;return e=Math.max(e,512+t.framesize-32),u(d.MFSIZE>=e),e}function j(t,e,n,r,i,a){var o=E.enc.lame_encode_mp3_frame(t,e,n,r,i,a);return t.frameNum++,o}function F(){this.n_in=0,this.n_out=0}function H(){this.num_used=0}function q(t,e){return 0!=e?q(e,t%e):t}function X(t,e,n){var r=Math.PI*e;(t/=n)<0&&(t=0),t>1&&(t=1);var i=t-.5,a=.42-.5*Math.cos(2*t*Math.PI)+.08*Math.cos(4*t*Math.PI);return Math.abs(i)<1e-9?r/Math.PI:a*Math.sin(n*r*i)/(Math.PI*n*i)}function Y(t,e,n,r,i,a,o,l,c){var h,f,p=t.internal_flags,m=0,_=t.out_samplerate/q(t.out_samplerate,t.in_samplerate);_>d.BPC&&(_=d.BPC);var v=Math.abs(p.resample_ratio-Math.floor(.5+p.resample_ratio))<1e-4?1:0,y=1/p.resample_ratio;y>1&&(y=1);var g=31;0==g%2&&--g;var b=(g+=v)+1;if(0==p.fill_buffer_resample_init){for(p.inbuf_old[0]=s(b),p.inbuf_old[1]=s(b),h=0;h<=2*_;++h)p.blackfilt[h]=s(b);for(p.itime[0]=0,p.itime[1]=0,m=0;m<=2*_;m++){var w=0,x=(m-_)/(2*_);for(h=0;h<=g;h++)w+=p.blackfilt[m][h]=X(h-x,y,g);for(h=0;h<=g;h++)p.blackfilt[m][h]/=w}p.fill_buffer_resample_init=1}var S=p.inbuf_old[c];for(f=0;f<r;f++){var E,A;if(E=f*p.resample_ratio,g+(m=0|Math.floor(E-p.itime[c]))-g/2>=o)break;x=E-p.itime[c]-(m+g%2*.5),u(Math.abs(x)<=.501),A=0|Math.floor(2*x*_+_+.5);var T=0;for(h=0;h<=g;++h){var R=0|h+m-g/2;u(R<o),u(R+b>=0),T+=(R<0?S[b+R]:i[a+R])*p.blackfilt[A][h]}e[n+f]=T}if(l.num_used=Math.min(o,g+m-g/2),p.itime[c]+=l.num_used-f*p.resample_ratio,l.num_used>=b)for(h=0;h<b;h++)S[h]=i[a+l.num_used+h-b];else{var M=b-l.num_used;for(h=0;h<M;++h)S[h]=S[h+l.num_used];for(m=0;h<b;++h,++m)S[h]=i[a+m];u(m==l.num_used)}return f}function U(t,e,n,r,i,a){var o=t.internal_flags;if(o.resample_ratio<.9999||o.resample_ratio>1.0001)for(var s=0;s<o.channels_out;s++){var l=new H;a.n_out=Y(t,e[s],o.mf_size,t.framesize,n[s],r,i,l,s),a.n_in=l.num_used}else{a.n_out=Math.min(t.framesize,i),a.n_in=a.n_out;for(var c=0;c<a.n_out;++c)e[0][o.mf_size+c]=n[0][r+c],2==o.channels_out&&(e[1][o.mf_size+c]=n[1][r+c])}}this.lame_init=function(){var t=new f,e=function(t){var e;return t.class_id=L,e=t.internal_flags=new d,t.mode=S.NOT_SET,t.original=1,t.in_samplerate=44100,t.num_channels=2,t.num_samples=-1,t.bWriteVbrTag=!0,t.quality=-1,t.short_blocks=null,e.subblock_gain=-1,t.lowpassfreq=0,t.highpassfreq=0,t.lowpasswidth=-1,t.highpasswidth=-1,t.VBR=a.vbr_off,t.VBR_q=4,t.ATHcurve=-1,t.VBR_mean_bitrate_kbps=128,t.VBR_min_bitrate_kbps=0,t.VBR_max_bitrate_kbps=0,t.VBR_hard_min=0,e.VBR_min_bitrate=1,e.VBR_max_bitrate=13,t.quant_comp=-1,t.quant_comp_short=-1,t.msfix=-1,e.resample_ratio=1,e.OldValue[0]=180,e.OldValue[1]=180,e.CurrentStep[0]=4,e.CurrentStep[1]=4,e.masking_lower=1,e.nsPsy.attackthre=-1,e.nsPsy.attackthre_s=-1,t.scale=-1,t.athaa_type=-1,t.ATHtype=-1,t.athaa_loudapprox=-1,t.athaa_sensitivity=0,t.useTemporal=null,t.interChRatio=-1,e.mf_samples_to_encode=g.ENCDELAY+g.POSTDELAY,t.encoder_padding=0,e.mf_size=g.ENCDELAY-g.MDCTDELAY,t.findReplayGain=!1,t.decode_on_the_fly=!1,e.decode_on_the_fly=!1,e.findReplayGain=!1,e.findPeakSample=!1,e.RadioGain=0,e.AudiophileGain=0,e.noclipGainChange=0,e.noclipScale=-1,t.preset=0,t.write_id3tag_automatic=!0,0}(t);return 0!=e?null:(t.lame_allocated_gfp=1,t)},this.nearestBitrateFullIndex=function(t){var e=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],n=0,r=0,i=0,a=0;a=e[16],i=16,r=e[16],n=16;for(var o=0;o<16;o++)if(Math.max(t,e[o+1])!=t){a=e[o+1],i=o+1,r=e[o],n=o;break}return a-t>t-r?n:i},this.lame_init_params=function(t){var n,s,c,f=t.internal_flags;if(f.Class_ID=0,null==f.ATH&&(f.ATH=new p),null==f.PSY&&(f.PSY=new k),null==f.rgdata&&(f.rgdata=new m),f.channels_in=t.num_channels,1==f.channels_in&&(t.mode=S.MONO),f.channels_out=t.mode==S.MONO?1:2,f.mode_ext=g.MPG_MD_MS_LR,t.mode==S.MONO&&(t.force_ms=!1),t.VBR==a.vbr_off&&128!=t.VBR_mean_bitrate_kbps&&0==t.brate&&(t.brate=t.VBR_mean_bitrate_kbps),t.VBR==a.vbr_off||t.VBR==a.vbr_mtrh||t.VBR==a.vbr_mt||(t.free_format=!1),t.VBR==a.vbr_off&&0==t.brate&&v.EQ(t.compression_ratio,0)&&(t.compression_ratio=11.025),t.VBR==a.vbr_off&&t.compression_ratio>0&&(0==t.out_samplerate&&(t.out_samplerate=map2MP3Frequency(int(.97*t.in_samplerate))),t.brate=0|16*t.out_samplerate*f.channels_out/(1e3*t.compression_ratio),f.samplerate_index=O(t.out_samplerate,t),t.free_format||(t.brate=N(t.brate,t.version,t.out_samplerate))),0!=t.out_samplerate&&(t.out_samplerate<16e3?(t.VBR_mean_bitrate_kbps=Math.max(t.VBR_mean_bitrate_kbps,8),t.VBR_mean_bitrate_kbps=Math.min(t.VBR_mean_bitrate_kbps,64)):t.out_samplerate<32e3?(t.VBR_mean_bitrate_kbps=Math.max(t.VBR_mean_bitrate_kbps,8),t.VBR_mean_bitrate_kbps=Math.min(t.VBR_mean_bitrate_kbps,160)):(t.VBR_mean_bitrate_kbps=Math.max(t.VBR_mean_bitrate_kbps,32),t.VBR_mean_bitrate_kbps=Math.min(t.VBR_mean_bitrate_kbps,320))),0==t.lowpassfreq){var d=16e3;switch(t.VBR){case a.vbr_off:I(E=new P,t.brate),d=E.lowerlimit;break;case a.vbr_abr:var E;I(E=new P,t.VBR_mean_bitrate_kbps),d=E.lowerlimit;break;case a.vbr_rh:var B=[19500,19e3,18600,18e3,17500,16e3,15600,14900,12500,1e4,3950];if(0<=t.VBR_q&&t.VBR_q<=9){var D=B[t.VBR_q],j=B[t.VBR_q+1],F=t.VBR_q_frac;d=linear_int(D,j,F)}else d=19500;break;default:B=[19500,19e3,18500,18e3,17500,16500,15500,14500,12500,9500,3950],0<=t.VBR_q&&t.VBR_q<=9?(D=B[t.VBR_q],j=B[t.VBR_q+1],F=t.VBR_q_frac,d=linear_int(D,j,F)):d=19500}t.mode!=S.MONO||t.VBR!=a.vbr_off&&t.VBR!=a.vbr_abr||(d*=1.5),t.lowpassfreq=0|d}if(0==t.out_samplerate&&(2*t.lowpassfreq>t.in_samplerate&&(t.lowpassfreq=t.in_samplerate/2),t.out_samplerate=(n=0|t.lowpassfreq,c=44100,(s=t.in_samplerate)>=48e3?c=48e3:s>=44100?c=44100:s>=32e3?c=32e3:s>=24e3?c=24e3:s>=22050?c=22050:s>=16e3?c=16e3:s>=12e3?c=12e3:s>=11025?c=11025:s>=8e3&&(c=8e3),-1==n?c:(n<=15960&&(c=44100),n<=15250&&(c=32e3),n<=11220&&(c=24e3),n<=9970&&(c=22050),n<=7230&&(c=16e3),n<=5420&&(c=12e3),n<=4510&&(c=11025),n<=3970&&(c=8e3),s<c?s>44100?48e3:s>32e3?44100:s>24e3?32e3:s>22050?24e3:s>16e3?22050:s>12e3?16e3:s>11025?12e3:s>8e3?11025:8e3:c))),t.lowpassfreq=Math.min(20500,t.lowpassfreq),t.lowpassfreq=Math.min(t.out_samplerate/2,t.lowpassfreq),t.VBR==a.vbr_off&&(t.compression_ratio=16*t.out_samplerate*f.channels_out/(1e3*t.brate)),t.VBR==a.vbr_abr&&(t.compression_ratio=16*t.out_samplerate*f.channels_out/(1e3*t.VBR_mean_bitrate_kbps)),t.bWriteVbrTag||(t.findReplayGain=!1,t.decode_on_the_fly=!1,f.findPeakSample=!1),f.findReplayGain=t.findReplayGain,f.decode_on_the_fly=t.decode_on_the_fly,f.decode_on_the_fly&&(f.findPeakSample=!0),f.findReplayGain&&e.InitGainAnalysis(f.rgdata,t.out_samplerate)==GainAnalysis.INIT_GAIN_ANALYSIS_ERROR)return t.internal_flags=null,-6;switch(f.decode_on_the_fly&&!t.decode_only&&(null!=f.hip&&R.hip_decode_exit(f.hip),f.hip=R.hip_decode_init()),f.mode_gr=t.out_samplerate<=24e3?1:2,t.framesize=576*f.mode_gr,t.encoder_delay=g.ENCDELAY,f.resample_ratio=t.in_samplerate/t.out_samplerate,t.VBR){case a.vbr_mt:case a.vbr_rh:case a.vbr_mtrh:t.compression_ratio=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5][t.VBR_q];break;case a.vbr_abr:t.compression_ratio=16*t.out_samplerate*f.channels_out/(1e3*t.VBR_mean_bitrate_kbps);break;default:t.compression_ratio=16*t.out_samplerate*f.channels_out/(1e3*t.brate)}if(t.mode==S.NOT_SET&&(t.mode=S.JOINT_STEREO),t.highpassfreq>0?(f.highpass1=2*t.highpassfreq,t.highpasswidth>=0?f.highpass2=2*(t.highpassfreq+t.highpasswidth):f.highpass2=2*t.highpassfreq,f.highpass1/=t.out_samplerate,f.highpass2/=t.out_samplerate):(f.highpass1=0,f.highpass2=0),t.lowpassfreq>0?(f.lowpass2=2*t.lowpassfreq,t.lowpasswidth>=0?(f.lowpass1=2*(t.lowpassfreq-t.lowpasswidth),f.lowpass1<0&&(f.lowpass1=0)):f.lowpass1=2*t.lowpassfreq,f.lowpass1/=t.out_samplerate,f.lowpass2/=t.out_samplerate):(f.lowpass1=0,f.lowpass2=0),function(t){var e=t.internal_flags,n=32,r=-1;if(e.lowpass1>0){for(var a=999,o=0;o<=31;o++)(u=o/31)>=e.lowpass2&&(n=Math.min(n,o)),e.lowpass1<u&&u<e.lowpass2&&(a=Math.min(a,o));e.lowpass1=999==a?(n-.75)/31:(a-.75)/31,e.lowpass2=n/31}if(e.highpass2>0&&e.highpass2<.75/31*.9&&(e.highpass1=0,e.highpass2=0,i.err.println("Warning: highpass filter disabled.  highpass frequency too small\n")),e.highpass2>0){var s=-1;for(o=0;o<=31;o++)(u=o/31)<=e.highpass1&&(r=Math.max(r,o)),e.highpass1<u&&u<e.highpass2&&(s=Math.max(s,o));e.highpass1=r/31,e.highpass2=-1==s?(r+.75)/31:(s+.75)/31}for(o=0;o<32;o++){var l,c,u=o/31;l=e.highpass2>e.highpass1?V((e.highpass2-u)/(e.highpass2-e.highpass1+1e-20)):1,c=e.lowpass2>e.lowpass1?V((u-e.lowpass1)/(e.lowpass2-e.lowpass1+1e-20)):1,e.amp_filter[o]=l*c}}(t),f.samplerate_index=O(t.out_samplerate,t),f.samplerate_index<0)return t.internal_flags=null,-1;if(t.VBR==a.vbr_off){if(t.free_format)f.bitrate_index=0;else if(t.brate=N(t.brate,t.version,t.out_samplerate),f.bitrate_index=C(t.brate,t.version,t.out_samplerate),f.bitrate_index<=0)return t.internal_flags=null,-1}else f.bitrate_index=1;t.analysis&&(t.bWriteVbrTag=!1),null!=f.pinfo&&(t.bWriteVbrTag=!1),r.init_bit_stream_w(f);for(var H,q=f.samplerate_index+3*t.version+6*(t.out_samplerate<16e3?1:0),X=0;X<g.SBMAX_l+1;X++)f.scalefac_band.l[X]=w.sfBandIndex[q].l[X];for(X=0;X<g.PSFB21+1;X++){var Y=(f.scalefac_band.l[22]-f.scalefac_band.l[21])/g.PSFB21,U=f.scalefac_band.l[21]+X*Y;f.scalefac_band.psfb21[X]=U}for(f.scalefac_band.psfb21[g.PSFB21]=576,X=0;X<g.SBMAX_s+1;X++)f.scalefac_band.s[X]=w.sfBandIndex[q].s[X];for(X=0;X<g.PSFB12+1;X++)Y=(f.scalefac_band.s[13]-f.scalefac_band.s[12])/g.PSFB12,U=f.scalefac_band.s[12]+X*Y,f.scalefac_band.psfb12[X]=U;for(f.scalefac_band.psfb12[g.PSFB12]=192,1==t.version?f.sideinfo_len=1==f.channels_out?21:36:f.sideinfo_len=1==f.channels_out?13:21,t.error_protection&&(f.sideinfo_len+=2),function(t){var e=t.internal_flags;t.frameNum=0,t.write_id3tag_automatic&&T.id3tag_write_v2(t),e.bitrate_stereoMode_Hist=l([16,5]),e.bitrate_blockType_Hist=l([16,6]),e.PeakSample=0,t.bWriteVbrTag&&A.InitVbrTag(t)}(t),f.Class_ID=L,H=0;H<19;H++)f.nsPsy.pefirbuf[H]=700*f.mode_gr*f.channels_out;switch(-1==t.ATHtype&&(t.ATHtype=4),u(t.VBR_q<=9),u(t.VBR_q>=0),t.VBR){case a.vbr_mt:t.VBR=a.vbr_mtrh;case a.vbr_mtrh:null==t.useTemporal&&(t.useTemporal=!1),b.apply_preset(t,500-10*t.VBR_q,0),t.quality<0&&(t.quality=LAME_DEFAULT_QUALITY),t.quality<5&&(t.quality=0),t.quality>5&&(t.quality=5),f.PSY.mask_adjust=t.maskingadjust,f.PSY.mask_adjust_short=t.maskingadjust_short,t.experimentalY?f.sfb21_extra=!1:f.sfb21_extra=t.out_samplerate>44e3,f.iteration_loop=new VBRNewIterationLoop(x);break;case a.vbr_rh:b.apply_preset(t,500-10*t.VBR_q,0),f.PSY.mask_adjust=t.maskingadjust,f.PSY.mask_adjust_short=t.maskingadjust_short,t.experimentalY?f.sfb21_extra=!1:f.sfb21_extra=t.out_samplerate>44e3,t.quality>6&&(t.quality=6),t.quality<0&&(t.quality=LAME_DEFAULT_QUALITY),f.iteration_loop=new VBROldIterationLoop(x);break;default:var G;f.sfb21_extra=!1,t.quality<0&&(t.quality=LAME_DEFAULT_QUALITY),(G=t.VBR)==a.vbr_off&&(t.VBR_mean_bitrate_kbps=t.brate),b.apply_preset(t,t.VBR_mean_bitrate_kbps,0),t.VBR=G,f.PSY.mask_adjust=t.maskingadjust,f.PSY.mask_adjust_short=t.maskingadjust_short,G==a.vbr_off?f.iteration_loop=new _(x):f.iteration_loop=new ABRIterationLoop(x)}if(u(t.scale>=0),t.VBR!=a.vbr_off){if(f.VBR_min_bitrate=1,f.VBR_max_bitrate=14,t.out_samplerate<16e3&&(f.VBR_max_bitrate=8),0!=t.VBR_min_bitrate_kbps&&(t.VBR_min_bitrate_kbps=N(t.VBR_min_bitrate_kbps,t.version,t.out_samplerate),f.VBR_min_bitrate=C(t.VBR_min_bitrate_kbps,t.version,t.out_samplerate),f.VBR_min_bitrate<0))return-1;if(0!=t.VBR_max_bitrate_kbps&&(t.VBR_max_bitrate_kbps=N(t.VBR_max_bitrate_kbps,t.version,t.out_samplerate),f.VBR_max_bitrate=C(t.VBR_max_bitrate_kbps,t.version,t.out_samplerate),f.VBR_max_bitrate<0))return-1;t.VBR_min_bitrate_kbps=y.bitrate_table[t.version][f.VBR_min_bitrate],t.VBR_max_bitrate_kbps=y.bitrate_table[t.version][f.VBR_max_bitrate],t.VBR_mean_bitrate_kbps=Math.min(y.bitrate_table[t.version][f.VBR_max_bitrate],t.VBR_mean_bitrate_kbps),t.VBR_mean_bitrate_kbps=Math.max(y.bitrate_table[t.version][f.VBR_min_bitrate],t.VBR_mean_bitrate_kbps)}return t.tune&&(f.PSY.mask_adjust+=t.tune_value_a,f.PSY.mask_adjust_short+=t.tune_value_a),function(t){var e=t.internal_flags;switch(t.quality){default:case 9:e.psymodel=0,e.noise_shaping=0,e.noise_shaping_amp=0,e.noise_shaping_stop=0,e.use_best_huffman=0,e.full_outer_loop=0;break;case 8:t.quality=7;case 7:e.psymodel=1,e.noise_shaping=0,e.noise_shaping_amp=0,e.noise_shaping_stop=0,e.use_best_huffman=0,e.full_outer_loop=0;break;case 6:case 5:e.psymodel=1,0==e.noise_shaping&&(e.noise_shaping=1),e.noise_shaping_amp=0,e.noise_shaping_stop=0,-1==e.subblock_gain&&(e.subblock_gain=1),e.use_best_huffman=0,e.full_outer_loop=0;break;case 4:e.psymodel=1,0==e.noise_shaping&&(e.noise_shaping=1),e.noise_shaping_amp=0,e.noise_shaping_stop=0,-1==e.subblock_gain&&(e.subblock_gain=1),e.use_best_huffman=1,e.full_outer_loop=0;break;case 3:e.psymodel=1,0==e.noise_shaping&&(e.noise_shaping=1),e.noise_shaping_amp=1,e.noise_shaping_stop=1,-1==e.subblock_gain&&(e.subblock_gain=1),e.use_best_huffman=1,e.full_outer_loop=0;break;case 2:e.psymodel=1,0==e.noise_shaping&&(e.noise_shaping=1),0==e.substep_shaping&&(e.substep_shaping=2),e.noise_shaping_amp=1,e.noise_shaping_stop=1,-1==e.subblock_gain&&(e.subblock_gain=1),e.use_best_huffman=1,e.full_outer_loop=0;break;case 1:case 0:e.psymodel=1,0==e.noise_shaping&&(e.noise_shaping=1),0==e.substep_shaping&&(e.substep_shaping=2),e.noise_shaping_amp=2,e.noise_shaping_stop=1,-1==e.subblock_gain&&(e.subblock_gain=1),e.use_best_huffman=1,e.full_outer_loop=0}}(t),u(t.scale>=0),t.athaa_type<0?f.ATH.useAdjust=3:f.ATH.useAdjust=t.athaa_type,f.ATH.aaSensitivityP=Math.pow(10,t.athaa_sensitivity/-10),null==t.short_blocks&&(t.short_blocks=o.short_block_allowed),t.short_blocks!=o.short_block_allowed||t.mode!=S.JOINT_STEREO&&t.mode!=S.STEREO||(t.short_blocks=o.short_block_coupled),t.quant_comp<0&&(t.quant_comp=1),t.quant_comp_short<0&&(t.quant_comp_short=0),t.msfix<0&&(t.msfix=0),t.exp_nspsytune=1|t.exp_nspsytune,t.internal_flags.nsPsy.attackthre<0&&(t.internal_flags.nsPsy.attackthre=h.NSATTACKTHRE),t.internal_flags.nsPsy.attackthre_s<0&&(t.internal_flags.nsPsy.attackthre_s=h.NSATTACKTHRE_S),u(t.scale>=0),t.scale<0&&(t.scale=1),t.ATHtype<0&&(t.ATHtype=4),t.ATHcurve<0&&(t.ATHcurve=4),t.athaa_loudapprox<0&&(t.athaa_loudapprox=2),t.interChRatio<0&&(t.interChRatio=0),null==t.useTemporal&&(t.useTemporal=!0),f.slot_lag=f.frac_SpF=0,t.VBR==a.vbr_off&&(f.slot_lag=f.frac_SpF=72e3*(t.version+1)*t.brate%t.out_samplerate|0),w.iteration_init(t),M.psymodel_init(t),u(t.scale>=0),0},this.lame_encode_flush=function(t,e,n,i){var a,o,s,l,u=t.internal_flags,h=c([2,1152]),f=0,d=u.mf_samples_to_encode-g.POSTDELAY,p=D(t);if(u.mf_samples_to_encode<1)return 0;for(a=0,t.in_samplerate!=t.out_samplerate&&(d+=16*t.out_samplerate/t.in_samplerate),(s=t.framesize-d%t.framesize)<576&&(s+=t.framesize),t.encoder_padding=s,l=(d+s)/t.framesize;l>0&&f>=0;){var m=p-u.mf_size,_=t.frameNum;m*=t.in_samplerate,(m/=t.out_samplerate)>1152&&(m=1152),m<1&&(m=1),o=i-a,0==i&&(o=0),n+=f=this.lame_encode_buffer(t,h[0],h[1],m,e,n,o),a+=f,l-=_!=t.frameNum?1:0}if(u.mf_samples_to_encode=0,f<0)return f;if(o=i-a,0==i&&(o=0),r.flush_bitstream(t),(f=r.copy_buffer(u,e,n,o,1))<0)return f;if(n+=f,o=i-(a+=f),0==i&&(o=0),t.write_id3tag_automatic){if(T.id3tag_write_v1(t),(f=r.copy_buffer(u,e,n,o,0))<0)return f;a+=f}return a},this.lame_encode_buffer=function(t,n,i,a,o,l,c){var h=t.internal_flags,f=[null,null];if(h.Class_ID!=L)return-3;if(0==a)return 0;!function(t,e){(null==t.in_buffer_0||t.in_buffer_nsamples<e)&&(t.in_buffer_0=s(e),t.in_buffer_1=s(e),t.in_buffer_nsamples=e)}(h,a),f[0]=h.in_buffer_0,f[1]=h.in_buffer_1;for(var p=0;p<a;p++)f[0][p]=n[p],h.channels_in>1&&(f[1][p]=i[p]);return function(t,n,i,a,o,s,l){var c,h,f,p,m,_=t.internal_flags,y=0,b=[null,null],w=[null,null];if(_.Class_ID!=L)return-3;if(0==a)return 0;if((m=r.copy_buffer(_,o,s,l,0))<0)return m;if(s+=m,y+=m,w[0]=n,w[1]=i,v.NEQ(t.scale,0)&&v.NEQ(t.scale,1))for(h=0;h<a;++h)w[0][h]*=t.scale,2==_.channels_out&&(w[1][h]*=t.scale);if(v.NEQ(t.scale_left,0)&&v.NEQ(t.scale_left,1))for(h=0;h<a;++h)w[0][h]*=t.scale_left;if(v.NEQ(t.scale_right,0)&&v.NEQ(t.scale_right,1))for(h=0;h<a;++h)w[1][h]*=t.scale_right;if(2==t.num_channels&&1==_.channels_out)for(h=0;h<a;++h)w[0][h]=.5*(w[0][h]+w[1][h]),w[1][h]=0;p=D(t),b[0]=_.mfbuf[0],b[1]=_.mfbuf[1];for(var x=0;a>0;){var S,E,A=[null,null];A[0]=w[0],A[1]=w[1];var T=new F;if(U(t,b,A,x,a,T),S=T.n_in,E=T.n_out,_.findReplayGain&&!_.decode_on_the_fly&&e.AnalyzeSamples(_.rgdata,b[0],_.mf_size,b[1],_.mf_size,E,_.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6;if(a-=S,x+=S,_.channels_out,_.mf_size+=E,u(_.mf_size<=d.MFSIZE),_.mf_samples_to_encode<1&&(_.mf_samples_to_encode=g.ENCDELAY+g.POSTDELAY),_.mf_samples_to_encode+=E,_.mf_size>=p){var R=l-y;if(0==l&&(R=0),(c=j(t,b[0],b[1],o,s,R))<0)return c;for(s+=c,y+=c,_.mf_size-=t.framesize,_.mf_samples_to_encode-=t.framesize,f=0;f<_.channels_out;f++)for(h=0;h<_.mf_size;h++)b[f][h]=b[f][h+t.framesize]}}return u(0==a),y}(t,f[0],f[1],a,o,l,c)}}},1396:(t,e,n)=>{var r=n(8551);t.exports=function(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=r.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null}},4498:(t,e,n)=>{var r=n(7348),i=(r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte),a=r.new_double,o=r.new_float,s=r.new_float_n,l=r.new_int,c=r.new_int_n,u=(r.assert,n(3871)),h=n(2613),f=n(6568),d=n(3511),p=n(3786),m=n(4621),_=n(1331);function v(){function t(){this.write_timing=0,this.ptr=0,this.buf=i(40)}this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=s([2,v.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new u,this.ms_ratio=o(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=l(2),this.CurrentStep=l(2),this.masking_lower=0,this.bv_scf=l(576),this.pseudohalf=l(_.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*v.BPC+1),this.itime=a(2),this.sideinfo_len=0,this.sb_sample=s([2,2,18,m.SBLIMIT]),this.amp_filter=o(32),this.header=new Array(v.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new h,this.minval_l=o(m.CBANDS),this.minval_s=o(m.CBANDS),this.nb_1=s([4,m.CBANDS]),this.nb_2=s([4,m.CBANDS]),this.nb_s1=s([4,m.CBANDS]),this.nb_s2=s([4,m.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=o(4),this.loudness_sq=s([2,2]),this.loudness_sq_save=o(2),this.mld_l=o(m.SBMAX_l),this.mld_s=o(m.SBMAX_s),this.bm_l=l(m.SBMAX_l),this.bo_l=l(m.SBMAX_l),this.bm_s=l(m.SBMAX_s),this.bo_s=l(m.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=c([m.CBANDS,2]),this.s3ind_s=c([m.CBANDS,2]),this.numlines_s=l(m.CBANDS),this.numlines_l=l(m.CBANDS),this.rnumlines_l=o(m.CBANDS),this.mld_cb_l=o(m.CBANDS),this.mld_cb_s=o(m.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=o(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=l(2),this.nsPsy=new f,this.VBR_seek_table=new d,this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=c([16,5]),this.bitrate_blockType_Hist=c([16,6]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var e=0;e<this.en.length;e++)this.en[e]=new p;for(e=0;e<this.thm.length;e++)this.thm[e]=new p;for(e=0;e<this.header.length;e++)this.header[e]=new t}v.MFSIZE=3456+m.ENCDELAY-m.MDCTDELAY,v.MAX_HEADER_BUF=256,v.MAX_BITS_PER_CHANNEL=4095,v.MAX_BITS_PER_GRANULE=7680,v.BPC=320,t.exports=v},8551:t=>{function e(t){var e=t;this.ordinal=function(){return e}}e.STEREO=new e(0),e.JOINT_STEREO=new e(1),e.DUAL_CHANNEL=new e(2),e.MONO=new e(3),e.NOT_SET=new e(4),t.exports=e},532:t=>{t.exports=function(t){this.bits=t}},5993:(t,e,n)=>{var r=n(7348),i=r.System,a=(r.VbrMode,r.Float,r.ShortBlock,r.Util),o=r.Arrays,s=(r.new_array_n,r.new_byte,r.new_double,r.new_float),l=(r.new_float_n,r.new_int,r.new_int_n,r.assert,n(4621));t.exports=function(){var t=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*a.SQRT2*.5/2384e-9,.017876148*a.SQRT2*.5/2384e-9,.003134727*a.SQRT2*.5/2384e-9,.002457142*a.SQRT2*.5/2384e-9,971317e-9*a.SQRT2*.5/2384e-9,218868e-9*a.SQRT2*.5/2384e-9,101566e-9*a.SQRT2*.5/2384e-9,13828e-9*a.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,20.801593959731544,1995.1556208053692,9.000838926174497,-29.20218120805369],e=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],n=e[l.SHORT_TYPE],r=e[l.SHORT_TYPE],c=e[l.SHORT_TYPE],u=e[l.SHORT_TYPE],h=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function f(e,n,r){for(var i,o,s,l=10,c=n+238-14-286,u=-15;u<0;u++){var h,f,d;h=t[l+-10],f=e[c+-224]*h,d=e[n+224]*h,h=t[l+-9],f+=e[c+-160]*h,d+=e[n+160]*h,h=t[l+-8],f+=e[c+-96]*h,d+=e[n+96]*h,h=t[l+-7],f+=e[c+-32]*h,d+=e[n+32]*h,h=t[l+-6],f+=e[c+32]*h,d+=e[n+-32]*h,h=t[l+-5],f+=e[c+96]*h,d+=e[n+-96]*h,h=t[l+-4],f+=e[c+160]*h,d+=e[n+-160]*h,h=t[l+-3],f+=e[c+224]*h,d+=e[n+-224]*h,h=t[l+-2],f+=e[n+-256]*h,d-=e[c+256]*h,h=t[l+-1],f+=e[n+-192]*h,d-=e[c+192]*h,h=t[l+0],f+=e[n+-128]*h,d-=e[c+128]*h,h=t[l+1],f+=e[n+-64]*h,d-=e[c+64]*h,h=t[l+2],f+=e[n+0]*h,d-=e[c+0]*h,h=t[l+3],f+=e[n+64]*h,d-=e[c+-64]*h,h=t[l+4],f+=e[n+128]*h,d-=e[c+-128]*h,h=t[l+5],f+=e[n+192]*h,h=(d-=e[c+-192]*h)-(f*=t[l+6]),r[30+2*u]=d+f,r[31+2*u]=t[l+7]*h,l+=18,n--,c++}d=e[n+-16]*t[l+-10],f=e[n+-32]*t[l+-2],d+=(e[n+-48]-e[n+16])*t[l+-9],f+=e[n+-96]*t[l+-1],d+=(e[n+-80]+e[n+48])*t[l+-8],f+=e[n+-160]*t[l+0],d+=(e[n+-112]-e[n+80])*t[l+-7],f+=e[n+-224]*t[l+1],d+=(e[n+-144]+e[n+112])*t[l+-6],f-=e[n+32]*t[l+2],d+=(e[n+-176]-e[n+144])*t[l+-5],f-=e[n+96]*t[l+3],d+=(e[n+-208]+e[n+176])*t[l+-4],f-=e[n+160]*t[l+4],d+=(e[n+-240]-e[n+208])*t[l+-3],i=(f-=e[n+224])-d,o=f+d,d=r[14],f=r[15]-d,r[31]=o+d,r[30]=i+f,r[15]=i-f,r[14]=o-d,s=r[28]-r[0],r[0]+=r[28],r[28]=s*t[l+-36+7],s=r[29]-r[1],r[1]+=r[29],r[29]=s*t[l+-36+7],s=r[26]-r[2],r[2]+=r[26],r[26]=s*t[l+-72+7],s=r[27]-r[3],r[3]+=r[27],r[27]=s*t[l+-72+7],s=r[24]-r[4],r[4]+=r[24],r[24]=s*t[l+-108+7],s=r[25]-r[5],r[5]+=r[25],r[25]=s*t[l+-108+7],s=r[22]-r[6],r[6]+=r[22],r[22]=s*a.SQRT2,s=r[23]-r[7],r[7]+=r[23],r[23]=s*a.SQRT2-r[7],r[7]-=r[6],r[22]-=r[7],r[23]-=r[22],s=r[6],r[6]=r[31]-s,r[31]=r[31]+s,s=r[7],r[7]=r[30]-s,r[30]=r[30]+s,s=r[22],r[22]=r[15]-s,r[15]=r[15]+s,s=r[23],r[23]=r[14]-s,r[14]=r[14]+s,s=r[20]-r[8],r[8]+=r[20],r[20]=s*t[l+-180+7],s=r[21]-r[9],r[9]+=r[21],r[21]=s*t[l+-180+7],s=r[18]-r[10],r[10]+=r[18],r[18]=s*t[l+-216+7],s=r[19]-r[11],r[11]+=r[19],r[19]=s*t[l+-216+7],s=r[16]-r[12],r[12]+=r[16],r[16]=s*t[l+-252+7],s=r[17]-r[13],r[13]+=r[17],r[17]=s*t[l+-252+7],s=-r[20]+r[24],r[20]+=r[24],r[24]=s*t[l+-216+7],s=-r[21]+r[25],r[21]+=r[25],r[25]=s*t[l+-216+7],s=r[4]-r[8],r[4]+=r[8],r[8]=s*t[l+-216+7],s=r[5]-r[9],r[5]+=r[9],r[9]=s*t[l+-216+7],s=r[0]-r[12],r[0]+=r[12],r[12]=s*t[l+-72+7],s=r[1]-r[13],r[1]+=r[13],r[13]=s*t[l+-72+7],s=r[16]-r[28],r[16]+=r[28],r[28]=s*t[l+-72+7],s=-r[17]+r[29],r[17]+=r[29],r[29]=s*t[l+-72+7],s=a.SQRT2*(r[2]-r[10]),r[2]+=r[10],r[10]=s,s=a.SQRT2*(r[3]-r[11]),r[3]+=r[11],r[11]=s,s=a.SQRT2*(-r[18]+r[26]),r[18]+=r[26],r[26]=s-r[18],s=a.SQRT2*(-r[19]+r[27]),r[19]+=r[27],r[27]=s-r[19],s=r[2],r[19]-=r[3],r[3]-=s,r[2]=r[31]-s,r[31]+=s,s=r[3],r[11]-=r[19],r[18]-=s,r[3]=r[30]-s,r[30]+=s,s=r[18],r[27]-=r[11],r[19]-=s,r[18]=r[15]-s,r[15]+=s,s=r[19],r[10]-=s,r[19]=r[14]-s,r[14]+=s,s=r[10],r[11]-=s,r[10]=r[23]-s,r[23]+=s,s=r[11],r[26]-=s,r[11]=r[22]-s,r[22]+=s,s=r[26],r[27]-=s,r[26]=r[7]-s,r[7]+=s,s=r[27],r[27]=r[6]-s,r[6]+=s,s=a.SQRT2*(r[0]-r[4]),r[0]+=r[4],r[4]=s,s=a.SQRT2*(r[1]-r[5]),r[1]+=r[5],r[5]=s,s=a.SQRT2*(r[16]-r[20]),r[16]+=r[20],r[20]=s,s=a.SQRT2*(r[17]-r[21]),r[17]+=r[21],r[21]=s,s=-a.SQRT2*(r[8]-r[12]),r[8]+=r[12],r[12]=s-r[8],s=-a.SQRT2*(r[9]-r[13]),r[9]+=r[13],r[13]=s-r[9],s=-a.SQRT2*(r[25]-r[29]),r[25]+=r[29],r[29]=s-r[25],s=-a.SQRT2*(r[24]+r[28]),r[24]-=r[28],r[28]=s-r[24],s=r[24]-r[16],r[24]=s,s=r[20]-s,r[20]=s,s=r[28]-s,r[28]=s,s=r[25]-r[17],r[25]=s,s=r[21]-s,r[21]=s,s=r[29]-s,r[29]=s,s=r[17]-r[1],r[17]=s,s=r[9]-s,r[9]=s,s=r[25]-s,r[25]=s,s=r[5]-s,r[5]=s,s=r[21]-s,r[21]=s,s=r[13]-s,r[13]=s,s=r[29]-s,r[29]=s,s=r[1]-r[0],r[1]=s,s=r[16]-s,r[16]=s,s=r[17]-s,r[17]=s,s=r[8]-s,r[8]=s,s=r[9]-s,r[9]=s,s=r[24]-s,r[24]=s,s=r[25]-s,r[25]=s,s=r[4]-s,r[4]=s,s=r[5]-s,r[5]=s,s=r[20]-s,r[20]=s,s=r[21]-s,r[21]=s,s=r[12]-s,r[12]=s,s=r[13]-s,r[13]=s,s=r[28]-s,r[28]=s,s=r[29]-s,r[29]=s,s=r[0],r[0]+=r[31],r[31]-=s,s=r[1],r[1]+=r[30],r[30]-=s,s=r[16],r[16]+=r[15],r[15]-=s,s=r[17],r[17]+=r[14],r[14]-=s,s=r[8],r[8]+=r[23],r[23]-=s,s=r[9],r[9]+=r[22],r[22]-=s,s=r[24],r[24]+=r[7],r[7]-=s,s=r[25],r[25]+=r[6],r[6]-=s,s=r[4],r[4]+=r[27],r[27]-=s,s=r[5],r[5]+=r[26],r[26]-=s,s=r[20],r[20]+=r[11],r[11]-=s,s=r[21],r[21]+=r[10],r[10]-=s,s=r[12],r[12]+=r[19],r[19]-=s,s=r[13],r[13]+=r[18],r[18]-=s,s=r[28],r[28]+=r[3],r[3]-=s,s=r[29],r[29]+=r[2],r[2]-=s}function d(t,n){for(var r=0;r<3;r++){var i,a,o,s,c,u;a=(s=t[n+6]*e[l.SHORT_TYPE][0]-t[n+15])+(i=t[n+0]*e[l.SHORT_TYPE][2]-t[n+9]),o=s-i,c=(s=t[n+15]*e[l.SHORT_TYPE][0]+t[n+6])+(i=t[n+9]*e[l.SHORT_TYPE][2]+t[n+0]),u=-s+i,i=2069978111953089e-26*(t[n+3]*e[l.SHORT_TYPE][1]-t[n+12]),s=2069978111953089e-26*(t[n+12]*e[l.SHORT_TYPE][1]+t[n+3]),t[n+0]=190752519173728e-25*a+i,t[n+15]=190752519173728e-25*-c+s,o=.8660254037844387*o*1907525191737281e-26,c=.5*c*1907525191737281e-26+s,t[n+3]=o-c,t[n+6]=o+c,a=.5*a*1907525191737281e-26-i,u=.8660254037844387*u*1907525191737281e-26,t[n+9]=a+u,t[n+12]=a-u,n++}}this.mdct_sub48=function(t,a,p){for(var m,_,v,y,g,b,w,x,S,E,A,T,R,M,k,P,B,L,V,O,N,C=a,I=286,D=0;D<t.channels_out;D++){for(var j=0;j<t.mode_gr;j++){for(var F,H=t.l3_side.tt[j][D],q=H.xr,X=0,Y=t.sb_sample[D][1-j],U=0,G=0;G<9;G++)for(f(C,I,Y[U]),f(C,I+32,Y[U+1]),U+=2,I+=64,F=1;F<32;F+=2)Y[U-1][F]*=-1;for(F=0;F<32;F++,X+=18){var z=H.block_type,W=t.sb_sample[D][j],K=t.sb_sample[D][1-j];if(0!=H.mixed_block_flag&&F<2&&(z=0),t.amp_filter[F]<1e-12)o.fill(q,X+0,X+18,0);else{if(t.amp_filter[F]<1)for(G=0;G<18;G++)K[G][h[F]]*=t.amp_filter[F];if(z==l.SHORT_TYPE){for(G=-3;G<0;G++){var Z=e[l.SHORT_TYPE][G+3];q[X+3*G+9]=W[9+G][h[F]]*Z-W[8-G][h[F]],q[X+3*G+18]=W[14-G][h[F]]*Z+W[15+G][h[F]],q[X+3*G+10]=W[15+G][h[F]]*Z-W[14-G][h[F]],q[X+3*G+19]=K[2-G][h[F]]*Z+K[3+G][h[F]],q[X+3*G+11]=K[3+G][h[F]]*Z-K[2-G][h[F]],q[X+3*G+20]=K[8-G][h[F]]*Z+K[9+G][h[F]]}d(q,X)}else{var $=s(18);for(G=-9;G<0;G++){var Q,J;Q=e[z][G+27]*K[G+9][h[F]]+e[z][G+36]*K[8-G][h[F]],J=e[z][G+9]*W[G+9][h[F]]-e[z][G+18]*W[8-G][h[F]],$[G+9]=Q-J*n[3+G+9],$[G+18]=Q*n[3+G+9]+J}m=q,_=X,y=void 0,g=void 0,void 0,void 0,void 0,void 0,void 0,A=void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,V=void 0,void 0,void 0,b=(v=$)[17]-v[9],x=v[15]-v[11],S=v[14]-v[12],E=v[0]+v[8],A=v[1]+v[7],T=v[2]+v[6],R=v[3]+v[5],m[_+17]=E+T-R-(A-v[4]),g=(E+T-R)*r[19]+(A-v[4]),y=(b-x-S)*r[18],m[_+5]=y+g,m[_+6]=y-g,w=(v[16]-v[10])*r[18],A=A*r[19]+v[4],y=b*r[12]+w+x*r[13]+S*r[14],g=-E*r[16]+A-T*r[17]+R*r[15],m[_+1]=y+g,m[_+2]=y-g,y=b*r[13]-w-x*r[14]+S*r[12],g=-E*r[17]+A-T*r[15]+R*r[16],m[_+9]=y+g,m[_+10]=y-g,y=b*r[14]-w+x*r[12]-S*r[13],g=E*r[15]-A+T*r[16]-R*r[17],m[_+13]=y+g,m[_+14]=y-g,M=v[8]-v[0],P=v[6]-v[2],B=v[5]-v[3],L=v[17]+v[9],V=v[16]+v[10],O=v[15]+v[11],N=v[14]+v[12],m[_+0]=L+O+N+(V+v[13]),y=(L+O+N)*r[19]-(V+v[13]),g=(M-P+B)*r[18],m[_+11]=y+g,m[_+12]=y-g,k=(v[7]-v[1])*r[18],V=v[13]-V*r[19],y=L*r[15]-V+O*r[16]+N*r[17],g=M*r[14]+k+P*r[12]+B*r[13],m[_+3]=y+g,m[_+4]=y-g,y=-L*r[17]+V-O*r[15]-N*r[16],g=M*r[13]+k-P*r[14]-B*r[12],m[_+7]=y+g,m[_+8]=y-g,y=-L*r[16]+V-O*r[17]-N*r[15],g=M*r[12]-k+P*r[13]-B*r[14],m[_+15]=y+g,m[_+16]=y-g}}if(z!=l.SHORT_TYPE&&0!=F)for(G=7;G>=0;--G){var tt,et;tt=q[X+G]*c[20+G]+q[X+-1-G]*u[28+G],et=q[X+G]*u[28+G]-q[X+-1-G]*c[20+G],q[X+-1-G]=tt,q[X+G]=et}}}if(C=p,I=286,1==t.mode_gr)for(var nt=0;nt<18;nt++)i.arraycopy(t.sb_sample[D][1][nt],0,t.sb_sample[D][0][nt],0,32)}}}},6568:(t,e,n)=>{var r=n(7348),i=(r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double,r.new_float),a=r.new_float_n,o=r.new_int,s=(r.new_int_n,r.assert,n(4621));t.exports=function(){this.last_en_subshort=a([4,9]),this.lastAttacks=o(4),this.pefirbuf=i(19),this.longfact=i(s.SBMAX_l),this.shortfact=i(s.SBMAX_s),this.attackthre=0,this.attackthre_s=0}},9309:(t,e,n)=>{var r=n(7348),i=(r.System,r.VbrMode);r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double,r.new_float,r.new_float_n,r.new_int,r.new_int_n,r.assert,t.exports=function(){var t,e=n(8476);function r(t,e,n,r,i,a,o,s,l,c,u,h,f,d,p){this.vbr_q=t,this.quant_comp=e,this.quant_comp_s=n,this.expY=r,this.st_lrm=i,this.st_s=a,this.masking_adj=o,this.masking_adj_short=s,this.ath_lower=l,this.ath_curve=c,this.ath_sensitivity=u,this.interch=h,this.safejoint=f,this.sfb21mod=d,this.msfix=p}function a(t,e,n,r,i,a,o,s,l,c,u,h,f,d){this.quant_comp=e,this.quant_comp_s=n,this.safejoint=r,this.nsmsfix=i,this.st_lrm=a,this.st_s=o,this.nsbass=s,this.scale=l,this.masking_adj=c,this.ath_lower=u,this.ath_curve=h,this.interch=f,this.sfscale=d}this.setModules=function(e){t=e};var o=[new r(0,9,9,0,5.2,125,-4.2,-6.3,4.8,1,0,0,2,21,.97),new r(1,9,9,0,5.3,125,-3.6,-5.6,4.5,1.5,0,0,2,21,1.35),new r(2,9,9,0,5.6,125,-2.2,-3.5,2.8,2,0,0,2,21,1.49),new r(3,9,9,1,5.8,130,-1.8,-2.8,2.6,3,-4,0,2,20,1.64),new r(4,9,9,1,6,135,-.7,-1.1,1.1,3.5,-8,0,2,0,1.79),new r(5,9,9,1,6.4,140,.5,.4,-7.5,4,-12,2e-4,0,0,1.95),new r(6,9,9,1,6.6,145,.67,.65,-14.7,6.5,-19,4e-4,0,0,2.3),new r(7,9,9,1,6.6,145,.8,.75,-19.7,8,-22,6e-4,0,0,2.7),new r(8,9,9,1,6.6,145,1.2,1.15,-27.5,10,-23,7e-4,0,0,0),new r(9,9,9,1,6.6,145,1.6,1.6,-36,11,-25,8e-4,0,0,0),new r(10,9,9,1,6.6,145,2,2,-36,12,-25,8e-4,0,0,0)],s=[new r(0,9,9,0,4.2,25,-7,-4,7.5,1,0,0,2,26,.97),new r(1,9,9,0,4.2,25,-5.6,-3.6,4.5,1.5,0,0,2,21,1.35),new r(2,9,9,0,4.2,25,-4.4,-1.8,2,2,0,0,2,18,1.49),new r(3,9,9,1,4.2,25,-3.4,-1.25,1.1,3,-4,0,2,15,1.64),new r(4,9,9,1,4.2,25,-2.2,.1,0,3.5,-8,0,2,0,1.79),new r(5,9,9,1,4.2,25,-1,1.65,-7.7,4,-12,2e-4,0,0,1.95),new r(6,9,9,1,4.2,25,-0,2.47,-7.7,6.5,-19,4e-4,0,0,2),new r(7,9,9,1,4.2,25,.5,2,-14.5,8,-22,6e-4,0,0,2),new r(8,9,9,1,4.2,25,1,2.4,-22,10,-23,7e-4,0,0,2),new r(9,9,9,1,4.2,25,1.5,2.95,-30,11,-25,8e-4,0,0,2),new r(10,9,9,1,4.2,25,2,2.95,-36,12,-30,8e-4,0,0,2)];function l(t,e,n){var r=t.VBR==i.vbr_rh?o:s,a=t.VBR_q_frac,l=r[e],c=r[e+1],u=l;l.st_lrm=l.st_lrm+a*(c.st_lrm-l.st_lrm),l.st_s=l.st_s+a*(c.st_s-l.st_s),l.masking_adj=l.masking_adj+a*(c.masking_adj-l.masking_adj),l.masking_adj_short=l.masking_adj_short+a*(c.masking_adj_short-l.masking_adj_short),l.ath_lower=l.ath_lower+a*(c.ath_lower-l.ath_lower),l.ath_curve=l.ath_curve+a*(c.ath_curve-l.ath_curve),l.ath_sensitivity=l.ath_sensitivity+a*(c.ath_sensitivity-l.ath_sensitivity),l.interch=l.interch+a*(c.interch-l.interch),l.msfix=l.msfix+a*(c.msfix-l.msfix),function(t,e){0>e&&(e=0),9<e&&(e=9),t.VBR_q=e,t.VBR_q_frac=0}(t,u.vbr_q),0!=n?t.quant_comp=u.quant_comp:Math.abs(t.quant_comp- -1)>0||(t.quant_comp=u.quant_comp),0!=n?t.quant_comp_short=u.quant_comp_s:Math.abs(t.quant_comp_short- -1)>0||(t.quant_comp_short=u.quant_comp_s),0!=u.expY&&(t.experimentalY=0!=u.expY),0!=n?t.internal_flags.nsPsy.attackthre=u.st_lrm:Math.abs(t.internal_flags.nsPsy.attackthre- -1)>0||(t.internal_flags.nsPsy.attackthre=u.st_lrm),0!=n?t.internal_flags.nsPsy.attackthre_s=u.st_s:Math.abs(t.internal_flags.nsPsy.attackthre_s- -1)>0||(t.internal_flags.nsPsy.attackthre_s=u.st_s),0!=n?t.maskingadjust=u.masking_adj:Math.abs(t.maskingadjust-0)>0||(t.maskingadjust=u.masking_adj),0!=n?t.maskingadjust_short=u.masking_adj_short:Math.abs(t.maskingadjust_short-0)>0||(t.maskingadjust_short=u.masking_adj_short),0!=n?t.ATHlower=-u.ath_lower/10:Math.abs(10*-t.ATHlower-0)>0||(t.ATHlower=-u.ath_lower/10),0!=n?t.ATHcurve=u.ath_curve:Math.abs(t.ATHcurve- -1)>0||(t.ATHcurve=u.ath_curve),0!=n?t.athaa_sensitivity=u.ath_sensitivity:Math.abs(t.athaa_sensitivity- -1)>0||(t.athaa_sensitivity=u.ath_sensitivity),u.interch>0&&(0!=n?t.interChRatio=u.interch:Math.abs(t.interChRatio- -1)>0||(t.interChRatio=u.interch)),u.safejoint>0&&(t.exp_nspsytune=t.exp_nspsytune|u.safejoint),u.sfb21mod>0&&(t.exp_nspsytune=t.exp_nspsytune|u.sfb21mod<<20),0!=n?t.msfix=u.msfix:Math.abs(t.msfix- -1)>0||(t.msfix=u.msfix),0==n&&(t.VBR_q=e,t.VBR_q_frac=a)}var c=[new a(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new a(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new a(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new a(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new a(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new a(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new a(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new a(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new a(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new a(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new a(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new a(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new a(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new a(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new a(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new a(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new a(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function u(e,n,r){var a=n,o=t.nearestBitrateFullIndex(n);if(e.VBR=i.vbr_abr,e.VBR_mean_bitrate_kbps=a,e.VBR_mean_bitrate_kbps=Math.min(e.VBR_mean_bitrate_kbps,320),e.VBR_mean_bitrate_kbps=Math.max(e.VBR_mean_bitrate_kbps,8),e.brate=e.VBR_mean_bitrate_kbps,e.VBR_mean_bitrate_kbps>320&&(e.disable_reservoir=!0),c[o].safejoint>0&&(e.exp_nspsytune=2|e.exp_nspsytune),c[o].sfscale>0&&(e.internal_flags.noise_shaping=2),Math.abs(c[o].nsbass)>0){var s=int(4*c[o].nsbass);s<0&&(s+=64),e.exp_nspsytune=e.exp_nspsytune|s<<2}return 0!=r?e.quant_comp=c[o].quant_comp:Math.abs(e.quant_comp- -1)>0||(e.quant_comp=c[o].quant_comp),0!=r?e.quant_comp_short=c[o].quant_comp_s:Math.abs(e.quant_comp_short- -1)>0||(e.quant_comp_short=c[o].quant_comp_s),0!=r?e.msfix=c[o].nsmsfix:Math.abs(e.msfix- -1)>0||(e.msfix=c[o].nsmsfix),0!=r?e.internal_flags.nsPsy.attackthre=c[o].st_lrm:Math.abs(e.internal_flags.nsPsy.attackthre- -1)>0||(e.internal_flags.nsPsy.attackthre=c[o].st_lrm),0!=r?e.internal_flags.nsPsy.attackthre_s=c[o].st_s:Math.abs(e.internal_flags.nsPsy.attackthre_s- -1)>0||(e.internal_flags.nsPsy.attackthre_s=c[o].st_s),0!=r?e.scale=c[o].scale:Math.abs(e.scale- -1)>0||(e.scale=c[o].scale),0!=r?e.maskingadjust=c[o].masking_adj:Math.abs(e.maskingadjust-0)>0||(e.maskingadjust=c[o].masking_adj),c[o].masking_adj>0?0!=r?e.maskingadjust_short=.9*c[o].masking_adj:Math.abs(e.maskingadjust_short-0)>0||(e.maskingadjust_short=.9*c[o].masking_adj):0!=r?e.maskingadjust_short=1.1*c[o].masking_adj:Math.abs(e.maskingadjust_short-0)>0||(e.maskingadjust_short=1.1*c[o].masking_adj),0!=r?e.ATHlower=-c[o].ath_lower/10:Math.abs(10*-e.ATHlower-0)>0||(e.ATHlower=-c[o].ath_lower/10),0!=r?e.ATHcurve=c[o].ath_curve:Math.abs(e.ATHcurve- -1)>0||(e.ATHcurve=c[o].ath_curve),0!=r?e.interChRatio=c[o].interch:Math.abs(e.interChRatio- -1)>0||(e.interChRatio=c[o].interch),n}this.apply_preset=function(t,n,r){switch(n){case e.R3MIX:n=e.V3,t.VBR=i.vbr_mtrh;break;case e.MEDIUM:n=e.V4,t.VBR=i.vbr_rh;break;case e.MEDIUM_FAST:n=e.V4,t.VBR=i.vbr_mtrh;break;case e.STANDARD:n=e.V2,t.VBR=i.vbr_rh;break;case e.STANDARD_FAST:n=e.V2,t.VBR=i.vbr_mtrh;break;case e.EXTREME:n=e.V0,t.VBR=i.vbr_rh;break;case e.EXTREME_FAST:n=e.V0,t.VBR=i.vbr_mtrh;break;case e.INSANE:return n=320,t.preset=n,u(t,n,r),t.VBR=i.vbr_off,n}switch(t.preset=n,n){case e.V9:return l(t,9,r),n;case e.V8:return l(t,8,r),n;case e.V7:return l(t,7,r),n;case e.V6:return l(t,6,r),n;case e.V5:return l(t,5,r),n;case e.V4:return l(t,4,r),n;case e.V3:return l(t,3,r),n;case e.V2:return l(t,2,r),n;case e.V1:return l(t,1,r),n;case e.V0:return l(t,0,r),n}return 8<=n&&n<=320?u(t,n,r):(t.preset=0,n)}}},6400:(t,e,n)=>{var r=n(7348),i=(r.System,r.VbrMode),a=r.Float,o=r.ShortBlock,s=r.Util,l=r.Arrays,c=(r.new_array_n,r.new_byte,r.new_double,r.new_float),u=r.new_float_n,h=r.new_int,f=(r.new_int_n,r.assert),d=n(7181),p=n(4621);t.exports=function(){var t=n(8551),e=new d,r=2.302585092994046,m=1/217621504/(p.BLKSIZE/2),_=21,v=.2302585093;function y(t,e){for(var n=0,r=0;r<p.BLKSIZE/2;++r)n+=t[r]*e.ATH.eql_w[r];return n*m}function g(t,n,r,i,a,o,l,c,u,h,f){var d=t.internal_flags;if(u<2)e.fft_long(d,i[a],u,h,f),e.fft_short(d,o[l],u,h,f);else if(2==u){for(var m=p.BLKSIZE-1;m>=0;--m){var _=i[a+0][m],v=i[a+1][m];i[a+0][m]=(_+v)*s.SQRT2*.5,i[a+1][m]=(_-v)*s.SQRT2*.5}for(var g=2;g>=0;--g)for(m=p.BLKSIZE_s-1;m>=0;--m)_=o[l+0][g][m],v=o[l+1][g][m],o[l+0][g][m]=(_+v)*s.SQRT2*.5,o[l+1][g][m]=(_-v)*s.SQRT2*.5}for(n[0]=i[a+0][0],n[0]*=n[0],m=p.BLKSIZE/2-1;m>=0;--m){var b=i[a+0][p.BLKSIZE/2-m],w=i[a+0][p.BLKSIZE/2+m];n[p.BLKSIZE/2-m]=.5*(b*b+w*w)}for(g=2;g>=0;--g)for(r[g][0]=o[l+0][g][0],r[g][0]*=r[g][0],m=p.BLKSIZE_s/2-1;m>=0;--m)b=o[l+0][g][p.BLKSIZE_s/2-m],w=o[l+0][g][p.BLKSIZE_s/2+m],r[g][p.BLKSIZE_s/2-m]=.5*(b*b+w*w);var x=0;for(m=11;m<p.HBLKSIZE;m++)x+=n[m];if(d.tot_ener[u]=x,t.analysis){for(m=0;m<p.HBLKSIZE;m++)d.pinfo.energy[c][u][m]=d.pinfo.energy_save[u][m],d.pinfo.energy_save[u][m]=n[m];d.pinfo.pe[c][u]=d.pe[u]}2==t.athaa_loudapprox&&u<2&&(d.loudness_sq[c][u]=d.loudness_sq_save[u],d.loudness_sq_save[u]=y(n,d))}var b,w,x,S=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749],E=[3.3246*3.3246,3.23837*3.23837,9.9500500969,9.0247369744,8.1854926609,7.0440875649,2.46209*2.46209,2.284*2.284,4.4892710641,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,2.4621061921,2.1508568964,1.37074*1.37074,1.31036*1.31036,1.5691069696,1.4555939904,1.16203*1.16203,1.2715945225,1.09428*1.09428,1.0659*1.0659,1.0779838276,1.0382591025,1],A=[1.7782755904,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.6999465924,1.22321*1.22321,1.3169398564,1],T=[5.5396212496,2.29259*2.29259,4.9868695969,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,2.2499700001,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.2339655056,1.0779838276];function R(t,e,n,r,i,a){var o,l,c;if(e>t){if(!(e<t*w))return t+e;o=e/t}else{if(t>=e*w)return t+e;o=t/e}if(f(t>=0),f(e>=0),t+=e,r+3<=6){if(o>=b)return t;var u=0|s.FAST_LOG10_X(o,16);return t*A[u]}return u=0|s.FAST_LOG10_X(o,16),e=0!=a?i.ATH.cb_s[n]*i.ATH.adjust:i.ATH.cb_l[n]*i.ATH.adjust,f(e>=0),t<x*e?t>e?(l=1,u<=13&&(l=T[u]),c=s.FAST_LOG10_X(t/e,10/15),t*((E[u]-l)*c+l)):u>13?t:t*T[u]:t*E[u]}var M=[1.7782755904,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.6999465924,1.22321*1.22321,1.3169398564,1];function k(t,e,n){var r;if(t<0&&(t=0),e<0&&(e=0),t<=0)return e;if(e<=0)return t;if(r=e>t?e/t:t/e,-2<=n&&n<=2){if(r>=b)return t+e;var i=0|s.FAST_LOG10_X(r,16);return(t+e)*M[i]}return r<w?t+e:(t<e&&(t=e),t)}function P(t,e,n,r,i){var a,o,s=0,l=0;for(a=o=0;a<p.SBMAX_s;++o,++a){for(var c=t.bo_s[a],u=t.npart_s,h=c<u?c:u;o<h;)f(e[o]>=0),f(n[o]>=0),s+=e[o],l+=n[o],o++;if(t.en[r].s[a][i]=s,t.thm[r].s[a][i]=l,o>=u){++a;break}f(e[o]>=0),f(n[o]>=0);var d=t.PSY.bo_s_weight[a],m=1-d;s=d*e[o],l=d*n[o],t.en[r].s[a][i]+=s,t.thm[r].s[a][i]+=l,s=m*e[o],l=m*n[o]}for(;a<p.SBMAX_s;++a)t.en[r].s[a][i]=0,t.thm[r].s[a][i]=0}function B(t,e,n,r){var i,a,o=0,s=0;for(i=a=0;i<p.SBMAX_l;++a,++i){for(var l=t.bo_l[i],c=t.npart_l,u=l<c?l:c;a<u;)f(e[a]>=0),f(n[a]>=0),o+=e[a],s+=n[a],a++;if(t.en[r].l[i]=o,t.thm[r].l[i]=s,a>=c){++i;break}f(e[a]>=0),f(n[a]>=0);var h=t.PSY.bo_l_weight[i],d=1-h;o=h*e[a],s=h*n[a],t.en[r].l[i]+=o,t.thm[r].l[i]+=s,o=d*e[a],s=d*n[a]}for(;i<p.SBMAX_l;++i)t.en[r].l[i]=0,t.thm[r].l[i]=0}function L(t,e,n,r,i,a){var o,s,l=t.internal_flags;for(s=o=0;s<l.npart_s;++s){for(var c=0,u=0,h=l.numlines_s[s],d=0;d<h;++d,++o){var m=e[a][o];c+=m,u<m&&(u=m)}n[s]=c}for(f(s==l.npart_s),f(129==o),o=s=0;s<l.npart_s;s++){var _=l.s3ind_s[s][0],v=l.s3_ss[o++]*n[_];for(++_;_<=l.s3ind_s[s][1];)v+=l.s3_ss[o]*n[_],++o,++_;var y=2*l.nb_s1[i][s];if(r[s]=Math.min(v,y),l.blocktype_old[1&i]==p.SHORT_TYPE){y=16*l.nb_s2[i][s];var g=r[s];r[s]=Math.min(y,g)}l.nb_s2[i][s]=l.nb_s1[i][s],l.nb_s1[i][s]=v,f(r[s]>=0)}for(;s<=p.CBANDS;++s)n[s]=0,r[s]=0}function V(t,e,n){return n>=1?t:n<=0?e:e>0?Math.pow(t/e,n)*e:0}var O=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function N(t,e){for(var n=309.07,i=0;i<p.SBMAX_s-1;i++)for(var a=0;a<3;a++){var o=t.thm.s[i][a];if(f(i<O.length),o>0){var l=o*e,c=t.en.s[i][a];c>l&&(c>1e10*l?n+=O[i]*(10*r):(f(l>0),n+=O[i]*s.FAST_LOG10(c/l)))}}return n}var C=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function I(t,e){for(var n=281.0575,i=0;i<p.SBMAX_l-1;i++){var a=t.thm.l[i];if(f(i<C.length),a>0){var o=a*e,l=t.en.l[i];l>o&&(l>1e10*o?n+=C[i]*(10*r):(f(o>0),n+=C[i]*s.FAST_LOG10(l/o)))}}return n}function D(t,e,n,r,i){var a,o;for(a=o=0;a<t.npart_l;++a){var s,l=0,c=0;for(s=0;s<t.numlines_l[a];++s,++o){var u=e[o];f(u>=0),l+=u,c<u&&(c=u)}n[a]=l,r[a]=c,i[a]=l*t.rnumlines_l[a],f(t.rnumlines_l[a]>=0),f(l>=0),f(n[a]>=0),f(r[a]>=0),f(i[a]>=0)}}function j(t,e,n,r){var i=S.length-1,a=0,o=n[a]+n[a+1];for(f(o>=0),o>0?((s=e[a])<e[a+1]&&(s=e[a+1]),f(t.numlines_l[a]+t.numlines_l[a+1]-1>0),(l=0|(o=20*(2*s-o)/(o*(t.numlines_l[a]+t.numlines_l[a+1]-1))))>i&&(l=i),r[a]=l):r[a]=0,a=1;a<t.npart_l-1;a++){var s,l;o=n[a-1]+n[a]+n[a+1],f(o>=0),o>0?((s=e[a-1])<e[a]&&(s=e[a]),s<e[a+1]&&(s=e[a+1]),f(t.numlines_l[a-1]+t.numlines_l[a]+t.numlines_l[a+1]-1>0),(l=0|(o=20*(3*s-o)/(o*(t.numlines_l[a-1]+t.numlines_l[a]+t.numlines_l[a+1]-1))))>i&&(l=i),r[a]=l):r[a]=0}f(a>0),f(a==t.npart_l-1),o=n[a-1]+n[a],f(o>=0),o>0?((s=e[a-1])<e[a]&&(s=e[a]),f(t.numlines_l[a-1]+t.numlines_l[a]-1>0),(l=0|(o=20*(2*s-o)/(o*(t.numlines_l[a-1]+t.numlines_l[a]-1))))>i&&(l=i),r[a]=l):r[a]=0,f(a==t.npart_l-1)}var F=[-1730326e-23,-.01703172,-1349528e-23,.0418072,-673278e-22,-.0876324,-30835e-21,.1863476,-1104424e-22,-.627638];function H(t,n,r,i,a,o,l,c){var u=t.internal_flags;if(i<2)e.fft_long(u,l[c],i,n,r);else if(2==i)for(var h=p.BLKSIZE-1;h>=0;--h){var f=l[c+0][h],d=l[c+1][h];l[c+0][h]=(f+d)*s.SQRT2*.5,l[c+1][h]=(f-d)*s.SQRT2*.5}for(o[0]=l[c+0][0],o[0]*=o[0],h=p.BLKSIZE/2-1;h>=0;--h){var m=l[c+0][p.BLKSIZE/2-h],_=l[c+0][p.BLKSIZE/2+h];o[p.BLKSIZE/2-h]=.5*(m*m+_*_)}var v=0;for(h=11;h<p.HBLKSIZE;h++)v+=o[h];if(u.tot_ener[i]=v,t.analysis){for(h=0;h<p.HBLKSIZE;h++)u.pinfo.energy[a][i][h]=u.pinfo.energy_save[i][h],u.pinfo.energy_save[i][h]=o[h];u.pinfo.pe[a][i]=u.pe[i]}}function q(t,n,r,i,a,o,l,c){var u=t.internal_flags;if(0==a&&i<2&&e.fft_short(u,l[c],i,n,r),2==i)for(var h=p.BLKSIZE_s-1;h>=0;--h){var f=l[c+0][a][h],d=l[c+1][a][h];l[c+0][a][h]=(f+d)*s.SQRT2*.5,l[c+1][a][h]=(f-d)*s.SQRT2*.5}for(o[a][0]=l[c+0][a][0],o[a][0]*=o[a][0],h=p.BLKSIZE_s/2-1;h>=0;--h){var m=l[c+0][a][p.BLKSIZE_s/2-h],_=l[c+0][a][p.BLKSIZE_s/2+h];o[a][p.BLKSIZE_s/2-h]=.5*(m*m+_*_)}}function X(t,e,n,r){var i=t.internal_flags;2==t.athaa_loudapprox&&n<2&&(i.loudness_sq[e][n]=i.loudness_sq_save[n],i.loudness_sq_save[n]=y(r,i))}this.L3psycho_anal_ns=function(e,n,r,a,s,d,m,v,y,b){var w,x,E,A,T,M,k,O,C,H,q=e.internal_flags,X=u([2,p.BLKSIZE]),Y=u([2,3,p.BLKSIZE_s]),U=c(p.CBANDS+1),G=c(p.CBANDS+1),z=c(p.CBANDS+2),W=h(2),K=h(2),Z=u([2,576]),$=h(p.CBANDS+2),Q=h(p.CBANDS+2);for(l.fill(Q,0),w=q.channels_out,e.mode==t.JOINT_STEREO&&(w=4),C=e.VBR==i.vbr_off?0==q.ResvMax?0:q.ResvSize/q.ResvMax*.5:e.VBR==i.vbr_rh||e.VBR==i.vbr_mtrh||e.VBR==i.vbr_mt?.6:1,x=0;x<q.channels_out;x++){var J=n[x],tt=r+576-350-_+192;for(f(10==F.length),A=0;A<576;A++){var et,nt;for(et=J[tt+A+10],nt=0,T=0;T<9;T+=2)et+=F[T]*(J[tt+A+T]+J[tt+A+_-T]),nt+=F[T+1]*(J[tt+A+T+1]+J[tt+A+_-T-1]);Z[x][A]=et+nt}s[a][x].en.assign(q.en[x]),s[a][x].thm.assign(q.thm[x]),w>2&&(d[a][x].en.assign(q.en[x+2]),d[a][x].thm.assign(q.thm[x+2]))}for(x=0;x<w;x++){var rt,it=c(12),at=[0,0,0,0],ot=c(12),st=1,lt=c(p.CBANDS),ct=c(p.CBANDS),ut=[0,0,0,0],ht=c(p.HBLKSIZE),ft=u([3,p.HBLKSIZE_s]);for(f(q.npart_s<=p.CBANDS),f(q.npart_l<=p.CBANDS),A=0;A<3;A++)it[A]=q.nsPsy.last_en_subshort[x][A+6],f(q.nsPsy.last_en_subshort[x][A+4]>0),ot[A]=it[A]/q.nsPsy.last_en_subshort[x][A+4],at[0]+=it[A];if(2==x)for(A=0;A<576;A++){var dt,pt;dt=Z[0][A],pt=Z[1][A],Z[0][A]=dt+pt,Z[1][A]=dt-pt}var mt=Z[1&x],_t=0;for(A=0;A<9;A++){for(var vt=_t+64,yt=1;_t<vt;_t++)yt<Math.abs(mt[_t])&&(yt=Math.abs(mt[_t]));q.nsPsy.last_en_subshort[x][A]=it[A+3]=yt,at[1+A/3]+=yt,yt>it[A+3-2]?(f(it[A+3-2]>0),yt/=it[A+3-2]):it[A+3-2]>10*yt?(f(yt>0),yt=it[A+3-2]/(10*yt)):yt=0,ot[A+3]=yt}if(e.analysis){var gt=ot[0];for(A=1;A<12;A++)gt<ot[A]&&(gt=ot[A]);q.pinfo.ers[a][x]=q.pinfo.ers_save[x],q.pinfo.ers_save[x]=gt}for(rt=3==x?q.nsPsy.attackthre_s:q.nsPsy.attackthre,A=0;A<12;A++)0==ut[A/3]&&ot[A]>rt&&(ut[A/3]=A%3+1);for(A=1;A<4;A++){var bt;at[A-1]>at[A]?(f(at[A]>0),bt=at[A-1]/at[A]):(f(at[A-1]>0),bt=at[A]/at[A-1]),bt<1.7&&(ut[A]=0,1==A&&(ut[0]=0))}for(0!=ut[0]&&0!=q.nsPsy.lastAttacks[x]&&(ut[0]=0),3!=q.nsPsy.lastAttacks[x]&&ut[0]+ut[1]+ut[2]+ut[3]==0||(st=0,0!=ut[1]&&0!=ut[0]&&(ut[1]=0),0!=ut[2]&&0!=ut[1]&&(ut[2]=0),0!=ut[3]&&0!=ut[2]&&(ut[3]=0)),x<2?K[x]=st:0==st&&(K[0]=K[1]=0),y[x]=q.tot_ener[x],g(e,ht,ft,X,1&x,Y,1&x,a,x,n,r),D(q,ht,U,lt,ct),j(q,lt,ct,$),O=0;O<3;O++){var wt,xt;for(L(e,ft,G,z,x,O),P(q,G,z,x,O),k=0;k<p.SBMAX_s;k++){if(xt=q.thm[x].s[k][O],xt*=.8,ut[O]>=2||1==ut[O+1]){var St=0!=O?O-1:2;yt=V(q.thm[x].s[k][St],xt,.6*C),xt=Math.min(xt,yt)}1==ut[O]?(St=0!=O?O-1:2,yt=V(q.thm[x].s[k][St],xt,.3*C),xt=Math.min(xt,yt)):(0!=O&&3==ut[O-1]||0==O&&3==q.nsPsy.lastAttacks[x])&&(St=2!=O?O+1:0,yt=V(q.thm[x].s[k][St],xt,.3*C),xt=Math.min(xt,yt)),wt=it[3*O+3]+it[3*O+4]+it[3*O+5],6*it[3*O+5]<wt&&(xt*=.5,6*it[3*O+4]<wt&&(xt*=.5)),q.thm[x].s[k][O]=xt}}for(q.nsPsy.lastAttacks[x]=ut[2],M=0,E=0;E<q.npart_l;E++){for(var Et=q.s3ind[E][0],At=U[Et]*S[$[Et]],Tt=q.s3_ll[M++]*At;++Et<=q.s3ind[E][1];)At=U[Et]*S[$[Et]],Tt=R(Tt,q.s3_ll[M++]*At,Et,Et-E,q,0);Tt*=.158489319246111,q.blocktype_old[1&x]==p.SHORT_TYPE?z[E]=Tt:z[E]=V(Math.min(Tt,Math.min(2*q.nb_1[x][E],16*q.nb_2[x][E])),Tt,C),q.nb_2[x][E]=q.nb_1[x][E],q.nb_1[x][E]=Tt}for(;E<=p.CBANDS;++E)U[E]=0,z[E]=0;B(q,U,z,x)}for(e.mode!=t.STEREO&&e.mode!=t.JOINT_STEREO||e.interChRatio>0&&function(t,e){var n=t.internal_flags;if(n.channels_out>1){for(var r=0;r<p.SBMAX_l;r++){var i=n.thm[0].l[r],a=n.thm[1].l[r];n.thm[0].l[r]+=a*e,n.thm[1].l[r]+=i*e}for(r=0;r<p.SBMAX_s;r++)for(var o=0;o<3;o++)i=n.thm[0].s[r][o],a=n.thm[1].s[r][o],n.thm[0].s[r][o]+=a*e,n.thm[1].s[r][o]+=i*e}}(e,e.interChRatio),e.mode==t.JOINT_STEREO&&(function(t){for(var e=0;e<p.SBMAX_l;e++)if(!(t.thm[0].l[e]>1.58*t.thm[1].l[e]||t.thm[1].l[e]>1.58*t.thm[0].l[e])){var n=t.mld_l[e]*t.en[3].l[e],r=Math.max(t.thm[2].l[e],Math.min(t.thm[3].l[e],n));n=t.mld_l[e]*t.en[2].l[e];var i=Math.max(t.thm[3].l[e],Math.min(t.thm[2].l[e],n));t.thm[2].l[e]=r,t.thm[3].l[e]=i}for(e=0;e<p.SBMAX_s;e++)for(var a=0;a<3;a++)t.thm[0].s[e][a]>1.58*t.thm[1].s[e][a]||t.thm[1].s[e][a]>1.58*t.thm[0].s[e][a]||(n=t.mld_s[e]*t.en[3].s[e][a],r=Math.max(t.thm[2].s[e][a],Math.min(t.thm[3].s[e][a],n)),n=t.mld_s[e]*t.en[2].s[e][a],i=Math.max(t.thm[3].s[e][a],Math.min(t.thm[2].s[e][a],n)),t.thm[2].s[e][a]=r,t.thm[3].s[e][a]=i)}(q),H=e.msfix,Math.abs(H)>0&&function(t,e,n){var r=e,i=Math.pow(10,n);e*=2,r*=2;for(var a=0;a<p.SBMAX_l;a++)u=t.ATH.cb_l[t.bm_l[a]]*i,(s=Math.min(Math.max(t.thm[0].l[a],u),Math.max(t.thm[1].l[a],u)))*e<(l=Math.max(t.thm[2].l[a],u))+(c=Math.max(t.thm[3].l[a],u))&&f((l*=h=s*r/(l+c))+(c*=h)>0),t.thm[2].l[a]=Math.min(l,t.thm[2].l[a]),t.thm[3].l[a]=Math.min(c,t.thm[3].l[a]);for(i*=p.BLKSIZE_s/p.BLKSIZE,a=0;a<p.SBMAX_s;a++)for(var o=0;o<3;o++){var s,l,c,u,h;u=t.ATH.cb_s[t.bm_s[a]]*i,(s=Math.min(Math.max(t.thm[0].s[a][o],u),Math.max(t.thm[1].s[a][o],u)))*e<(l=Math.max(t.thm[2].s[a][o],u))+(c=Math.max(t.thm[3].s[a][o],u))&&f((l*=h=s*e/(l+c))+(c*=h)>0),t.thm[2].s[a][o]=Math.min(t.thm[2].s[a][o],l),t.thm[3].s[a][o]=Math.min(t.thm[3].s[a][o],c)}}(q,H,e.ATHlower*q.ATH.adjust)),function(t,e,n,r){var i=t.internal_flags;t.short_blocks!=o.short_block_coupled||0!=e[0]&&0!=e[1]||(e[0]=e[1]=0);for(var a=0;a<i.channels_out;a++)r[a]=p.NORM_TYPE,t.short_blocks==o.short_block_dispensed&&(e[a]=1),t.short_blocks==o.short_block_forced&&(e[a]=0),0!=e[a]?(f(i.blocktype_old[a]!=p.START_TYPE),i.blocktype_old[a]==p.SHORT_TYPE&&(r[a]=p.STOP_TYPE)):(r[a]=p.SHORT_TYPE,i.blocktype_old[a]==p.NORM_TYPE&&(i.blocktype_old[a]=p.START_TYPE),i.blocktype_old[a]==p.STOP_TYPE&&(i.blocktype_old[a]=p.SHORT_TYPE)),n[a]=i.blocktype_old[a],i.blocktype_old[a]=r[a]}(e,K,b,W),x=0;x<w;x++){var Rt,Mt,kt,Pt=0;x>1?(Rt=v,Pt=-2,Mt=p.NORM_TYPE,b[0]!=p.SHORT_TYPE&&b[1]!=p.SHORT_TYPE||(Mt=p.SHORT_TYPE),kt=d[a][x-2]):(Rt=m,Pt=0,Mt=b[x],kt=s[a][x]),Mt==p.SHORT_TYPE?Rt[Pt+x]=N(kt,q.masking_lower):Rt[Pt+x]=I(kt,q.masking_lower),e.analysis&&(q.pinfo.pe[a][x]=Rt[Pt+x])}return 0};var Y=[-1730326e-23,-.01703172,-1349528e-23,.0418072,-673278e-22,-.0876324,-30835e-21,.1863476,-1104424e-22,-.627638];function U(t,e,n){if(0==n)for(var r=0;r<t.npart_s;r++)t.nb_s2[e][r]=t.nb_s1[e][r],t.nb_s1[e][r]=0}function G(t,e){for(var n=0;n<t.npart_l;n++)t.nb_2[e][n]=t.nb_1[e][n],t.nb_1[e][n]=0}function z(t,e,n,r,i,a){var o,s,l,u=t.internal_flags,h=new float[p.CBANDS],d=c(p.CBANDS),m=new int[p.CBANDS];for(l=s=0;l<u.npart_s;++l){var _=0,v=0,y=u.numlines_s[l];for(o=0;o<y;++o,++s){var g=e[a][s];_+=g,v<g&&(v=g)}n[l]=_,f(_>=0),h[l]=v,f(y>0),d[l]=_/y,f(d[l]>=0)}for(f(l==u.npart_s),f(129==s);l<p.CBANDS;++l)h[l]=0,d[l]=0;for(function(t,e,n,r){var i=S.length-1,a=0,o=n[a]+n[a+1];for(f(o>=0),o>0?((s=e[a])<e[a+1]&&(s=e[a+1]),f(t.numlines_s[a]+t.numlines_s[a+1]-1>0),(l=0|(o=20*(2*s-o)/(o*(t.numlines_s[a]+t.numlines_s[a+1]-1))))>i&&(l=i),r[a]=l):r[a]=0,a=1;a<t.npart_s-1;a++){var s,l;o=n[a-1]+n[a]+n[a+1],f(a+1<t.npart_s),f(o>=0),o>0?((s=e[a-1])<e[a]&&(s=e[a]),s<e[a+1]&&(s=e[a+1]),f(t.numlines_s[a-1]+t.numlines_s[a]+t.numlines_s[a+1]-1>0),(l=0|(o=20*(3*s-o)/(o*(t.numlines_s[a-1]+t.numlines_s[a]+t.numlines_s[a+1]-1))))>i&&(l=i),r[a]=l):r[a]=0}f(a>0),f(a==t.npart_s-1),o=n[a-1]+n[a],f(o>=0),o>0?((s=e[a-1])<e[a]&&(s=e[a]),f(t.numlines_s[a-1]+t.numlines_s[a]-1>0),(l=0|(o=20*(2*s-o)/(o*(t.numlines_s[a-1]+t.numlines_s[a]-1))))>i&&(l=i),r[a]=l):r[a]=0,f(a==t.npart_s-1)}(u,h,d,m),s=l=0;l<u.npart_s;l++){var b,w,x,E,A,T=u.s3ind_s[l][0],R=u.s3ind_s[l][1];for(b=m[T],w=1,E=u.s3_ss[s]*n[T]*S[m[T]],++s,++T;T<=R;)b+=m[T],w+=1,E=k(E,x=u.s3_ss[s]*n[T]*S[m[T]],T-l),++s,++T;E*=A=.5*S[b=(1+2*b)/(2*w)],r[l]=E,u.nb_s2[i][l]=u.nb_s1[i][l],u.nb_s1[i][l]=E,x=h[l],x*=u.minval_s[l],x*=A,r[l]>x&&(r[l]=x),u.masking_lower>1&&(r[l]*=u.masking_lower),r[l]>n[l]&&(r[l]=n[l]),u.masking_lower<1&&(r[l]*=u.masking_lower),f(r[l]>=0)}for(;l<p.CBANDS;++l)n[l]=0,r[l]=0}function W(t,e,n,r,i){var a,o=c(p.CBANDS),s=c(p.CBANDS),l=h(p.CBANDS+2);D(t,e,n,o,s),j(t,o,s,l);var u=0;for(a=0;a<t.npart_l;a++){var d,m,_,v=t.s3ind[a][0],y=t.s3ind[a][1],g=0,b=0;for(g=l[v],b+=1,m=t.s3_ll[u]*n[v]*S[l[v]],++u,++v;v<=y;)g+=l[v],b+=1,m=k(m,d=t.s3_ll[u]*n[v]*S[l[v]],v-a),++u,++v;if(m*=_=.5*S[g=(1+2*g)/(2*b)],t.blocktype_old[1&i]==p.SHORT_TYPE){var w=2*t.nb_1[i][a];r[a]=w>0?Math.min(m,w):Math.min(m,.3*n[a])}else{var x=16*t.nb_2[i][a],E=2*t.nb_1[i][a];x<=0&&(x=m),E<=0&&(E=m),w=t.blocktype_old[1&i]==p.NORM_TYPE?Math.min(E,x):E,r[a]=Math.min(m,w)}t.nb_2[i][a]=t.nb_1[i][a],t.nb_1[i][a]=m,d=o[a],d*=t.minval_l[a],d*=_,r[a]>d&&(r[a]=d),t.masking_lower>1&&(r[a]*=t.masking_lower),r[a]>n[a]&&(r[a]=n[a]),t.masking_lower<1&&(r[a]*=t.masking_lower),f(r[a]>=0)}for(;a<p.CBANDS;++a)n[a]=0,r[a]=0}function K(t,e,n,r,i,a,o){for(var s,l,c=2*a,u=a>0?Math.pow(10,i):1,h=0;h<o;++h){var d=t[2][h],p=t[3][h],m=e[0][h],_=e[1][h],v=e[2][h],y=e[3][h];if(m<=1.58*_&&_<=1.58*m){var g=n[h]*p,b=n[h]*d;l=Math.max(v,Math.min(y,g)),s=Math.max(y,Math.min(v,b))}else l=v,s=y;if(a>0){var w,x,S=r[h]*u;if(w=Math.min(Math.max(m,S),Math.max(_,S)),(x=(v=Math.max(l,S))+(y=Math.max(s,S)))>0&&w*c<x){var E=w*c/x;v*=E,y*=E,f(x>0)}l=Math.min(v,l),s=Math.min(y,s)}l>d&&(l=d),s>p&&(s=p),e[2][h]=l,e[3][h]=s}}function Z(t,e){var n;return(n=t>=0?27*-t:t*e)<=-72?0:Math.exp(n*v)}function $(t){var e,n,r,i,a=0;for(a=0;Z(a,t)>1e-20;a-=1);for(r=a,i=0;Math.abs(i-r)>1e-12;)Z(a=(i+r)/2,t)>0?i=a:r=a;for(e=r,a=0,a=0;Z(a,t)>1e-20;a+=1);for(r=0,i=a;Math.abs(i-r)>1e-12;)Z(a=(i+r)/2,t)>0?r=a:i=a;n=i;var o,s=0,l=1e3;for(o=0;o<=l;++o)s+=Z(a=e+o*(n-e)/l,t);return(l+1)/(s*(n-e))}function Q(t){return t<0&&(t=0),t*=.001,13*Math.atan(.76*t)+3.5*Math.atan(t*t/56.25)}function J(t,e,n,r,i,a,o,s,l,u,d,m){var _,v=c(p.CBANDS+1),y=s/(m>15?1152:384),g=h(p.HBLKSIZE);s/=l;var b=0,w=0;for(_=0;_<p.CBANDS;_++){var x;for(B=Q(s*b),v[_]=s*b,x=b;Q(s*x)-B<.34&&x<=l/2;x++);for(t[_]=x-b,w=_+1;b<x;)f(b<p.HBLKSIZE),g[b++]=_;if(b>l/2){b=l/2,++_;break}}f(_<p.CBANDS),v[_]=s*b;for(var S=0;S<m;S++){var E,A,T,R,M;T=u[S],R=u[S+1],(E=0|Math.floor(.5+d*(T-.5)))<0&&(E=0),(A=0|Math.floor(.5+d*(R-.5)))>l/2&&(A=l/2),n[S]=(g[E]+g[A])/2,e[S]=g[A];var k=y*R;o[S]=(k-v[e[S]])/(v[e[S]+1]-v[e[S]]),o[S]<0?o[S]=0:o[S]>1&&(o[S]=1),M=Q(s*u[S]*d),M=Math.min(M,15.5)/15.5,a[S]=Math.pow(10,1.25*(1-Math.cos(Math.PI*M))-2.5)}b=0;for(var P=0;P<w;P++){var B,L,V=t[P];B=Q(s*b),L=Q(s*(b+V-1)),r[P]=.5*(B+L),B=Q(s*(b-.5)),L=Q(s*(b+V-.5)),i[P]=L-B,b+=V}return w}function tt(t,e,n,r,i,a){var o,s,l,h,f,d=u([p.CBANDS,p.CBANDS]),m=0;if(a)for(var _=0;_<e;_++)for(o=0;o<e;o++){var y=(s=void 0,void 0,void 0,f=void 0,s=n[_]-n[o],l=(s*=s>=0?3:1.5)>=.5&&s<=2.5?8*((f=s-.5)*f-2*f):0,((h=15.811389+7.5*(s+=.474)-17.5*Math.sqrt(1+s*s))<=-60?0:(s=Math.exp((l+h)*v),s/=.6609193))*r[o]);d[_][o]=y*i[_]}else for(o=0;o<e;o++){var g=15+Math.min(21/n[o],12),b=$(g);for(_=0;_<e;_++)y=b*Z(n[_]-n[o],g)*r[o],d[_][o]=y*i[_]}for(_=0;_<e;_++){for(o=0;o<e&&!(d[_][o]>0);o++);for(t[_][0]=o,o=e-1;o>0&&!(d[_][o]>0);o--);t[_][1]=o,m+=t[_][1]-t[_][0]+1}var w=c(m),x=0;for(_=0;_<e;_++)for(o=t[_][0];o<=t[_][1];o++)w[x++]=d[_][o];return w}function et(t){var e=Q(t);return e=Math.min(e,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*e))-2.5)}function nt(t,e){return t<-.3&&(t=3410),t/=1e3,t=Math.max(.1,t),3.64*Math.pow(t,-.8)-6.8*Math.exp(-.6*Math.pow(t-3.4,2))+6*Math.exp(-.15*Math.pow(t-8.7,2))+.001*(.6+.04*e)*Math.pow(t,4)}this.L3psycho_anal_vbr=function(e,n,r,i,a,s,l,d,m,v){var y=e.internal_flags,g=c(p.HBLKSIZE),b=u([3,p.HBLKSIZE_s]),w=u([2,p.BLKSIZE]),x=u([2,3,p.BLKSIZE_s]),S=u([4,p.CBANDS]),E=u([4,p.CBANDS]),A=u([4,3]),T=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],R=h(2),M=e.mode==t.JOINT_STEREO?4:y.channels_out;!function(e,n,r,i,a,o,s,l,h,d){for(var p=u([2,576]),m=e.internal_flags,v=m.channels_out,y=e.mode==t.JOINT_STEREO?4:v,g=0;g<v;g++){firbuf=n[g];var b=r+576-350-_+192;f(10==Y.length);for(var w=0;w<576;w++){var x,S;x=firbuf[b+w+10],S=0;for(var E=0;E<9;E+=2)x+=Y[E]*(firbuf[b+w+E]+firbuf[b+w+_-E]),S+=Y[E+1]*(firbuf[b+w+E+1]+firbuf[b+w+_-E-1]);p[g][w]=x+S}a[i][g].en.assign(m.en[g]),a[i][g].thm.assign(m.thm[g]),y>2&&(o[i][g].en.assign(m.en[g+2]),o[i][g].thm.assign(m.thm[g+2]))}for(g=0;g<y;g++){var A=c(12),T=c(12),R=[0,0,0,0],M=p[1&g],k=0,P=3==g?m.nsPsy.attackthre_s:m.nsPsy.attackthre,B=1;if(2==g)for(w=0,E=576;E>0;++w,--E){var L=p[0][w],V=p[1][w];p[0][w]=L+V,p[1][w]=L-V}for(w=0;w<3;w++)T[w]=m.nsPsy.last_en_subshort[g][w+6],f(m.nsPsy.last_en_subshort[g][w+4]>0),A[w]=T[w]/m.nsPsy.last_en_subshort[g][w+4],R[0]+=T[w];for(w=0;w<9;w++){for(var O=k+64,N=1;k<O;k++)N<Math.abs(M[k])&&(N=Math.abs(M[k]));m.nsPsy.last_en_subshort[g][w]=T[w+3]=N,R[1+w/3]+=N,N>T[w+3-2]?(f(T[w+3-2]>0),N/=T[w+3-2]):T[w+3-2]>10*N?(f(N>0),N=T[w+3-2]/(10*N)):N=0,A[w+3]=N}for(w=0;w<3;++w){var C=T[3*w+3]+T[3*w+4]+T[3*w+5],I=1;6*T[3*w+5]<C&&(I*=.5,6*T[3*w+4]<C&&(I*=.5)),l[g][w]=I}if(e.analysis){var D=A[0];for(w=1;w<12;w++)D<A[w]&&(D=A[w]);m.pinfo.ers[i][g]=m.pinfo.ers_save[g],m.pinfo.ers_save[g]=D}for(w=0;w<12;w++)0==h[g][w/3]&&A[w]>P&&(h[g][w/3]=w%3+1);for(w=1;w<4;w++){var j=R[w-1],F=R[w];Math.max(j,F)<4e4&&j<1.7*F&&F<1.7*j&&(1==w&&h[g][0]<=h[g][w]&&(h[g][0]=0),h[g][w]=0)}h[g][0]<=m.nsPsy.lastAttacks[g]&&(h[g][0]=0),3!=m.nsPsy.lastAttacks[g]&&h[g][0]+h[g][1]+h[g][2]+h[g][3]==0||(B=0,0!=h[g][1]&&0!=h[g][0]&&(h[g][1]=0),0!=h[g][2]&&0!=h[g][1]&&(h[g][2]=0),0!=h[g][3]&&0!=h[g][2]&&(h[g][3]=0)),g<2?d[g]=B:0==B&&(d[0]=d[1]=0),s[g]=m.tot_ener[g]}}(e,n,r,i,a,s,m,A,T,R),function(t,e){var n=t.internal_flags;t.short_blocks!=o.short_block_coupled||0!=e[0]&&0!=e[1]||(e[0]=e[1]=0);for(var r=0;r<n.channels_out;r++)t.short_blocks==o.short_block_dispensed&&(e[r]=1),t.short_blocks==o.short_block_forced&&(e[r]=0)}(e,R);for(var k=0;k<M;k++)H(e,n,r,k,i,g,w,O=1&k),X(e,i,k,g),0!=R[O]?W(y,g,S[k],E[k],k):G(y,k);for(R[0]+R[1]==2&&e.mode==t.JOINT_STEREO&&K(S,E,y.mld_cb_l,y.ATH.cb_l,e.ATHlower*y.ATH.adjust,e.msfix,y.npart_l),k=0;k<M;k++)0!=R[O=1&k]&&B(y,S[k],E[k],k);for(var L=0;L<3;L++){for(k=0;k<M;++k)0!=R[O=1&k]?U(y,k,L):(q(e,n,r,k,L,b,x,O),z(e,b,S[k],E[k],k,L));for(R[0]+R[1]==0&&e.mode==t.JOINT_STEREO&&K(S,E,y.mld_cb_s,y.ATH.cb_s,e.ATHlower*y.ATH.adjust,e.msfix,y.npart_s),k=0;k<M;++k)0==R[O=1&k]&&P(y,S[k],E[k],k,L)}for(k=0;k<M;k++){var O;if(0==R[O=1&k])for(var C=0;C<p.SBMAX_s;C++){var D=c(3);for(L=0;L<3;L++){var j=y.thm[k].s[C][L];if(j*=.8,T[k][L]>=2||1==T[k][L+1]){var F=0!=L?L-1:2,Z=V(y.thm[k].s[C][F],j,.36);j=Math.min(j,Z)}else 1==T[k][L]?(F=0!=L?L-1:2,Z=V(y.thm[k].s[C][F],j,.18),j=Math.min(j,Z)):(0!=L&&3==T[k][L-1]||0==L&&3==y.nsPsy.lastAttacks[k])&&(F=2!=L?L+1:0,Z=V(y.thm[k].s[C][F],j,.18),j=Math.min(j,Z));j*=A[k][L],D[L]=j}for(L=0;L<3;L++)y.thm[k].s[C][L]=D[L]}}for(k=0;k<M;k++)y.nsPsy.lastAttacks[k]=T[k][2];for(function(t,e,n){for(var r=t.internal_flags,i=0;i<r.channels_out;i++){var a=p.NORM_TYPE;0!=e[i]?(f(r.blocktype_old[i]!=p.START_TYPE),r.blocktype_old[i]==p.SHORT_TYPE&&(a=p.STOP_TYPE)):(a=p.SHORT_TYPE,r.blocktype_old[i]==p.NORM_TYPE&&(r.blocktype_old[i]=p.START_TYPE),r.blocktype_old[i]==p.STOP_TYPE&&(r.blocktype_old[i]=p.SHORT_TYPE)),n[i]=r.blocktype_old[i],r.blocktype_old[i]=a}}(e,R,v),k=0;k<M;k++){var $,Q,J,tt;k>1?($=d,Q=-2,J=p.NORM_TYPE,v[0]!=p.SHORT_TYPE&&v[1]!=p.SHORT_TYPE||(J=p.SHORT_TYPE),tt=s[i][k-2]):($=l,Q=0,J=v[k],tt=a[i][k]),J==p.SHORT_TYPE?$[Q+k]=N(tt,y.masking_lower):$[Q+k]=I(tt,y.masking_lower),e.analysis&&(y.pinfo.pe[i][k]=$[Q+k])}return 0},this.psymodel_init=function(t){var n,o,s=t.internal_flags,l=!0,u=13,h=24,d=0,m=0,_=-8.25,v=-4.5,y=c(p.CBANDS),g=c(p.CBANDS),S=c(p.CBANDS),E=t.out_samplerate;switch(t.experimentalZ){default:case 0:l=!0;break;case 1:l=t.VBR!=i.vbr_mtrh&&t.VBR!=i.vbr_mt;break;case 2:l=!1;break;case 3:u=8,d=-1.75,m=-.0125,_=-8.25,v=-2.25}for(s.ms_ener_ratio_old=.25,s.blocktype_old[0]=s.blocktype_old[1]=p.NORM_TYPE,n=0;n<4;++n){for(var A=0;A<p.CBANDS;++A)s.nb_1[n][A]=1e20,s.nb_2[n][A]=1e20,s.nb_s1[n][A]=s.nb_s2[n][A]=1;for(var T=0;T<p.SBMAX_l;T++)s.en[n].l[T]=1e20,s.thm[n].l[T]=1e20;for(A=0;A<3;++A){for(T=0;T<p.SBMAX_s;T++)s.en[n].s[T][A]=1e20,s.thm[n].s[T][A]=1e20;s.nsPsy.lastAttacks[n]=0}for(A=0;A<9;A++)s.nsPsy.last_en_subshort[n][A]=10}for(s.loudness_sq_save[0]=s.loudness_sq_save[1]=0,s.npart_l=J(s.numlines_l,s.bo_l,s.bm_l,y,g,s.mld_l,s.PSY.bo_l_weight,E,p.BLKSIZE,s.scalefac_band.l,p.BLKSIZE/1152,p.SBMAX_l),f(s.npart_l<p.CBANDS),n=0;n<s.npart_l;n++){var R=d;y[n]>=u&&(R=m*(y[n]-u)/(h-u)+d*(h-y[n])/(h-u)),S[n]=Math.pow(10,R/10),s.numlines_l[n]>0?s.rnumlines_l[n]=1/s.numlines_l[n]:s.rnumlines_l[n]=0}for(s.s3_ll=tt(s.s3ind,s.npart_l,y,g,S,l),A=0,n=0;n<s.npart_l;n++){P=a.MAX_VALUE;for(var M=0;M<s.numlines_l[n];M++,A++){var k=E*A/(1e3*p.BLKSIZE);B=this.ATHformula(1e3*k,t)-20,B=Math.pow(10,.1*B),P>(B*=s.numlines_l[n])&&(P=B)}s.ATH.cb_l[n]=P,(P=20*y[n]/10-20)>6&&(P=100),P<-15&&(P=-15),P-=8,s.minval_l[n]=Math.pow(10,P/10)*s.numlines_l[n]}for(s.npart_s=J(s.numlines_s,s.bo_s,s.bm_s,y,g,s.mld_s,s.PSY.bo_s_weight,E,p.BLKSIZE_s,s.scalefac_band.s,p.BLKSIZE_s/384,p.SBMAX_s),f(s.npart_s<p.CBANDS),A=0,n=0;n<s.npart_s;n++){var P;for(R=_,y[n]>=u&&(R=v*(y[n]-u)/(h-u)+_*(h-y[n])/(h-u)),S[n]=Math.pow(10,R/10),P=a.MAX_VALUE,M=0;M<s.numlines_s[n];M++,A++){var B;k=E*A/(1e3*p.BLKSIZE_s),B=this.ATHformula(1e3*k,t)-20,B=Math.pow(10,.1*B),P>(B*=s.numlines_s[n])&&(P=B)}s.ATH.cb_s[n]=P,P=7*y[n]/12-7,y[n]>12&&(P*=1+3.1*Math.log(1+P)),y[n]<12&&(P*=1+2.3*Math.log(1-P)),P<-15&&(P=-15),P-=8,s.minval_s[n]=Math.pow(10,P/10)*s.numlines_s[n]}s.s3_ss=tt(s.s3ind_s,s.npart_s,y,g,S,l),b=Math.pow(10,9/16),w=Math.pow(10,1.5),x=Math.pow(10,1.5),e.init_fft(s),s.decay=Math.exp(-1*r/(.01*E/192)),o=3.5,2&t.exp_nspsytune&&(o=1),Math.abs(t.msfix)>0&&(o=t.msfix),t.msfix=o;for(var L=0;L<s.npart_l;L++)s.s3ind[L][1]>s.npart_l-1&&(s.s3ind[L][1]=s.npart_l-1);var V=576*s.mode_gr/E;if(s.ATH.decay=Math.pow(10,-1.2*V),s.ATH.adjust=.01,s.ATH.adjustLimit=1,f(s.bo_l[p.SBMAX_l-1]<=s.npart_l),f(s.bo_s[p.SBMAX_s-1]<=s.npart_s),-1!=t.ATHtype){var O=t.out_samplerate/p.BLKSIZE,N=0;for(k=0,n=0;n<p.BLKSIZE/2;++n)k+=O,s.ATH.eql_w[n]=1/Math.pow(10,this.ATHformula(k,t)/10),N+=s.ATH.eql_w[n];for(N=1/N,n=p.BLKSIZE/2;--n>=0;)s.ATH.eql_w[n]*=N}for(L=A=0;L<s.npart_s;++L)for(n=0;n<s.numlines_s[L];++n)++A;for(f(129==A),L=A=0;L<s.npart_l;++L)for(n=0;n<s.numlines_l[L];++n)++A;for(f(513==A),A=0,n=0;n<s.npart_l;n++)k=E*(A+s.numlines_l[n]/2)/(1*p.BLKSIZE),s.mld_cb_l[n]=et(k),A+=s.numlines_l[n];for(;n<p.CBANDS;++n)s.mld_cb_l[n]=1;for(A=0,n=0;n<s.npart_s;n++)k=E*(A+s.numlines_s[n]/2)/(1*p.BLKSIZE_s),s.mld_cb_s[n]=et(k),A+=s.numlines_s[n];for(;n<p.CBANDS;++n)s.mld_cb_s[n]=1;return 0},this.ATHformula=function(t,e){var n;switch(e.ATHtype){case 0:n=nt(t,9);break;case 1:n=nt(t,-1);break;case 2:default:n=nt(t,0);break;case 3:n=nt(t,1)+6;break;case 4:n=nt(t,e.ATHcurve)}return n}}},1442:(t,e,n)=>{var r=n(7348),i=r.System,a=r.VbrMode,o=(r.Float,r.ShortBlock,r.Util),s=r.Arrays,l=(r.new_array_n,r.new_byte,r.new_double,r.new_float),c=(r.new_float_n,r.new_int,r.new_int_n,r.assert),u=n(2812),h=n(7649),f=n(8068),d=n(4621),p=n(1324),m=n(1331);t.exports=function(){var t,e,n;this.rv=null,this.qupvt=null;var r,_=new u;function v(t){this.ordinal=t}function y(t){for(var e=0;e<t.sfbmax;e++)if(t.scalefac[e]+t.subblock_gain[t.window[e]]==0)return!1;return!0}function g(t,e,n,r,i){var a;switch(t){default:case 9:e.over_count>0?(a=n.over_SSD<=e.over_SSD,n.over_SSD==e.over_SSD&&(a=n.bits<e.bits)):a=n.max_noise<0&&10*n.max_noise+n.bits<=10*e.max_noise+e.bits;break;case 0:a=n.over_count<e.over_count||n.over_count==e.over_count&&n.over_noise<e.over_noise||n.over_count==e.over_count&&BitStream.EQ(n.over_noise,e.over_noise)&&n.tot_noise<e.tot_noise;break;case 8:n.max_noise=function(t,e){for(var n,r=1e-37,i=0;i<e.psymax;i++)r+=(n=t[i],o.FAST_LOG10(.368+.632*n*n*n));return Math.max(1e-20,r)}(i,r);case 1:a=n.max_noise<e.max_noise;break;case 2:a=n.tot_noise<e.tot_noise;break;case 3:a=n.tot_noise<e.tot_noise&&n.max_noise<e.max_noise;break;case 4:a=n.max_noise<=0&&e.max_noise>.2||n.max_noise<=0&&e.max_noise<0&&e.max_noise>n.max_noise-.2&&n.tot_noise<e.tot_noise||n.max_noise<=0&&e.max_noise>0&&e.max_noise>n.max_noise-.2&&n.tot_noise<e.tot_noise+e.over_noise||n.max_noise>0&&e.max_noise>-.05&&e.max_noise>n.max_noise-.1&&n.tot_noise+n.over_noise<e.tot_noise+e.over_noise||n.max_noise>0&&e.max_noise>-.1&&e.max_noise>n.max_noise-.15&&n.tot_noise+n.over_noise+n.over_noise<e.tot_noise+e.over_noise+e.over_noise;break;case 5:a=n.over_noise<e.over_noise||BitStream.EQ(n.over_noise,e.over_noise)&&n.tot_noise<e.tot_noise;break;case 6:a=n.over_noise<e.over_noise||BitStream.EQ(n.over_noise,e.over_noise)&&(n.max_noise<e.max_noise||BitStream.EQ(n.max_noise,e.max_noise)&&n.tot_noise<=e.tot_noise);break;case 7:a=n.over_count<e.over_count||n.over_noise<e.over_noise}return 0==e.over_count&&(a=a&&n.bits<e.bits),a}function b(t,e,i,a,o){var l=t.internal_flags;!function(t,e,n,r,i){var a,o=t.internal_flags;a=0==e.scalefac_scale?1.2968395546510096:1.6817928305074292;for(var s=0,l=0;l<e.sfbmax;l++)s<n[l]&&(s=n[l]);var c=o.noise_shaping_amp;switch(3==c&&(c=i?2:1),c){case 2:break;case 1:s>1?s=Math.pow(s,.5):s*=.95;break;default:s>1?s=1:s*=.95}var u=0;for(l=0;l<e.sfbmax;l++){var h,f=e.width[l];if(u+=f,!(n[l]<s)){if(2&o.substep_shaping&&(o.pseudohalf[l]=0==o.pseudohalf[l]?1:0,0==o.pseudohalf[l]&&2==o.noise_shaping_amp))return;for(e.scalefac[l]++,h=-f;h<0;h++)r[u+h]*=a,r[u+h]>e.xrpow_max&&(e.xrpow_max=r[u+h]);if(2==o.noise_shaping_amp)return}}}(t,e,i,a,o);var u=y(e);return!(u||(u=2==l.mode_gr?r.scale_bitcount(e):r.scale_bitcount_lsf(l,e))&&(l.noise_shaping>1&&(s.fill(l.pseudohalf,0),0==e.scalefac_scale?(function(t,e){for(var r=0,i=0;i<t.sfbmax;i++){var a=t.width[i],o=t.scalefac[i];if(0!=t.preflag&&(o+=n.pretab[i]),r+=a,1&o){o++;for(var s=-a;s<0;s++)e[r+s]*=1.2968395546510096,e[r+s]>t.xrpow_max&&(t.xrpow_max=e[r+s])}t.scalefac[i]=o>>1}t.preflag=0,t.scalefac_scale=1}(e,a),u=!1):e.block_type==d.SHORT_TYPE&&l.subblock_gain>0&&(u=function(t,e,r){var i,a=e.scalefac;for(i=0;i<e.sfb_lmax;i++)if(a[i]>=16)return!0;for(var o=0;o<3;o++){var s=0,l=0;for(i=e.sfb_lmax+o;i<e.sfbdivide;i+=3)s<a[i]&&(s=a[i]);for(;i<e.sfbmax;i+=3)l<a[i]&&(l=a[i]);if(!(s<16&&l<8)){if(e.subblock_gain[o]>=7)return!0;e.subblock_gain[o]++;var u=t.scalefac_band.l[e.sfb_lmax];for(i=e.sfb_lmax+o;i<e.sfbmax;i+=3){var h=e.width[i],f=a[i];if(c(f>=0),(f-=4>>e.scalefac_scale)>=0)a[i]=f,u+=3*h;else{a[i]=0;var d=210+(f<<e.scalefac_scale+1);m=n.IPOW20(d),u+=h*(o+1);for(var p=-h;p<0;p++)r[u+p]*=m,r[u+p]>e.xrpow_max&&(e.xrpow_max=r[u+p]);u+=h*(3-o-1)}}var m=n.IPOW20(202);for(u+=e.width[i]*(o+1),p=-e.width[i];p<0;p++)r[u+p]*=m,r[u+p]>e.xrpow_max&&(e.xrpow_max=r[u+p])}}return!1}(l,e,a)||y(e))),u||(u=2==l.mode_gr?r.scale_bitcount(e):r.scale_bitcount_lsf(l,e)),u))}this.setModules=function(i,a,o,s){t=i,e=a,this.rv=a,n=o,this.qupvt=o,r=s,_.setModules(n,r)},this.ms_convert=function(t,e){for(var n=0;n<576;++n){var r=t.tt[e][0].xr[n],i=t.tt[e][1].xr[n];t.tt[e][0].xr[n]=(r+i)*(.5*o.SQRT2),t.tt[e][1].xr[n]=(r-i)*(.5*o.SQRT2)}},this.init_xrpow=function(t,e,n){var r=0,i=0|e.max_nonzero_coeff;if(c(null!=n),e.xrpow_max=0,c(0<=i&&i<=575),s.fill(n,i,576,0),r=function(t,e,n,r){r=0;for(var i=0;i<=n;++i){var a=Math.abs(t.xr[i]);r+=a,e[i]=Math.sqrt(a*Math.sqrt(a)),e[i]>t.xrpow_max&&(t.xrpow_max=e[i])}return r}(e,n,i,r),r>1e-20){var a=0;2&t.substep_shaping&&(a=1);for(var o=0;o<e.psymax;o++)t.pseudohalf[o]=a;return!0}return s.fill(e.l3_enc,0,576,0),!1},this.init_outer_loop=function(t,e){e.part2_3_length=0,e.big_values=0,e.count1=0,e.global_gain=210,e.scalefac_compress=0,e.table_select[0]=0,e.table_select[1]=0,e.table_select[2]=0,e.subblock_gain[0]=0,e.subblock_gain[1]=0,e.subblock_gain[2]=0,e.subblock_gain[3]=0,e.region0_count=0,e.region1_count=0,e.preflag=0,e.scalefac_scale=0,e.count1table_select=0,e.part2_length=0,e.sfb_lmax=d.SBPSY_l,e.sfb_smin=d.SBPSY_s,e.psy_lmax=t.sfb21_extra?d.SBMAX_l:d.SBPSY_l,e.psymax=e.psy_lmax,e.sfbmax=e.sfb_lmax,e.sfbdivide=11;for(var r=0;r<d.SBMAX_l;r++)e.width[r]=t.scalefac_band.l[r+1]-t.scalefac_band.l[r],e.window[r]=3;if(e.block_type==d.SHORT_TYPE){var a=l(576);e.sfb_smin=0,e.sfb_lmax=0,0!=e.mixed_block_flag&&(e.sfb_smin=3,e.sfb_lmax=2*t.mode_gr+4),e.psymax=e.sfb_lmax+3*((t.sfb21_extra?d.SBMAX_s:d.SBPSY_s)-e.sfb_smin),e.sfbmax=e.sfb_lmax+3*(d.SBPSY_s-e.sfb_smin),e.sfbdivide=e.sfbmax-18,e.psy_lmax=e.sfb_lmax;var o=t.scalefac_band.l[e.sfb_lmax];for(i.arraycopy(e.xr,0,a,0,576),r=e.sfb_smin;r<d.SBMAX_s;r++)for(var c=t.scalefac_band.s[r],u=t.scalefac_band.s[r+1],h=0;h<3;h++)for(var f=c;f<u;f++)e.xr[o++]=a[3*f+h];var p=e.sfb_lmax;for(r=e.sfb_smin;r<d.SBMAX_s;r++)e.width[p]=e.width[p+1]=e.width[p+2]=t.scalefac_band.s[r+1]-t.scalefac_band.s[r],e.window[p]=0,e.window[p+1]=1,e.window[p+2]=2,p+=3}e.count1bits=0,e.sfb_partition_table=n.nr_of_sfb_block[0][0],e.slen[0]=0,e.slen[1]=0,e.slen[2]=0,e.slen[3]=0,e.max_nonzero_coeff=575,s.fill(e.scalefac,0),function(t,e){var r=t.ATH,i=e.xr;if(e.block_type!=d.SHORT_TYPE)for(var a=!1,o=d.PSFB21-1;o>=0&&!a;o--){var s=t.scalefac_band.psfb21[o],l=t.scalefac_band.psfb21[o+1],c=n.athAdjust(r.adjust,r.psfb21[o],r.floor);t.nsPsy.longfact[21]>1e-12&&(c*=t.nsPsy.longfact[21]);for(var u=l-1;u>=s;u--){if(!(Math.abs(i[u])<c)){a=!0;break}i[u]=0}}else for(var h=0;h<3;h++)for(a=!1,o=d.PSFB12-1;o>=0&&!a;o--){l=(s=3*t.scalefac_band.s[12]+(t.scalefac_band.s[13]-t.scalefac_band.s[12])*h+(t.scalefac_band.psfb12[o]-t.scalefac_band.psfb12[0]))+(t.scalefac_band.psfb12[o+1]-t.scalefac_band.psfb12[o]);var f=n.athAdjust(r.adjust,r.psfb12[o],r.floor);for(t.nsPsy.shortfact[12]>1e-12&&(f*=t.nsPsy.shortfact[12]),u=l-1;u>=s;u--){if(!(Math.abs(i[u])<f)){a=!0;break}i[u]=0}}}(t,e)},v.BINSEARCH_NONE=new v(0),v.BINSEARCH_UP=new v(1),v.BINSEARCH_DOWN=new v(2),this.trancate_smallspectrums=function(t,e,i,a){var o=l(m.SFBMAX);if((4&t.substep_shaping||e.block_type!=d.SHORT_TYPE)&&!(128&t.substep_shaping)){n.calc_noise(e,i,o,new h,null);for(var c=0;c<576;c++){var u=0;0!=e.l3_enc[c]&&(u=Math.abs(e.xr[c])),a[c]=u}c=0;var f=8;e.block_type==d.SHORT_TYPE&&(f=6);do{var p,_,v,y,g=e.width[f];if(c+=g,!(o[f]>=1||(s.sort(a,c-g,g),BitStream.EQ(a[c-1],0)))){p=(1-o[f])*i[f],_=0,y=0;do{var b;for(v=1;y+v<g&&!BitStream.NEQ(a[y+c-g],a[y+c+v-g]);v++);if(p<(b=a[y+c-g]*a[y+c-g]*v)){0!=y&&(_=a[y+c-g-1]);break}p-=b,y+=v}while(y<g);if(!BitStream.EQ(_,0))do{Math.abs(e.xr[c-g])<=_&&(e.l3_enc[c-g]=0)}while(--g>0)}}while(++f<e.psymax);e.part2_3_length=r.noquant_count_bits(t,e,null)}},this.outer_loop=function(t,e,o,s,u,_){var y=t.internal_flags,w=new p,x=l(576),S=l(m.SFBMAX),E=new h,A=new f,T=9999999,R=!1,M=!1,k=0;if(function(t,e,n,i,a){var o,s=t.CurrentStep[i],l=!1,u=t.OldValue[i],h=v.BINSEARCH_NONE;for(e.global_gain=u,n-=e.part2_length,c(0!=s);;){var f;if(o=r.count_bits(t,a,e,null),1==s||o==n)break;o>n?(h==v.BINSEARCH_DOWN&&(l=!0),l&&(s/=2),h=v.BINSEARCH_UP,f=s):(h==v.BINSEARCH_UP&&(l=!0),l&&(s/=2),h=v.BINSEARCH_DOWN,f=-s),e.global_gain+=f,e.global_gain<0&&(e.global_gain=0,l=!0),e.global_gain>255&&(e.global_gain=255,l=!0)}for(c(e.global_gain>=0),c(e.global_gain<256);o>n&&e.global_gain<255;)e.global_gain++,o=r.count_bits(t,a,e,null);t.CurrentStep[i]=u-e.global_gain>=4?4:2,t.OldValue[i]=e.global_gain,e.part2_3_length=o}(y,e,_,u,s),0==y.noise_shaping)return 100;n.calc_noise(e,o,S,E,A),E.bits=e.part2_3_length,w.assign(e);var P=0;for(i.arraycopy(s,0,x,0,576);!R;){do{var B,L=new h,V=255;if(B=2&y.substep_shaping?20:3,y.sfb21_extra){if(S[w.sfbmax]>1)break;if(w.block_type==d.SHORT_TYPE&&(S[w.sfbmax+1]>1||S[w.sfbmax+2]>1))break}if(!b(t,w,S,s,M))break;0!=w.scalefac_scale&&(V=254);var O=_-w.part2_length;if(O<=0)break;for(;(w.part2_3_length=r.count_bits(y,s,w,A))>O&&w.global_gain<=V;)w.global_gain++;if(w.global_gain>V)break;if(0==E.over_count){for(;(w.part2_3_length=r.count_bits(y,s,w,A))>T&&w.global_gain<=V;)w.global_gain++;if(w.global_gain>V)break}if(n.calc_noise(w,o,S,L,A),L.bits=w.part2_3_length,0!=(g(e.block_type!=d.SHORT_TYPE?t.quant_comp:t.quant_comp_short,E,L,w,S)?1:0))T=e.part2_3_length,E=L,e.assign(w),P=0,i.arraycopy(s,0,x,0,576);else if(0==y.full_outer_loop){if(++P>B&&0==E.over_count)break;if(3==y.noise_shaping_amp&&M&&P>30)break;if(3==y.noise_shaping_amp&&M&&w.global_gain-k>15)break}}while(w.global_gain+w.scalefac_scale<255);3==y.noise_shaping_amp?M?R=!0:(w.assign(e),i.arraycopy(x,0,s,0,576),P=0,k=w.global_gain,M=!0):R=!0}return c(e.global_gain+e.scalefac_scale<=255),t.VBR==a.vbr_rh||t.VBR==a.vbr_mtrh?i.arraycopy(x,0,s,0,576):1&y.substep_shaping&&trancate_smallspectrums(y,e,o,s),E.over_count},this.iteration_finish_one=function(t,n,i){var a=t.l3_side,o=a.tt[n][i];r.best_scalefac_store(t,n,i,a),1==t.use_best_huffman&&r.best_huffman_divide(t,o),e.ResvAdjust(t,o)},this.VBR_encode_granule=function(t,e,n,r,a,o,u){var h,f=t.internal_flags,d=new p,m=l(576),_=u,v=u+1,y=(u+o)/2,g=0,b=f.sfb21_extra;c(_<=LameInternalFlags.MAX_BITS_PER_CHANNEL),s.fill(d.l3_enc,0);do{c(y>=o),c(y<=u),c(o<=u),f.sfb21_extra=!(y>_-42)&&b,outer_loop(t,e,n,r,a,y)<=0?(g=1,v=e.part2_3_length,d.assign(e),i.arraycopy(r,0,m,0,576),h=(u=v-32)-o,y=(u+o)/2):(h=u-(o=y+32),y=(u+o)/2,0!=g&&(g=2,e.assign(d),i.arraycopy(m,0,r,0,576)))}while(h>12);f.sfb21_extra=b,2==g&&i.arraycopy(d.l3_enc,0,e.l3_enc,0,576),c(e.part2_3_length<=_)},this.get_framebits=function(n,r){var i=n.internal_flags;i.bitrate_index=i.VBR_min_bitrate;var a=t.getframebits(n);i.bitrate_index=1,a=t.getframebits(n);for(var o=1;o<=i.VBR_max_bitrate;o++){i.bitrate_index=o;var s=new MeanBits(a);r[o]=e.ResvFrameBegin(n,s),a=s.bits}},this.VBR_old_prepare=function(t,r,i,a,o,s,l,c,u){var h,f=t.internal_flags,p=0,m=1,_=0;f.bitrate_index=f.VBR_max_bitrate;var v=e.ResvFrameBegin(t,new MeanBits(0))/f.mode_gr;get_framebits(t,s);for(var y=0;y<f.mode_gr;y++){var g=n.on_pe(t,r,c[y],v,y,0);f.mode_ext==d.MPG_MD_MS_LR&&(ms_convert(f.l3_side,y),n.reduce_side(c[y],i[y],v,g));for(var b=0;b<f.channels_out;++b){var w=f.l3_side.tt[y][b];w.block_type!=d.SHORT_TYPE?(p=1.28/(1+Math.exp(3.5-r[y][b]/300))-.05,h=f.PSY.mask_adjust-p):(p=2.56/(1+Math.exp(3.5-r[y][b]/300))-.14,h=f.PSY.mask_adjust_short-p),f.masking_lower=Math.pow(10,.1*h),init_outer_loop(f,w),u[y][b]=n.calc_xmin(t,a[y][b],w,o[y][b]),0!=u[y][b]&&(m=0),l[y][b]=126,_+=c[y][b]}}for(y=0;y<f.mode_gr;y++)for(b=0;b<f.channels_out;b++)_>s[f.VBR_max_bitrate]&&(c[y][b]*=s[f.VBR_max_bitrate],c[y][b]/=_),l[y][b]>c[y][b]&&(l[y][b]=c[y][b]);return m},this.bitpressure_strategy=function(t,e,n,r){for(var i=0;i<t.mode_gr;i++)for(var a=0;a<t.channels_out;a++){for(var o=t.l3_side.tt[i][a],s=e[i][a],l=0,c=0;c<o.psy_lmax;c++)s[l++]*=1+.029*c*c/d.SBMAX_l/d.SBMAX_l;if(o.block_type==d.SHORT_TYPE)for(c=o.sfb_smin;c<d.SBMAX_s;c++)s[l++]*=1+.029*c*c/d.SBMAX_s/d.SBMAX_s,s[l++]*=1+.029*c*c/d.SBMAX_s/d.SBMAX_s,s[l++]*=1+.029*c*c/d.SBMAX_s/d.SBMAX_s;r[i][a]=0|Math.max(n[i][a],.9*r[i][a])}},this.VBR_new_prepare=function(t,r,i,a,o,s){var l,c=t.internal_flags,u=1,h=0,f=0;if(t.free_format)c.bitrate_index=0,p=new MeanBits(h),l=e.ResvFrameBegin(t,p),h=p.bits,o[0]=l;else{c.bitrate_index=c.VBR_max_bitrate;var p=new MeanBits(h);e.ResvFrameBegin(t,p),h=p.bits,get_framebits(t,o),l=o[c.VBR_max_bitrate]}for(var m=0;m<c.mode_gr;m++){n.on_pe(t,r,s[m],h,m,0),c.mode_ext==d.MPG_MD_MS_LR&&ms_convert(c.l3_side,m);for(var _=0;_<c.channels_out;++_){var v=c.l3_side.tt[m][_];c.masking_lower=Math.pow(10,.1*c.PSY.mask_adjust),init_outer_loop(c,v),0!=n.calc_xmin(t,i[m][_],v,a[m][_])&&(u=0),f+=s[m][_]}}for(m=0;m<c.mode_gr;m++)for(_=0;_<c.channels_out;_++)f>l&&(s[m][_]*=l,s[m][_]/=f);return u},this.calc_target_bits=function(r,i,a,o,s,l){var c,u,h,f,p=r.internal_flags,m=p.l3_side,_=0;p.bitrate_index=p.VBR_max_bitrate;var v=new MeanBits(_);for(l[0]=e.ResvFrameBegin(r,v),_=v.bits,p.bitrate_index=1,_=t.getframebits(r)-8*p.sideinfo_len,s[0]=_/(p.mode_gr*p.channels_out),_=r.VBR_mean_bitrate_kbps*r.framesize*1e3,1&p.substep_shaping&&(_*=1.09),_/=r.out_samplerate,_-=8*p.sideinfo_len,_/=p.mode_gr*p.channels_out,(c=.93+.07*(11-r.compression_ratio)/5.5)<.9&&(c=.9),c>1&&(c=1),u=0;u<p.mode_gr;u++){var y=0;for(h=0;h<p.channels_out;h++){if(o[u][h]=int(c*_),i[u][h]>700){var g=int((i[u][h]-700)/1.4),b=m.tt[u][h];o[u][h]=int(c*_),b.block_type==d.SHORT_TYPE&&g<_/2&&(g=_/2),g>3*_/2?g=3*_/2:g<0&&(g=0),o[u][h]+=g}o[u][h]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(o[u][h]=LameInternalFlags.MAX_BITS_PER_CHANNEL),y+=o[u][h]}if(y>LameInternalFlags.MAX_BITS_PER_GRANULE)for(h=0;h<p.channels_out;++h)o[u][h]*=LameInternalFlags.MAX_BITS_PER_GRANULE,o[u][h]/=y}if(p.mode_ext==d.MPG_MD_MS_LR)for(u=0;u<p.mode_gr;u++)n.reduce_side(o[u],a[u],_*p.channels_out,LameInternalFlags.MAX_BITS_PER_GRANULE);for(f=0,u=0;u<p.mode_gr;u++)for(h=0;h<p.channels_out;h++)o[u][h]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(o[u][h]=LameInternalFlags.MAX_BITS_PER_CHANNEL),f+=o[u][h];if(f>l[0])for(u=0;u<p.mode_gr;u++)for(h=0;h<p.channels_out;h++)o[u][h]*=l[0],o[u][h]/=f}}},3866:(t,e,n)=>{var r=n(2613),i=n(7348),a=(i.System,i.VbrMode),o=i.Float,s=(i.ShortBlock,i.Util),l=(i.Arrays,i.new_array_n,i.new_byte,i.new_double,i.new_float),c=(i.new_float_n,i.new_int),u=(i.new_int_n,i.assert),h=n(4621),f=n(532),d=n(4498);function p(){var t=n(4002),e=null,i=null,m=null;this.setModules=function(t,n,r){e=t,i=n,m=r},this.IPOW20=function(t){return u(0<=t&&t<p.Q_MAX),x[t]};var _=2220446049250313e-31,v=p.IXMAX_VAL+2,y=p.Q_MAX,g=p.Q_MAX2;p.LARGE_BITS,this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var b=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=b,this.sfBandIndex=[new r([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new r([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new r([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new r([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new r([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new r([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new r([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new r([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new r([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0,8,16,24,36,52,72,96,124,160,162,164,166,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var w=l(y+g+1),x=l(y),S=l(v),E=l(v);function A(t,e){var n=m.ATHformula(e,t);return n-=100,Math.pow(10,n/10+t.ATHlower)}function T(t){this.s=t}this.adj43=E,this.iteration_init=function(t){var n,r=t.internal_flags,i=r.l3_side;if(0==r.iteration_init_init){for(r.iteration_init_init=1,i.main_data_begin=0,function(t){for(var e=t.internal_flags.ATH.l,n=t.internal_flags.ATH.psfb21,r=t.internal_flags.ATH.s,i=t.internal_flags.ATH.psfb12,a=t.internal_flags,s=t.out_samplerate,l=0;l<h.SBMAX_l;l++){var c=a.scalefac_band.l[l],u=a.scalefac_band.l[l+1];e[l]=o.MAX_VALUE;for(var f=c;f<u;f++){var d=A(t,f*s/1152);e[l]=Math.min(e[l],d)}}for(l=0;l<h.PSFB21;l++)for(c=a.scalefac_band.psfb21[l],u=a.scalefac_band.psfb21[l+1],n[l]=o.MAX_VALUE,f=c;f<u;f++)d=A(t,f*s/1152),n[l]=Math.min(n[l],d);for(l=0;l<h.SBMAX_s;l++){for(c=a.scalefac_band.s[l],u=a.scalefac_band.s[l+1],r[l]=o.MAX_VALUE,f=c;f<u;f++)d=A(t,f*s/384),r[l]=Math.min(r[l],d);r[l]*=a.scalefac_band.s[l+1]-a.scalefac_band.s[l]}for(l=0;l<h.PSFB12;l++){for(c=a.scalefac_band.psfb12[l],u=a.scalefac_band.psfb12[l+1],i[l]=o.MAX_VALUE,f=c;f<u;f++)d=A(t,f*s/384),i[l]=Math.min(i[l],d);i[l]*=a.scalefac_band.s[13]-a.scalefac_band.s[12]}if(t.noATH){for(l=0;l<h.SBMAX_l;l++)e[l]=1e-20;for(l=0;l<h.PSFB21;l++)n[l]=1e-20;for(l=0;l<h.SBMAX_s;l++)r[l]=1e-20;for(l=0;l<h.PSFB12;l++)i[l]=1e-20}a.ATH.floor=10*Math.log10(A(t,-1))}(t),S[0]=0,n=1;n<v;n++)S[n]=Math.pow(n,4/3);for(n=0;n<v-1;n++)E[n]=n+1-Math.pow(.5*(S[n]+S[n+1]),.75);for(E[n]=.5,n=0;n<y;n++)x[n]=Math.pow(2,-.1875*(n-210));for(n=0;n<=y+g;n++)w[n]=Math.pow(2,.25*(n-210-g));var a,s,l,c;for(e.huffman_init(r),(n=t.exp_nspsytune>>2&63)>=32&&(n-=64),a=Math.pow(10,n/4/10),(n=t.exp_nspsytune>>8&63)>=32&&(n-=64),s=Math.pow(10,n/4/10),(n=t.exp_nspsytune>>14&63)>=32&&(n-=64),l=Math.pow(10,n/4/10),(n=t.exp_nspsytune>>20&63)>=32&&(n-=64),c=l*Math.pow(10,n/4/10),n=0;n<h.SBMAX_l;n++)u=n<=6?a:n<=13?s:n<=20?l:c,r.nsPsy.longfact[n]=u;for(n=0;n<h.SBMAX_s;n++){var u;u=n<=5?a:n<=10?s:n<=11?l:c,r.nsPsy.shortfact[n]=u}}},this.on_pe=function(t,e,n,r,a,o){var s,l,h=t.internal_flags,p=0,m=c(2),_=new f(p),v=i.ResvMaxBits(t,r,_,o),y=(p=_.bits)+v;for(y>d.MAX_BITS_PER_GRANULE&&(y=d.MAX_BITS_PER_GRANULE),s=0,l=0;l<h.channels_out;++l)n[l]=Math.min(d.MAX_BITS_PER_CHANNEL,p/h.channels_out),m[l]=0|n[l]*e[a][l]/700-n[l],m[l]>3*r/4&&(m[l]=3*r/4),m[l]<0&&(m[l]=0),m[l]+n[l]>d.MAX_BITS_PER_CHANNEL&&(m[l]=Math.max(0,d.MAX_BITS_PER_CHANNEL-n[l])),s+=m[l];if(s>v)for(l=0;l<h.channels_out;++l)m[l]=v*m[l]/s;for(l=0;l<h.channels_out;++l)n[l]+=m[l],v-=m[l];for(s=0,l=0;l<h.channels_out;++l)s+=n[l];if(s>d.MAX_BITS_PER_GRANULE){var g=0;for(l=0;l<h.channels_out;++l)n[l]*=d.MAX_BITS_PER_GRANULE,n[l]/=s,g+=n[l];u(g<=d.MAX_BITS_PER_GRANULE)}return y},this.reduce_side=function(t,e,n,r){u(r<=d.MAX_BITS_PER_GRANULE),u(t[0]+t[1]<=d.MAX_BITS_PER_GRANULE);var i=.33*(.5-e)/.5;i<0&&(i=0),i>.5&&(i=.5);var a=0|.5*i*(t[0]+t[1]);a>d.MAX_BITS_PER_CHANNEL-t[0]&&(a=d.MAX_BITS_PER_CHANNEL-t[0]),a<0&&(a=0),t[1]>=125&&(t[1]-a>125?(t[0]<n&&(t[0]+=a),t[1]-=a):(t[0]+=t[1]-125,t[1]=125)),(a=t[0]+t[1])>r&&(t[0]=r*t[0]/a,t[1]=r*t[1]/a),u(t[0]<=d.MAX_BITS_PER_CHANNEL),u(t[1]<=d.MAX_BITS_PER_CHANNEL),u(t[0]+t[1]<=d.MAX_BITS_PER_GRANULE)},this.athAdjust=function(t,e,n){var r=90.30873362,i=s.FAST_LOG10_X(e,10),a=t*t,o=0;return i-=n,a>1e-20&&(o=1+s.FAST_LOG10_X(a,10/r)),o<0&&(o=0),i*=o,i+=n+r-94.82444863,Math.pow(10,.1*i)},this.calc_xmin=function(e,n,r,i){var o,s=0,l=e.internal_flags,c=0,u=0,f=l.ATH,d=r.xr,p=e.VBR==a.vbr_mtrh?1:0,m=l.masking_lower;for(e.VBR!=a.vbr_mtrh&&e.VBR!=a.vbr_mt||(m=1),o=0;o<r.psy_lmax;o++){E=(S=e.VBR==a.vbr_rh||e.VBR==a.vbr_mtrh?athAdjust(f.adjust,f.l[o],f.floor):f.adjust*f.l[o])/(b=r.width[o]),A=_,k=b>>1,M=0;do{M+=P=d[c]*d[c],A+=P<E?P:E,M+=B=d[++c]*d[c],A+=B<E?B:E,c++}while(--k>0);M>S&&u++,o==h.SBPSY_l&&A<(R=S*l.nsPsy.longfact[o])&&(A=R),0!=p&&(S=A),e.ATHonly||(T=n.en.l[o])>0&&(R=M*n.thm.l[o]*m/T,0!=p&&(R*=l.nsPsy.longfact[o]),S<R&&(S=R)),i[s++]=0!=p?S:S*l.nsPsy.longfact[o]}var v=575;if(r.block_type!=h.SHORT_TYPE)for(var y=576;0!=y--&&t.EQ(d[y],0);)v=y;r.max_nonzero_coeff=v;for(var g=r.sfb_smin;o<r.psymax;g++,o+=3){var b,w,x;for(x=e.VBR==a.vbr_rh||e.VBR==a.vbr_mtrh?athAdjust(f.adjust,f.s[g],f.floor):f.adjust*f.s[g],b=r.width[o],w=0;w<3;w++){var S,E,A,T,R,M=0,k=b>>1;E=x/b,A=_;do{var P,B;M+=P=d[c]*d[c],A+=P<E?P:E,M+=B=d[++c]*d[c],A+=B<E?B:E,c++}while(--k>0);M>x&&u++,g==h.SBPSY_s&&A<(R=x*l.nsPsy.shortfact[g])&&(A=R),S=0!=p?A:x,e.ATHonly||e.ATHshort||(T=n.en.s[g][w])>0&&(R=M*n.thm.s[g][w]*m/T,0!=p&&(R*=l.nsPsy.shortfact[g]),S<R&&(S=R)),i[s++]=0!=p?S:S*l.nsPsy.shortfact[g]}e.useTemporal&&(i[s-3]>i[s-3+1]&&(i[s-3+1]+=(i[s-3]-i[s-3+1])*l.decay),i[s-3+1]>i[s-3+2]&&(i[s-3+2]+=(i[s-3+1]-i[s-3+2])*l.decay))}return u},this.calc_noise_core=function(t,e,n,r){var i=0,a=e.s,o=t.l3_enc;if(a>t.count1)for(;0!=n--;)c=t.xr[a],a++,i+=c*c,c=t.xr[a],a++,i+=c*c;else if(a>t.big_values){var s=l(2);for(s[0]=0,s[1]=r;0!=n--;)c=Math.abs(t.xr[a])-s[o[a]],a++,i+=c*c,c=Math.abs(t.xr[a])-s[o[a]],a++,i+=c*c}else for(;0!=n--;){var c;c=Math.abs(t.xr[a])-S[o[a]]*r,a++,i+=c*c,c=Math.abs(t.xr[a])-S[o[a]]*r,a++,i+=c*c}return e.s=a,i},this.calc_noise=function(t,e,n,r,i){var a,o,l,c=0,h=0,f=0,d=0,m=0,_=-20,v=0,y=t.scalefac,g=0;for(r.over_SSD=0,a=0;a<t.psymax;a++){var x,S=t.global_gain-(y[g++]+(0!=t.preflag?b[a]:0)<<t.scalefac_scale+1)-8*t.subblock_gain[t.window[a]],E=0;if(null!=i&&i.step[a]==S)E=i.noise[a],v+=t.width[a],n[c++]=E/e[h++],E=i.noise_log[a];else{var A,R=(u(0<=(l=S)+p.Q_MAX2&&l<p.Q_MAX),w[l+p.Q_MAX2]);o=t.width[a]>>1,v+t.width[a]>t.max_nonzero_coeff&&(o=(A=t.max_nonzero_coeff-v+1)>0?A>>1:0);var M=new T(v);E=this.calc_noise_core(t,M,o,R),v=M.s,null!=i&&(i.step[a]=S,i.noise[a]=E),E=n[c++]=E/e[h++],E=s.FAST_LOG10(Math.max(E,1e-20)),null!=i&&(i.noise_log[a]=E)}null!=i&&(i.global_gain=t.global_gain),m+=E,E>0&&(x=Math.max(0|10*E+.5,1),r.over_SSD+=x*x,f++,d+=E),_=Math.max(_,E)}return r.over_count=f,r.tot_noise=m,r.over_noise=d,r.max_noise=_,f},this.set_pinfo=function(t,e,n,r,i){var a,o,s,c,f,d=t.internal_flags,p=0==e.scalefac_scale?.5:1,m=e.scalefac,_=l(L3Side.SFBMAX),v=l(L3Side.SFBMAX),y=new CalcNoiseResult;calc_xmin(t,n,e,_),calc_noise(e,_,v,y,null);var g=0;for(o=e.sfb_lmax,e.block_type!=h.SHORT_TYPE&&0==e.mixed_block_flag&&(o=22),a=0;a<o;a++){var w=d.scalefac_band.l[a],x=(S=d.scalefac_band.l[a+1])-w;for(c=0;g<S;g++)c+=e.xr[g]*e.xr[g];c/=x,f=1e15,d.pinfo.en[r][i][a]=f*c,d.pinfo.xfsf[r][i][a]=f*_[a]*v[a]/x,n.en.l[a]>0&&!t.ATHonly?c/=n.en.l[a]:c=0,d.pinfo.thr[r][i][a]=f*Math.max(c*n.thm.l[a],d.ATH.l[a]),d.pinfo.LAMEsfb[r][i][a]=0,0!=e.preflag&&a>=11&&(d.pinfo.LAMEsfb[r][i][a]=-p*b[a]),a<h.SBPSY_l&&(u(m[a]>=0),d.pinfo.LAMEsfb[r][i][a]-=p*m[a])}if(e.block_type==h.SHORT_TYPE)for(o=a,a=e.sfb_smin;a<h.SBMAX_s;a++){w=d.scalefac_band.s[a],x=(S=d.scalefac_band.s[a+1])-w;for(var S,E=0;E<3;E++){for(c=0,s=w;s<S;s++)c+=e.xr[g]*e.xr[g],g++;c=Math.max(c/x,1e-20),f=1e15,d.pinfo.en_s[r][i][3*a+E]=f*c,d.pinfo.xfsf_s[r][i][3*a+E]=f*_[o]*v[o]/x,n.en.s[a][E]>0?c/=n.en.s[a][E]:c=0,(t.ATHonly||t.ATHshort)&&(c=0),d.pinfo.thr_s[r][i][3*a+E]=f*Math.max(c*n.thm.s[a][E],d.ATH.s[a]),d.pinfo.LAMEsfb_s[r][i][3*a+E]=-2*e.subblock_gain[E],a<h.SBPSY_s&&(d.pinfo.LAMEsfb_s[r][i][3*a+E]-=p*m[o]),o++}}d.pinfo.LAMEqss[r][i]=e.global_gain,d.pinfo.LAMEmainbits[r][i]=e.part2_3_length+e.part2_length,d.pinfo.LAMEsfbits[r][i]=e.part2_length,d.pinfo.over[r][i]=y.over_count,d.pinfo.max_noise[r][i]=10*y.max_noise,d.pinfo.over_noise[r][i]=10*y.over_noise,d.pinfo.tot_noise[r][i]=10*y.tot_noise,d.pinfo.over_SSD[r][i]=y.over_SSD}}p.Q_MAX=257,p.Q_MAX2=116,p.LARGE_BITS=1e5,p.IXMAX_VAL=8206,t.exports=p},4149:(t,e,n)=>{var r=n(7348),i=(r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double,r.new_float),a=(r.new_float_n,r.new_int),o=(r.new_int_n,r.assert,n(9356));t.exports=function(){this.linprebuf=i(2*o.MAX_ORDER),this.linpre=0,this.lstepbuf=i(o.MAX_SAMPLES_PER_WINDOW+o.MAX_ORDER),this.lstep=0,this.loutbuf=i(o.MAX_SAMPLES_PER_WINDOW+o.MAX_ORDER),this.lout=0,this.rinprebuf=i(2*o.MAX_ORDER),this.rinpre=0,this.rstepbuf=i(o.MAX_SAMPLES_PER_WINDOW+o.MAX_ORDER),this.rstep=0,this.routbuf=i(o.MAX_SAMPLES_PER_WINDOW+o.MAX_ORDER),this.rout=0,this.sampleWindow=0,this.totsamp=0,this.lsum=0,this.rsum=0,this.freqindex=0,this.first=0,this.A=a(0|o.STEPS_per_dB*o.MAX_dB),this.B=a(0|o.STEPS_per_dB*o.MAX_dB)}},3396:(t,e,n)=>{var r=n(7348).assert;t.exports=function(){var t;this.setModules=function(e){t=e},this.ResvFrameBegin=function(e,n){var i,a=e.internal_flags,o=a.l3_side,s=t.getframebits(e);n.bits=(s-8*a.sideinfo_len)/a.mode_gr;var l=2048*a.mode_gr-8;e.brate>320?i=8*int(1e3*e.brate/(e.out_samplerate/1152)/8+.5):(i=11520,e.strict_ISO&&(i=8*int(32e4/(e.out_samplerate/1152)/8+.5))),a.ResvMax=i-s,a.ResvMax>l&&(a.ResvMax=l),(a.ResvMax<0||e.disable_reservoir)&&(a.ResvMax=0);var c=n.bits*a.mode_gr+Math.min(a.ResvSize,a.ResvMax);return c>i&&(c=i),r(0==a.ResvMax%8),r(a.ResvMax>=0),o.resvDrain_pre=0,null!=a.pinfo&&(a.pinfo.mean_bits=n.bits/2,a.pinfo.resvsize=a.ResvSize),c},this.ResvMaxBits=function(t,e,n,r){var i,a=t.internal_flags,o=a.ResvSize,s=a.ResvMax;0!=r&&(o+=e),1&a.substep_shaping&&(s*=.9),n.bits=e,10*o>9*s?(i=o-9*s/10,n.bits+=i,a.substep_shaping|=128):(i=0,a.substep_shaping&=127,t.disable_reservoir||1&a.substep_shaping||(n.bits-=.1*e));var l=o<6*a.ResvMax/10?o:6*a.ResvMax/10;return(l-=i)<0&&(l=0),l},this.ResvAdjust=function(t,e){t.ResvSize-=e.part2_3_length+e.part2_length},this.ResvFrameEnd=function(t,e){var n,i=t.l3_side;t.ResvSize+=e*t.mode_gr;var a=0;i.resvDrain_post=0,i.resvDrain_pre=0,0!=(n=t.ResvSize%8)&&(a+=n),(n=t.ResvSize-a-t.ResvMax)>0&&(r(0==n%8),r(n>=0),a+=n);var o=Math.min(8*i.main_data_begin,a)/8;i.resvDrain_pre+=8*o,a-=8*o,t.ResvSize-=8*o,i.main_data_begin-=o,i.resvDrain_post+=a,t.ResvSize-=a}}},2613:(t,e,n)=>{var r=n(7348),i=r.System,a=(r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte,r.new_double,r.new_float,r.new_float_n,r.new_int),o=(r.new_int_n,r.assert,n(4621));t.exports=function(t,e,n,r){this.l=a(1+o.SBMAX_l),this.s=a(1+o.SBMAX_s),this.psfb21=a(1+o.PSFB21),this.psfb12=a(1+o.PSFB12);var s=this.l,l=this.s;4==arguments.length&&(this.arrL=arguments[0],this.arrS=arguments[1],this.arr21=arguments[2],this.arr12=arguments[3],i.arraycopy(this.arrL,0,s,0,Math.min(this.arrL.length,this.l.length)),i.arraycopy(this.arrS,0,l,0,Math.min(this.arrS.length,this.s.length)),i.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),i.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}},1632:t=>{function e(t,e,n,r){this.xlen=t,this.linmax=e,this.table=n,this.hlen=r}var n={t1HB:[1,1,1,0],t2HB:[1,2,1,3,1,1,3,2,0],t3HB:[3,2,1,1,1,1,3,2,0],t5HB:[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0],t6HB:[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0],t7HB:[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0],t8HB:[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0],t9HB:[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0],t10HB:[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0],t11HB:[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0],t12HB:[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0],t13HB:[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1],t15HB:[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0],t16HB:[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3],t24HB:[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3],t32HB:[1,10,8,20,12,20,16,32,14,12,24,0,28,16,24,16],t33HB:[15,28,26,48,22,40,36,64,14,24,20,32,12,16,8,0],t1l:[1,4,3,5],t2l:[1,4,7,4,5,7,6,7,8],t3l:[2,3,7,4,4,7,6,7,8],t5l:[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10],t6l:[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9],t7l:[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12],t8l:[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13],t9l:[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11],t10l:[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13],t11l:[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12],t12l:[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12],t13l:[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18],t15l:[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15],t16_5l:[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12],t16l:[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10],t24l:[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6],t32l:[1,5,5,7,5,8,7,9,5,7,7,9,7,9,9,10],t33l:[4,5,5,6,5,6,6,7,5,6,6,7,6,7,7,8]};n.ht=[new e(0,0,null,null),new e(2,0,n.t1HB,n.t1l),new e(3,0,n.t2HB,n.t2l),new e(3,0,n.t3HB,n.t3l),new e(0,0,null,null),new e(4,0,n.t5HB,n.t5l),new e(4,0,n.t6HB,n.t6l),new e(6,0,n.t7HB,n.t7l),new e(6,0,n.t8HB,n.t8l),new e(6,0,n.t9HB,n.t9l),new e(8,0,n.t10HB,n.t10l),new e(8,0,n.t11HB,n.t11l),new e(8,0,n.t12HB,n.t12l),new e(16,0,n.t13HB,n.t13l),new e(0,0,null,n.t16_5l),new e(16,0,n.t15HB,n.t15l),new e(1,1,n.t16HB,n.t16l),new e(2,3,n.t16HB,n.t16l),new e(3,7,n.t16HB,n.t16l),new e(4,15,n.t16HB,n.t16l),new e(6,63,n.t16HB,n.t16l),new e(8,255,n.t16HB,n.t16l),new e(10,1023,n.t16HB,n.t16l),new e(13,8191,n.t16HB,n.t16l),new e(4,15,n.t24HB,n.t24l),new e(5,31,n.t24HB,n.t24l),new e(6,63,n.t24HB,n.t24l),new e(7,127,n.t24HB,n.t24l),new e(8,255,n.t24HB,n.t24l),new e(9,511,n.t24HB,n.t24l),new e(11,2047,n.t24HB,n.t24l),new e(13,8191,n.t24HB,n.t24l),new e(0,0,n.t32HB,n.t32l),new e(0,0,n.t33HB,n.t33l)],n.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366],n.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296],n.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369],n.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]],n.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]],n.scfsi_band=[0,6,11,16,21],t.exports=n},8526:(t,e,n)=>{var r=n(7348),i=r.System,a=(r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays),o=(r.new_array_n,r.new_byte,r.new_double,r.new_float,r.new_float_n,r.new_int),s=(r.new_int_n,r.assert),l=n(4621),c=n(1632),u=n(1324),h=n(3866);t.exports=function t(){var e=null;function n(t){this.bits=0|t}this.qupvt=null,this.setModules=function(t){this.qupvt=t,e=t};var r=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function f(t,e,n,r,i,a){var o=.5946/e;for(s(t>0),t>>=1;0!=t--;)i[a++]=o>n[r++]?0:1,i[a++]=o>n[r++]?0:1}function d(t,n,r,i,a,o){s(t>0);var l=(t>>=1)%2;for(t>>=1;0!=t--;){var c,u,h,f,d,p,m,_;c=r[i++]*n,u=r[i++]*n,d=0|c,h=r[i++]*n,p=0|u,f=r[i++]*n,m=0|h,c+=e.adj43[d],_=0|f,u+=e.adj43[p],a[o++]=0|c,h+=e.adj43[m],a[o++]=0|u,f+=e.adj43[_],a[o++]=0|h,a[o++]=0|f}0!=l&&(d=0|(c=r[i++]*n),p=0|(u=r[i++]*n),c+=e.adj43[d],u+=e.adj43[p],a[o++]=0|c,a[o++]=0|u)}var p=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function m(t,e,n,r){var i=function(t,e,n){var r=0,i=0;do{var a=t[e++],o=t[e++];r<a&&(r=a),i<o&&(i=o)}while(e<n);return r<i&&(r=i),r}(t,e,n);switch(i){case 0:return i;case 1:return function(t,e,n,r){var i=0,a=c.ht[1].hlen;do{var o=2*t[e+0]+t[e+1];e+=2,i+=a[o]}while(e<n);return r.bits+=i,1}(t,e,n,r);case 2:case 3:return function(t,e,n,r,i){var a,o,s=0,l=c.ht[r].xlen;o=2==r?c.table23:c.table56;do{var u=t[e+0]*l+t[e+1];e+=2,s+=o[u]}while(e<n);return a=65535&s,(s>>=16)>a&&(s=a,r++),i.bits+=s,r}(t,e,n,p[i-1],r);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return function(t,e,n,r,i){var a=0,o=0,s=0,l=c.ht[r].xlen,u=c.ht[r].hlen,h=c.ht[r+1].hlen,f=c.ht[r+2].hlen;do{var d=t[e+0]*l+t[e+1];e+=2,a+=u[d],o+=h[d],s+=f[d]}while(e<n);var p=r;return a>o&&(a=o,p++),a>s&&(a=s,p=r+2),i.bits+=a,p}(t,e,n,p[i-1],r);default:if(i>h.IXMAX_VAL)return r.bits=h.LARGE_BITS,-1;var a,o;for(i-=15,a=24;a<32&&!(c.ht[a].linmax>=i);a++);for(o=a-8;o<24&&!(c.ht[o].linmax>=i);o++);return function(t,e,n,r,i,a){var o,s=65536*c.ht[r].xlen+c.ht[i].xlen,l=0;do{var u=t[e++],h=t[e++];0!=u&&(u>14&&(u=15,l+=s),u*=16),0!=h&&(h>14&&(h=15,l+=s),u+=h),l+=c.largetbl[u]}while(e<n);return o=65535&l,(l>>=16)>o&&(l=o,r=i),a.bits+=l,r}(t,e,n,o,a,r)}}function _(t,e,r,i,a,o,s,c){for(var u=e.big_values,h=2;h<l.SBMAX_l+1;h++){var f=t.scalefac_band.l[h];if(f>=u)break;var d=a[h-2]+e.count1bits;if(r.part2_3_length<=d)break;var p=new n(d),_=m(i,f,u,p);d=p.bits,r.part2_3_length<=d||(r.assign(e),r.part2_3_length=d,r.region0_count=o[h-2],r.region1_count=h-2-o[h-2],r.table_select[0]=s[h-2],r.table_select[1]=c[h-2],r.table_select[2]=_)}}this.noquant_count_bits=function(t,e,r){var i=e.l3_enc,a=Math.min(576,e.max_nonzero_coeff+2>>1<<1);for(null!=r&&(r.sfb_count1=0);a>1&&!(i[a-1]|i[a-2]);a-=2);e.count1=a;for(var o=0,u=0;a>3;a-=4){var h;if((2147483647&(i[a-1]|i[a-2]|i[a-3]|i[a-4]))>1)break;h=2*(2*(2*i[a-4]+i[a-3])+i[a-2])+i[a-1],o+=c.t32l[h],u+=c.t33l[h]}var f=o;if(e.count1table_select=0,o>u&&(f=u,e.count1table_select=1),e.count1bits=f,e.big_values=a,0==a)return f;if(e.block_type==l.SHORT_TYPE)(o=3*t.scalefac_band.s[3])>e.big_values&&(o=e.big_values),u=e.big_values;else if(e.block_type==l.NORM_TYPE){if(s(a<=576),o=e.region0_count=t.bv_scf[a-2],u=e.region1_count=t.bv_scf[a-1],s(o+u+2<l.SBPSY_l),u=t.scalefac_band.l[o+u+2],o=t.scalefac_band.l[o+1],u<a){var d=new n(f);e.table_select[2]=m(i,u,a,d),f=d.bits}}else e.region0_count=7,e.region1_count=l.SBMAX_l-1-7-1,(o=t.scalefac_band.l[8])>(u=a)&&(o=u);if(o=Math.min(o,a),u=Math.min(u,a),s(o>=0),s(u>=0),0<o&&(d=new n(f),e.table_select[0]=m(i,0,o,d),f=d.bits),o<u&&(d=new n(f),e.table_select[1]=m(i,o,u,d),f=d.bits),2==t.use_best_huffman&&(e.part2_3_length=f,best_huffman_divide(t,e),f=e.part2_3_length),null!=r&&e.block_type==l.NORM_TYPE){for(var p=0;t.scalefac_band.l[p]<e.big_values;)p++;r.sfb_count1=p}return f},this.count_bits=function(t,n,r,i){var o=r.l3_enc,c=h.IXMAX_VAL/e.IPOW20(r.global_gain);if(r.xrpow_max>c)return h.LARGE_BITS;if(function(t,n,r,i,o){var c,u,h,p=0,m=0,_=0,v=0,y=n,g=0,b=y,w=0,x=t,S=0;for(h=null!=o&&i.global_gain==o.global_gain,u=i.block_type==l.SHORT_TYPE?38:21,c=0;c<=u;c++){var E=-1;if((h||i.block_type==l.NORM_TYPE)&&(E=i.global_gain-(i.scalefac[c]+(0!=i.preflag?e.pretab[c]:0)<<i.scalefac_scale+1)-8*i.subblock_gain[i.window[c]]),s(i.width[c]>=0),h&&o.step[c]==E)0!=m&&(d(m,r,x,S,b,w),m=0),0!=_&&(f(_,r,x,S,b,w),_=0);else{var A,T=i.width[c];if(p+i.width[c]>i.max_nonzero_coeff&&(A=i.max_nonzero_coeff-p+1,a.fill(n,i.max_nonzero_coeff,576,0),(T=A)<0&&(T=0),c=u+1),0==m&&0==_&&(b=y,w=g,x=t,S=v),null!=o&&o.sfb_count1>0&&c>=o.sfb_count1&&o.step[c]>0&&E>=o.step[c]?(0!=m&&(d(m,r,x,S,b,w),m=0,b=y,w=g,x=t,S=v),_+=T):(0!=_&&(f(_,r,x,S,b,w),_=0,b=y,w=g,x=t,S=v),m+=T),T<=0){0!=_&&(f(_,r,x,S,b,w),_=0),0!=m&&(d(m,r,x,S,b,w),m=0);break}}c<=u&&(g+=i.width[c],v+=i.width[c],p+=i.width[c])}0!=m&&(d(m,r,x,S,b,w),m=0),0!=_&&(f(_,r,x,S,b,w),_=0)}(n,o,e.IPOW20(r.global_gain),r,i),2&t.substep_shaping)for(var u=0,p=r.global_gain+r.scalefac_scale,m=.634521682242439/e.IPOW20(p),_=0;_<r.sfbmax;_++){var v,y=r.width[_];if(s(y>=0),0==t.pseudohalf[_])u+=y;else for(v=u,u+=y;v<u;++v)o[v]=n[v]>=m?o[v]:0}return this.noquant_count_bits(t,r,i)},this.best_huffman_divide=function(t,e){var r=new u,i=e.l3_enc,a=o(23),f=o(23),d=o(23),p=o(23);if(e.block_type!=l.SHORT_TYPE||1!=t.mode_gr){r.assign(e),e.block_type==l.NORM_TYPE&&(function(t,e,r,i,a,o,s){for(var l=e.big_values,c=0;c<=22;c++)i[c]=h.LARGE_BITS;for(c=0;c<16;c++){var u=t.scalefac_band.l[c+1];if(u>=l)break;var f=0,d=new n(f),p=m(r,0,u,d);f=d.bits;for(var _=0;_<8;_++){var v=t.scalefac_band.l[c+_+2];if(v>=l)break;var y=f,g=m(r,u,v,d=new n(y));y=d.bits,i[c+_]>y&&(i[c+_]=y,a[c+_]=c,o[c+_]=p,s[c+_]=g)}}}(t,e,i,a,f,d,p),_(t,r,e,i,a,f,d,p));var v=r.big_values;if(!(0==v||(i[v-2]|i[v-1])>1||(v=e.count1+2)>576)){r.assign(e),r.count1=v;var y=0,g=0;for(s(v<=576);v>r.big_values;v-=4){var b=2*(2*(2*i[v-4]+i[v-3])+i[v-2])+i[v-1];y+=c.t32l[b],g+=c.t33l[b]}if(r.big_values=v,r.count1table_select=0,y>g&&(y=g,r.count1table_select=1),r.count1bits=y,r.block_type==l.NORM_TYPE)_(t,r,e,i,a,f,d,p);else{if(r.part2_3_length=y,(y=t.scalefac_band.l[8])>v&&(y=v),y>0){var w=new n(r.part2_3_length);r.table_select[0]=m(i,0,y,w),r.part2_3_length=w.bits}v>y&&(w=new n(r.part2_3_length),r.table_select[1]=m(i,y,v,w),r.part2_3_length=w.bits),e.part2_3_length>r.part2_3_length&&e.assign(r)}}}};var v=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],y=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],g=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],b=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];t.slen1_tab=g,t.slen2_tab=b,this.best_scalefac_store=function(t,n,r,i){var a,o,u,h,f=i.tt[n][r],d=0;for(u=0,a=0;a<f.sfbmax;a++){var p=f.width[a];for(s(p>=0),u+=p,h=-p;h<0&&0==f.l3_enc[h+u];h++);0==h&&(f.scalefac[a]=d=-2)}if(0==f.scalefac_scale&&0==f.preflag){var m=0;for(a=0;a<f.sfbmax;a++)f.scalefac[a]>0&&(m|=f.scalefac[a]);if(!(1&m)&&0!=m){for(a=0;a<f.sfbmax;a++)f.scalefac[a]>0&&(f.scalefac[a]>>=1);f.scalefac_scale=d=1}}if(0==f.preflag&&f.block_type!=l.SHORT_TYPE&&2==t.mode_gr){for(a=11;a<l.SBPSY_l&&!(f.scalefac[a]<e.pretab[a]&&-2!=f.scalefac[a]);a++);if(a==l.SBPSY_l){for(a=11;a<l.SBPSY_l;a++)f.scalefac[a]>0&&(f.scalefac[a]-=e.pretab[a]);f.preflag=d=1}}for(o=0;o<4;o++)i.scfsi[r][o]=0;for(2==t.mode_gr&&1==n&&i.tt[0][r].block_type!=l.SHORT_TYPE&&i.tt[1][r].block_type!=l.SHORT_TYPE&&(function(t,e){for(var n,r=e.tt[1][t],i=e.tt[0][t],a=0;a<c.scfsi_band.length-1;a++){for(n=c.scfsi_band[a];n<c.scfsi_band[a+1]&&!(i.scalefac[n]!=r.scalefac[n]&&r.scalefac[n]>=0);n++);if(n==c.scfsi_band[a+1]){for(n=c.scfsi_band[a];n<c.scfsi_band[a+1];n++)r.scalefac[n]=-1;e.scfsi[t][a]=1}}var o=0,s=0;for(n=0;n<11;n++)-1!=r.scalefac[n]&&(s++,o<r.scalefac[n]&&(o=r.scalefac[n]));for(var u=0,h=0;n<l.SBPSY_l;n++)-1!=r.scalefac[n]&&(h++,u<r.scalefac[n]&&(u=r.scalefac[n]));for(a=0;a<16;a++)if(o<v[a]&&u<y[a]){var f=g[a]*s+b[a]*h;r.part2_length>f&&(r.part2_length=f,r.scalefac_compress=a)}}(r,i),d=0),a=0;a<f.sfbmax;a++)-2==f.scalefac[a]&&(f.scalefac[a]=0);0!=d&&(2==t.mode_gr?this.scale_bitcount(f):this.scale_bitcount_lsf(t,f))};var w=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],x=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],S=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function(t){var n,r,i,a=0,o=0,c=t.scalefac;if(s(function(t,e){for(var n=0;n<e;++n)if(t[n]<0)return!1;return!0}(c,t.sfbmax)),t.block_type==l.SHORT_TYPE)i=w,0!=t.mixed_block_flag&&(i=x);else if(i=S,0==t.preflag){for(r=11;r<l.SBPSY_l&&!(c[r]<e.pretab[r]);r++);if(r==l.SBPSY_l)for(t.preflag=1,r=11;r<l.SBPSY_l;r++)c[r]-=e.pretab[r]}for(r=0;r<t.sfbdivide;r++)a<c[r]&&(a=c[r]);for(;r<t.sfbmax;r++)o<c[r]&&(o=c[r]);for(t.part2_length=h.LARGE_BITS,n=0;n<16;n++)a<v[n]&&o<y[n]&&t.part2_length>i[n]&&(t.part2_length=i[n],t.scalefac_compress=n);return t.part2_length==h.LARGE_BITS};var E=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function(t,n){var r,a,c,u,h,f,d,p,m=o(4),_=n.scalefac;for(r=0!=n.preflag?2:0,d=0;d<4;d++)m[d]=0;if(n.block_type==l.SHORT_TYPE){a=1;var v=e.nr_of_sfb_block[r][a];for(p=0,c=0;c<4;c++)for(u=v[c]/3,d=0;d<u;d++,p++)for(h=0;h<3;h++)_[3*p+h]>m[c]&&(m[c]=_[3*p+h])}else for(a=0,v=e.nr_of_sfb_block[r][a],p=0,c=0;c<4;c++)for(u=v[c],d=0;d<u;d++,p++)_[p]>m[c]&&(m[c]=_[p]);for(f=!1,c=0;c<4;c++)m[c]>E[r][c]&&(f=!0);if(!f){var y,g,b,w;for(n.sfb_partition_table=e.nr_of_sfb_block[r][a],c=0;c<4;c++)n.slen[c]=A[m[c]];switch(y=n.slen[0],g=n.slen[1],b=n.slen[2],w=n.slen[3],r){case 0:n.scalefac_compress=(5*y+g<<4)+(b<<2)+w;break;case 1:n.scalefac_compress=400+(5*y+g<<2)+b;break;case 2:n.scalefac_compress=500+3*y+g;break;default:i.err.printf("intensity stereo not implemented yet\n")}}if(!f)for(s(null!=n.sfb_partition_table),n.part2_length=0,c=0;c<4;c++)n.part2_length+=n.slen[c]*n.sfb_partition_table[c];return f};var A=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function(t){for(var e=2;e<=576;e+=2){for(var n,i=0;t.scalefac_band.l[++i]<e;);for(n=r[i][0];t.scalefac_band.l[n+1]>e;)n--;for(n<0&&(n=r[i][0]),t.bv_scf[e-2]=n,n=r[i][1];t.scalefac_band.l[n+t.bv_scf[e-2]+2]>e;)n--;n<0&&(n=r[i][1]),t.bv_scf[e-1]=n}}}},2812:t=>{t.exports=function(){this.setModules=function(t,e){}}},3511:t=>{t.exports=function(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0}},7547:(t,e,n)=>{var r=n(7348),i=r.System,a=r.VbrMode,o=(r.Float,r.ShortBlock),s=(r.Util,r.Arrays),l=(r.new_array_n,r.new_byte),c=(r.new_double,r.new_float,r.new_float_n,r.new_int,r.new_int_n,r.assert);function u(){var t,e,n;this.setModules=function(r,i,a){t=r,e=i,n=a};var r=u.NUMTOCENTRIES,h=u.MAXFRAMESIZE,f=r+4+4+4+4+4+9+1+1+8+1+1+3+1+1+2+4+2+2,d="Xing",p="Info",m=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function _(t,e){var n=255&t[e+0];return n<<=8,n|=255&t[e+1],n<<=8,n|=255&t[e+2],(n<<=8)|255&t[e+3]}function v(t,e,n){t[e+0]=255&n>>24,t[e+1]=255&n>>16,t[e+2]=255&n>>8,t[e+3]=255&n}function y(t,e,n){t[e+0]=255&n>>8,t[e+1]=255&n}function g(t,e,n){return 255&(t<<e|n&~(-1<<e))}function b(e,n){var r=e.internal_flags;n[0]=g(n[0],8,255),n[1]=g(n[1],3,7),n[1]=g(n[1],1,e.out_samplerate<16e3?0:1),n[1]=g(n[1],1,e.version),n[1]=g(n[1],2,1),n[1]=g(n[1],1,e.error_protection?0:1),n[2]=g(n[2],4,r.bitrate_index),n[2]=g(n[2],2,r.samplerate_index),n[2]=g(n[2],1,0),n[2]=g(n[2],1,e.extension),n[3]=g(n[3],2,e.mode.ordinal()),n[3]=g(n[3],2,r.mode_ext),n[3]=g(n[3],1,e.copyright),n[3]=g(n[3],1,e.original),n[3]=g(n[3],2,e.emphasis),n[0]=255;var i,o,s=241&n[1];i=1==e.version?128:e.out_samplerate<16e3?32:64,e.VBR==a.vbr_off&&(i=e.brate),o=e.free_format?0:255&16*t.BitrateIndex(i,e.version,e.out_samplerate),1==e.version?(n[1]=255&s|10,s=13&n[2],n[2]=255&(o|s)):(n[1]=255&s|2,s=13&n[2],n[2]=255&(o|s))}function w(t,e){return e>>8^m[255&(e^t)]}this.addVbrFrame=function(t){var e=t.internal_flags,n=Tables.bitrate_table[t.version][e.bitrate_index];c(null!=e.VBR_seek_table.bag),function(t,e){if(t.nVbrNumFrames++,t.sum+=e,t.seen++,!(t.seen<t.want)&&(t.pos<t.size&&(t.bag[t.pos]=t.sum,t.pos++,t.seen=0),t.pos==t.size)){for(var n=1;n<t.size;n+=2)t.bag[n/2]=t.bag[n];t.want*=2,t.pos/=2}}(e.VBR_seek_table,n)},this.getVbrTag=function(t){var e=new VBRTagData,n=0;e.flags=0;var i=t[n+1]>>3&1,a=t[n+2]>>2&3,o=t[n+3]>>6&3,s=t[n+2]>>4&15;if(s=Tables.bitrate_table[i][s],t[n+1]>>4==14?e.samprate=Tables.samplerate_table[2][a]:e.samprate=Tables.samplerate_table[i][a],!function(t,e){return new String(t,e,4(),null).equals(d)||new String(t,e,4(),null).equals(p)}(t,n+=0!=i?3!=o?36:21:3!=o?21:13))return null;n+=4,e.hId=i;var l=e.flags=_(t,n);if(n+=4,1&l&&(e.frames=_(t,n),n+=4),2&l&&(e.bytes=_(t,n),n+=4),4&l){if(null!=e.toc)for(var c=0;c<r;c++)e.toc[c]=t[n+c];n+=r}e.vbrScale=-1,8&l&&(e.vbrScale=_(t,n),n+=4),e.headersize=72e3*(i+1)*s/e.samprate;var u=t[(n+=21)+0]<<4;u+=t[n+1]>>4;var h=(15&t[n+1])<<8;return(u<0||u>3e3)&&(u=-1),((h+=255&t[n+2])<0||h>3e3)&&(h=-1),e.encDelay=u,e.encPadding=h,e},this.InitVbrTag=function(t){var n,r=t.internal_flags;n=1==t.version?128:t.out_samplerate<16e3?32:64,t.VBR==a.vbr_off&&(n=t.brate);var i=72e3*(t.version+1)*n/t.out_samplerate,o=r.sideinfo_len+f;if(r.VBR_seek_table.TotalFrameSize=i,i<o||i>h)t.bWriteVbrTag=!1;else{r.VBR_seek_table.nVbrNumFrames=0,r.VBR_seek_table.nBytesWritten=0,r.VBR_seek_table.sum=0,r.VBR_seek_table.seen=0,r.VBR_seek_table.want=1,r.VBR_seek_table.pos=0,null==r.VBR_seek_table.bag&&(r.VBR_seek_table.bag=new int[400],r.VBR_seek_table.size=400);var s=l(h);b(t,s);for(var c=r.VBR_seek_table.TotalFrameSize,u=0;u<c;++u)e.add_dummy_byte(t,255&s[u],1)}},this.updateMusicCRC=function(t,e,n,r){for(var i=0;i<r;++i)t[0]=w(e[n+i],t[0])},this.getLameTagFrame=function(t,c){var u=t.internal_flags;if(!t.bWriteVbrTag)return 0;if(u.Class_ID!=Lame.LAME_ID)return 0;if(u.VBR_seek_table.pos<=0)return 0;if(c.length<u.VBR_seek_table.TotalFrameSize)return u.VBR_seek_table.TotalFrameSize;s.fill(c,0,u.VBR_seek_table.TotalFrameSize,0),b(t,c);var h=l(r);if(t.free_format)for(var f=1;f<r;++f)h[f]=255&255*f/100;else!function(t,e){if(!(t.pos<=0))for(var n=1;n<r;++n){var i=n/r,a=0|Math.floor(i*t.pos);a>t.pos-1&&(a=t.pos-1);var o=0|256*t.bag[a]/t.sum;o>255&&(o=255),e[n]=255&o}}(u.VBR_seek_table,h);var m=u.sideinfo_len;t.error_protection&&(m-=2),t.VBR==a.vbr_off?(c[m++]=255&p.charAt(0),c[m++]=255&p.charAt(1),c[m++]=255&p.charAt(2),c[m++]=255&p.charAt(3)):(c[m++]=255&d.charAt(0),c[m++]=255&d.charAt(1),c[m++]=255&d.charAt(2),c[m++]=255&d.charAt(3)),v(c,m,15),v(c,m+=4,u.VBR_seek_table.nVbrNumFrames),m+=4;var _=u.VBR_seek_table.nBytesWritten+u.VBR_seek_table.TotalFrameSize;v(c,m,0|_),m+=4,i.arraycopy(h,0,c,m,h.length),m+=h.length,t.error_protection&&e.CRC_writeheader(u,c);var g=0;for(f=0;f<m;f++)g=w(c[f],g);return m+=function(t,e,r,i,a){var s,l,c,u,h,f,d=t.internal_flags,p=0,m=t.encoder_delay,_=t.encoder_padding,g=100-10*t.VBR_q-t.quality,b=n.getLameVeryShortVersion(),x=[1,5,3,2,4,0,3],S=0|(t.lowpassfreq/100+.5>255?255:t.lowpassfreq/100+.5),E=0,A=0,T=t.internal_flags.noise_shaping,R=0,M=0,k=!!(1&t.exp_nspsytune),P=!!(2&t.exp_nspsytune),B=!1,L=!1,V=t.internal_flags.nogap_total,O=t.internal_flags.nogap_current,N=t.ATHtype;switch(t.VBR){case vbr_abr:h=t.VBR_mean_bitrate_kbps;break;case vbr_off:h=t.brate;break;default:h=t.VBR_min_bitrate_kbps}switch(s=0+(t.VBR.ordinal()<x.length?x[t.VBR.ordinal()]:0),d.findReplayGain&&(d.RadioGain>510&&(d.RadioGain=510),d.RadioGain<-510&&(d.RadioGain=-510),A=8192,A|=3072,d.RadioGain>=0?A|=d.RadioGain:(A|=512,A|=-d.RadioGain)),d.findPeakSample&&(E=Math.abs(0|d.PeakSample/32767*Math.pow(2,23)+.5)),-1!=V&&(O>0&&(L=!0),O<V-1&&(B=!0)),u=N+((k?1:0)<<4)+((P?1:0)<<5)+((B?1:0)<<6)+((L?1:0)<<7),g<0&&(g=0),t.mode){case MONO:R=0;break;case STEREO:R=1;break;case DUAL_CHANNEL:R=2;break;case JOINT_STEREO:R=t.force_ms?4:3;break;case NOT_SET:default:R=7}f=t.in_samplerate<=32e3?0:48e3==t.in_samplerate?2:t.in_samplerate>48e3?3:1,(t.short_blocks==o.short_block_forced||t.short_blocks==o.short_block_dispensed||-1==t.lowpassfreq&&-1==t.highpassfreq||t.scale_left<t.scale_right||t.scale_left>t.scale_right||t.disable_reservoir&&t.brate<320||t.noATH||t.ATHonly||0==N||t.in_samplerate<=32e3)&&(M=1),l=T+(R<<2)+(M<<5)+(f<<6),c=d.nMusicCRC,v(r,i+p,g),p+=4;for(var C=0;C<9;C++)r[i+p+C]=255&b.charAt(C);r[i+(p+=9)]=255&s,r[i+ ++p]=255&S,v(r,i+ ++p,E),y(r,i+(p+=4),A),y(r,i+(p+=2),0),r[i+(p+=2)]=255&u,r[i+ ++p]=h>=255?255:255&h,r[i+ ++p]=255&m>>4,r[i+p+1]=255&(m<<4)+(_>>8),r[i+p+2]=255&_,r[i+(p+=3)]=255&l,p++,r[i+p++]=0,y(r,i+p,t.preset),v(r,i+(p+=2),e),y(r,i+(p+=4),c),p+=2;for(var I=0;I<p;I++)a=w(r[i+I],a);return y(r,i+p,a),p+2}(t,_,c,m,g),u.VBR_seek_table.TotalFrameSize},this.putVbrTag=function(t,e){if(t.internal_flags.VBR_seek_table.pos<=0)return-1;if(e.seek(e.length()),0==e.length())return-1;var n=function(t){t.seek(0);var e=l(10);return t.readFully(e),new String(e,"ISO-8859-1").startsWith("ID3")?0:((127&e[6])<<21|(127&e[7])<<14|(127&e[8])<<7|127&e[9])+e.length}(e);e.seek(n);var r=l(h),i=getLameTagFrame(t,r);return i>r.length?-1:(i<1||e.write(r,0,i),0)}}u.NUMTOCENTRIES=100,u.MAXFRAMESIZE=2880,t.exports=u},5709:t=>{t.exports=function(){this.getLameVersion=function(){return"3.98.4"},this.getLameShortVersion=function(){return"3.98.4"},this.getLameVeryShortVersion=function(){return"LAME3.98r"},this.getPsyVersion=function(){return"0.93"},this.getLameUrl=function(){return"http://www.mp3dev.org/"},this.getLameOsBitness=function(){return"32bits"}}},7348:t=>{function e(t){return new Int16Array(t)}function n(t){return new Int32Array(t)}function r(t){return new Float32Array(t)}var i={arraycopy:function(t,e,n,r,i){for(var a=e+i;e<a;)n[r++]=t[e++]},out:{}};i.out.println=function(t){console.log(t)},i.out.printf=function(){console.log.apply(console,arguments)};var a={};function o(t){this.ordinal=t}a.SQRT2=1.4142135623730951,a.FAST_LOG10=function(t){return Math.log10(t)},a.FAST_LOG10_X=function(t,e){return Math.log10(t)*e},o.short_block_allowed=new o(0),o.short_block_coupled=new o(1),o.short_block_dispensed=new o(2),o.short_block_forced=new o(3);var s={};function l(t){this.ordinal=t}s.MAX_VALUE=34028235e31,l.vbr_off=new l(0),l.vbr_mt=new l(1),l.vbr_rh=new l(2),l.vbr_abr=new l(3),l.vbr_mtrh=new l(4),l.vbr_default=l.vbr_mtrh,t.exports={System:i,VbrMode:l,Float:s,ShortBlock:o,Util:a,Arrays:{fill:function(t,e,n,r){if(2==arguments.length)for(var i=0;i<t.length;i++)t[i]=arguments[1];else for(i=e;i<n;i++)t[i]=r}},new_array_n:function t(e){if(1==e.length)return new Array(e[0]);var n=e[0];e=e.slice(1);for(var r=[],i=0;i<n;i++)r.push(t(e));return r},new_byte:function(t){return new Int8Array(t)},new_double:function(t){return new Float64Array(t)},new_float:r,new_float_n:function t(e){if(1==e.length)return r(e[0]);var n=e[0];e=e.slice(1);for(var i=[],a=0;a<n;a++)i.push(t(e));return i},new_int:n,new_int_n:function t(e){if(1==e.length)return n(e[0]);var r=e[0];e=e.slice(1);for(var i=[],a=0;a<r;a++)i.push(t(e));return i},new_short:e,new_short_n:function t(n){if(1==n.length)return e(n[0]);var r=n[0];n=n.slice(1);for(var i=[],a=0;a<r;a++)i.push(t(n));return i},assert:function(t){}}},1989:(t,e,n)=>{var r=n(7348),i=(r.System,r.VbrMode,r.Float,r.ShortBlock,r.Util,r.Arrays,r.new_array_n,r.new_byte),a=(r.new_double,r.new_float,r.new_float_n,r.new_int,r.new_int_n,r.assert),o=n(8476),s=n(9309),l=n(9356),c=n(3866),u=n(1442),h=n(8526),f=n(3396),d=n(8551),p=n(4002),m=(n(4621),n(5709)),_=n(7547);function v(){this.setModules=function(t,e){}}function y(){this.setModules=function(t,e,n){}}function g(){}function b(){this.setModules=function(t,e){}}function w(){this.dataOffset=0,this.dataLen=0,this.channels=0,this.sampleRate=0}function x(t){return t.charCodeAt(0)<<24|t.charCodeAt(1)<<16|t.charCodeAt(2)<<8|t.charCodeAt(3)}w.RIFF=x("RIFF"),w.WAVE=x("WAVE"),w.fmt_=x("fmt "),w.data=x("data"),w.readHeader=function(t){var e=new w,n=t.getUint32(0,!1);if(w.RIFF==n&&(t.getUint32(4,!0),w.WAVE==t.getUint32(8,!1)&&w.fmt_==t.getUint32(12,!1))){var r=t.getUint32(16,!0),i=20;switch(r){case 16:case 18:e.channels=t.getUint16(i+2,!0),e.sampleRate=t.getUint32(i+4,!0);break;default:throw"extended fmt chunk not implemented"}i+=r;for(var a=w.data,o=0;a!=n&&(n=t.getUint32(i,!1),o=t.getUint32(i+4,!0),a!=n);)i+=o+8;return e.dataLen=o,e.dataOffset=i+8,e}},t.exports.x=function(t,e,n){3!=arguments.length&&(console.error("WARN: Mp3Encoder(channels, samplerate, kbps) not specified"),t=1,e=44100,n=128);var r=new o,w=new v,x=new l,S=new p,E=new s,A=new c,T=new u,R=new _,M=new m,k=new b,P=new f,B=new h,L=new y,V=new g;r.setModules(x,S,E,A,T,R,M,k,V),S.setModules(x,V,M,R),k.setModules(S,M),E.setModules(r),T.setModules(S,P,A,B),A.setModules(B,P,r.enc.psy),P.setModules(S),B.setModules(A),R.setModules(r,S,M),w.setModules(L,V),L.setModules(M,k,E);var O=r.lame_init();O.num_channels=t,O.in_samplerate=e,O.brate=n,O.mode=d.STEREO,O.quality=3,O.bWriteVbrTag=!1,O.disable_reservoir=!0,O.write_id3tag_automatic=!1;var N=r.lame_init_params(O);a(0==N);var C=1152,I=0|1.25*C+7200,D=i(I);this.encodeBuffer=function(e,n){1==t&&(n=e),a(e.length==n.length),e.length>C&&(C=e.length,D=i(I=0|1.25*C+7200));var o=r.lame_encode_buffer(O,e,n,e.length,D,0,I);return new Int8Array(D.subarray(0,o))},this.flush=function(){var t=r.lame_encode_flush(O,D,0,I);return new Int8Array(D.subarray(0,t))}}},3335:(t,e,n)=>{"use strict";var r=n(9155),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(t,e,n){var r,a={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(u=e.ref),e)o.call(e,r)&&!l.hasOwnProperty(r)&&(a[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===a[r]&&(a[r]=e[r]);return{$$typeof:i,type:t,key:c,ref:u,props:a,_owner:s.current}}e.Fragment=a,e.jsx=c,e.jsxs=c},1085:(t,e,n)=>{"use strict";t.exports=n(3335)},9155:e=>{"use strict";e.exports=t},3373:(t,e)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var t="",e=0;e<arguments.length;e++){var n=arguments[e];n&&(t=o(t,a(n)))}return t}function a(t){if("string"==typeof t||"number"==typeof t)return t;if("object"!=typeof t)return"";if(Array.isArray(t))return i.apply(null,t);if(t.toString!==Object.prototype.toString&&!t.toString.toString().includes("[native code]"))return t.toString();var e="";for(var n in t)r.call(t,n)&&t[n]&&(e=o(e,n));return e}function o(t,e){return e?t?t+" "+e:t+e:t}t.exports?(i.default=i,t.exports=i):void 0===(n=function(){return i}.apply(e,[]))||(t.exports=n)}()}},i={};function a(t){var e=i[t];if(void 0!==e)return e.exports;var n=i[t]={id:t,loaded:!1,exports:{}};return r[t].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.m=r,a.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return a.d(e,{a:e}),e},a.d=(t,e)=>{for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},a.f={},a.e=t=>Promise.all(Object.keys(a.f).reduce(((e,n)=>(a.f[n](t,e),e)),[])),a.u=t=>t+".bundle.js",a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),e={},n="SilkVerb:",a.l=(t,r,i,o)=>{if(e[t])e[t].push(r);else{var s,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==t||h.getAttribute("data-webpack")==n+i){s=h;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",n+i),s.src=t),e[t]=[r];var f=(n,r)=>{s.onerror=s.onload=null,clearTimeout(d);var i=e[t];if(delete e[t],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((t=>t(r))),n)return n(r)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),l&&document.head.appendChild(s)}},a.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{var t;a.g.importScripts&&(t=a.g.location+"");var e=a.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!t||!/^http(s?):/.test(t));)t=n[r--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=t})(),(()=>{var t={792:0};a.f.j=(e,n)=>{var r=a.o(t,e)?t[e]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise(((n,i)=>r=t[e]=[n,i]));n.push(r[2]=i);var o=a.p+a.u(e),s=new Error;a.l(o,(n=>{if(a.o(t,e)&&(0!==(r=t[e])&&(t[e]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;s.message="Loading chunk "+e+" failed.\n("+i+": "+o+")",s.name="ChunkLoadError",s.type=i,s.request=o,r[1](s)}}),"chunk-"+e,e)}};var e=(e,n)=>{var r,i,[o,s,l]=n,c=0;if(o.some((e=>0!==t[e]))){for(r in s)a.o(s,r)&&(a.m[r]=s[r]);l&&l(a)}for(e&&e(n);c<o.length;c++)i=o[c],a.o(t,i)&&t[i]&&t[i][0](),t[i]=0},n=self.webpackChunkSilkVerb=self.webpackChunkSilkVerb||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})();var o={};return(()=>{"use strict";a.r(o),a.d(o,{default:()=>cc});var t=a(9155),e=a.n(t),n=function(t,e){for(var n=t.sampleRate,r=n*e,i=t.createBuffer(2,r,n),a=i.getChannelData(0),o=i.getChannelData(1),s=0;s<r;s++){var l=Math.exp(-3*s/r);a[s]=(2*Math.random()-1)*l,o[s]=(2*Math.random()-1)*l}return i};function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(){i=function(){return e};var t,e={},n=Object.prototype,a=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function h(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{h({},"")}catch(t){h=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,a=Object.create(i.prototype),s=new L(r||[]);return o(a,"_invoke",{value:M(t,n,s)}),a}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var p="suspendedStart",m="suspendedYield",_="executing",v="completed",y={};function g(){}function b(){}function w(){}var x={};h(x,l,(function(){return this}));var S=Object.getPrototypeOf,E=S&&S(S(V([])));E&&E!==n&&a.call(E,l)&&(x=E);var A=w.prototype=g.prototype=Object.create(x);function T(t){["next","throw","return"].forEach((function(e){h(t,e,(function(t){return this._invoke(e,t)}))}))}function R(t,e){function n(i,o,s,l){var c=d(t[i],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==r(h)&&a.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,s,l)}),(function(t){n("throw",t,s,l)})):e.resolve(h).then((function(t){u.value=t,s(u)}),(function(t){return n("throw",t,s,l)}))}l(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function a(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(a,a):a()}})}function M(e,n,r){var i=p;return function(a,o){if(i===_)throw Error("Generator is already running");if(i===v){if("throw"===a)throw o;return{value:t,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var l=k(s,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===p)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=_;var c=d(e,n,r);if("normal"===c.type){if(i=r.done?v:m,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=v,r.method="throw",r.arg=c.arg)}}}function k(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,k(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=d(i,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function B(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function V(e){if(e||""===e){var n=e[l];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(a.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(r(e)+" is not iterable")}return b.prototype=w,o(A,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:b,configurable:!0}),b.displayName=h(w,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,h(t,u,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},T(R.prototype),h(R.prototype,c,(function(){return this})),e.AsyncIterator=R,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new R(f(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},T(A),h(A,u,"Generator"),h(A,l,(function(){return this})),h(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=V,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(B),!e)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),c=a.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),B(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;B(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:V(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function s(t,e,n,r,i,a,o){try{var s=t[a](o),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,i)}var l=function(){var t,e=(t=i().mark((function t(e,r,a,o,s,l,c){var u,h,f,d,p,m,_,v,y,g;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=Math.pow(2,a/12),h=e.length/u,f=new OfflineAudioContext(e.numberOfChannels,h,e.sampleRate),(d=f.createBufferSource()).buffer=e,d.playbackRate.value=u,(p=f.createConvolver()).buffer=n(f,r),m=f.createGain(),_=f.createGain(),m.gain.value=o,_.gain.value=s,(v=f.createBiquadFilter()).type="highpass",v.frequency.value=l,(y=f.createBiquadFilter()).type="lowpass",y.frequency.value=c,d.connect(m),m.connect(f.destination),d.connect(p),p.connect(v),v.connect(y),y.connect(_),_.connect(f.destination),d.start(0),t.next=28,f.startRendering();case 28:return g=t.sent,t.abrupt("return",g);case 30:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){s(a,r,i,o,l,"next",t)}function l(t){s(a,r,i,o,l,"throw",t)}o(void 0)}))});return function(t,n,r,i,a,o,s){return e.apply(this,arguments)}}(),c=a(1989);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function h(){h=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var a=e&&e.prototype instanceof g?e:g,o=Object.create(a.prototype),s=new L(r||[]);return i(o,"_invoke",{value:M(t,n,s)}),o}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var p="suspendedStart",m="suspendedYield",_="executing",v="completed",y={};function g(){}function b(){}function w(){}var x={};c(x,o,(function(){return this}));var S=Object.getPrototypeOf,E=S&&S(S(V([])));E&&E!==n&&r.call(E,o)&&(x=E);var A=w.prototype=g.prototype=Object.create(x);function T(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function R(t,e){function n(i,a,o,s){var l=d(t[i],t,a);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==u(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,o,s)}),(function(t){n("throw",t,o,s)})):e.resolve(h).then((function(t){c.value=t,o(c)}),(function(t){return n("throw",t,o,s)}))}s(l.arg)}var a;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return a=a?a.then(i,i):i()}})}function M(e,n,r){var i=p;return function(a,o){if(i===_)throw Error("Generator is already running");if(i===v){if("throw"===a)throw o;return{value:t,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var l=k(s,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===p)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=_;var c=d(e,n,r);if("normal"===c.type){if(i=r.done?v:m,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=v,r.method="throw",r.arg=c.arg)}}}function k(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,k(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=d(i,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function B(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function V(e){if(e||""===e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(u(e)+" is not iterable")}return b.prototype=w,i(A,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:b,configurable:!0}),b.displayName=c(w,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,c(t,l,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},T(R.prototype),c(R.prototype,s,(function(){return this})),e.AsyncIterator=R,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new R(f(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},T(A),c(A,l,"Generator"),c(A,o,(function(){return this})),c(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=V,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(B),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),B(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;B(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:V(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function f(t,e,n,r,i,a,o){try{var s=t[a](o),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,i)}var d=function(){var t,e=(t=h().mark((function t(e){var n,r,i,a,o,s,l,u,f,d,m,_,v,y,g,b,w;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n=e.numberOfChannels,r=e.sampleRate,i=new c.x(n,r,128),a=[],o=0;o<n;o++)a.push(e.getChannelData(o));for(s=1152,l=[],f=a[0],d=n>1?a[1]:a[0],m=f.length,_=0;_<m;_+=s)v=f.subarray(_,_+s),y=d.subarray(_,_+s),g=p(v),b=n>1?p(y):g,(u=i.encodeBuffer(g,b)).length>0&&l.push(u);return(u=i.flush()).length>0&&l.push(u),w=new Blob(l,{type:"audio/mp3"}),t.abrupt("return",w);case 16:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){f(a,r,i,o,s,"next",t)}function s(t){f(a,r,i,o,s,"throw",t)}o(void 0)}))});return function(t){return e.apply(this,arguments)}}(),p=function(t){for(var e=t.length,n=new Int16Array(e),r=0;r<e;r++){var i=Math.max(-1,Math.min(1,t[r]));n[r]=i<0?32768*i:32767*i}return n};function m(t,e){if(t){if("string"==typeof t)return _(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(t,e):void 0}}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var v=(0,t.createContext)(void 0),y=function(n){var r,i,a=n.children,o=(r=(0,t.useState)([]),i=2,function(t){if(Array.isArray(t))return t}(r)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(r,i)||m(r,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=o[0],l=o[1],c=function(t){l((function(e){return e.filter((function(e){return e.id!==t}))}))};return e().createElement(v.Provider,{value:{notifications:s,addNotification:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Math.random().toString(36).substring(7);return l((function(i){return[].concat(function(t){return function(t){if(Array.isArray(t))return _(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||m(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(i),[{id:r,message:t,type:e,persistent:n}])})),n||setTimeout((function(){return c(r)}),5e3),r},removeNotification:c}},a)},g=function(){var e=(0,t.useContext)(v);if(void 0===e)throw new Error("useNotification must be used within a NotificationProvider");return e};function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function w(){w=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var a=e&&e.prototype instanceof v?e:v,o=Object.create(a.prototype),s=new L(r||[]);return i(o,"_invoke",{value:M(t,n,s)}),o}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var f="suspendedStart",d="suspendedYield",p="executing",m="completed",_={};function v(){}function y(){}function g(){}var x={};c(x,o,(function(){return this}));var S=Object.getPrototypeOf,E=S&&S(S(V([])));E&&E!==n&&r.call(E,o)&&(x=E);var A=g.prototype=v.prototype=Object.create(x);function T(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function R(t,e){function n(i,a,o,s){var l=h(t[i],t,a);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==b(u)&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,o,s)}),(function(t){n("throw",t,o,s)})):e.resolve(u).then((function(t){c.value=t,o(c)}),(function(t){return n("throw",t,o,s)}))}s(l.arg)}var a;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return a=a?a.then(i,i):i()}})}function M(e,n,r){var i=f;return function(a,o){if(i===p)throw Error("Generator is already running");if(i===m){if("throw"===a)throw o;return{value:t,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var l=k(s,r);if(l){if(l===_)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var c=h(e,n,r);if("normal"===c.type){if(i=r.done?m:d,c.arg===_)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=m,r.method="throw",r.arg=c.arg)}}}function k(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,k(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),_;var a=h(i,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,_;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,_):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,_)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function B(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function V(e){if(e||""===e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(b(e)+" is not iterable")}return y.prototype=g,i(A,"constructor",{value:g,configurable:!0}),i(g,"constructor",{value:y,configurable:!0}),y.displayName=c(g,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,c(t,l,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},T(R.prototype),c(R.prototype,s,(function(){return this})),e.AsyncIterator=R,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new R(u(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},T(A),c(A,l,"Generator"),c(A,o,(function(){return this})),c(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=V,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(B),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,_):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),_},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),B(n),_}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;B(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:V(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),_}},e}function x(t,e,n,r,i,a,o){try{var s=t[a](o),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,i)}function S(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){x(a,r,i,o,s,"next",t)}function s(t){x(a,r,i,o,s,"throw",t)}o(void 0)}))}}function E(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return A(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var T=function(t,e){if(t<=0)return-1/0;var n=2*Math.PI*t/44100,r=2*Math.PI*e/44100;return-20*Math.log10(Math.sqrt(1+Math.pow(r/n,2)))},R=function(t,e){if(t<=0)return-1/0;var n=2*Math.PI*t/44100,r=2*Math.PI*e/44100;return-20*Math.log10(Math.sqrt(1+Math.pow(n/r,2)))};const M=Math.min,k=Math.max,P=Math.round,B=Math.floor,L=t=>({x:t,y:t}),V={left:"right",right:"left",bottom:"top",top:"bottom"},O={start:"end",end:"start"};function N(t,e,n){return k(t,M(e,n))}function C(t,e){return"function"==typeof t?t(e):t}function I(t){return t.split("-")[0]}function D(t){return t.split("-")[1]}function j(t){return"x"===t?"y":"x"}function F(t){return"y"===t?"height":"width"}function H(t){return["top","bottom"].includes(I(t))?"y":"x"}function q(t){return j(H(t))}function X(t){return t.replace(/start|end/g,(t=>O[t]))}function Y(t){return t.replace(/left|right|bottom|top/g,(t=>V[t]))}function U(t){return"number"!=typeof t?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(t):{top:t,right:t,bottom:t,left:t}}function G(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function z(t,e,n){let{reference:r,floating:i}=t;const a=H(e),o=q(e),s=F(o),l=I(e),c="y"===a,u=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,f=r[s]/2-i[s]/2;let d;switch(l){case"top":d={x:u,y:r.y-i.height};break;case"bottom":d={x:u,y:r.y+r.height};break;case"right":d={x:r.x+r.width,y:h};break;case"left":d={x:r.x-i.width,y:h};break;default:d={x:r.x,y:r.y}}switch(D(e)){case"start":d[o]-=f*(n&&c?-1:1);break;case"end":d[o]+=f*(n&&c?-1:1)}return d}async function W(t,e){var n;void 0===e&&(e={});const{x:r,y:i,platform:a,rects:o,elements:s,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:d=0}=C(e,t),p=U(d),m=s[f?"floating"===h?"reference":"floating":h],_=G(await a.getClippingRect({element:null==(n=await(null==a.isElement?void 0:a.isElement(m)))||n?m:m.contextElement||await(null==a.getDocumentElement?void 0:a.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),v="floating"===h?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,y=await(null==a.getOffsetParent?void 0:a.getOffsetParent(s.floating)),g=await(null==a.isElement?void 0:a.isElement(y))&&await(null==a.getScale?void 0:a.getScale(y))||{x:1,y:1},b=G(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:v,offsetParent:y,strategy:l}):v);return{top:(_.top-b.top+p.top)/g.y,bottom:(b.bottom-_.bottom+p.bottom)/g.y,left:(_.left-b.left+p.left)/g.x,right:(b.right-_.right+p.right)/g.x}}function K(){return"undefined"!=typeof window}function Z(t){return J(t)?(t.nodeName||"").toLowerCase():"#document"}function $(t){var e;return(null==t||null==(e=t.ownerDocument)?void 0:e.defaultView)||window}function Q(t){var e;return null==(e=(J(t)?t.ownerDocument:t.document)||window.document)?void 0:e.documentElement}function J(t){return!!K()&&(t instanceof Node||t instanceof $(t).Node)}function tt(t){return!!K()&&(t instanceof Element||t instanceof $(t).Element)}function et(t){return!!K()&&(t instanceof HTMLElement||t instanceof $(t).HTMLElement)}function nt(t){return!(!K()||"undefined"==typeof ShadowRoot)&&(t instanceof ShadowRoot||t instanceof $(t).ShadowRoot)}function rt(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=ct(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function it(t){return["table","td","th"].includes(Z(t))}function at(t){return[":popover-open",":modal"].some((e=>{try{return t.matches(e)}catch(t){return!1}}))}function ot(t){const e=st(),n=tt(t)?ct(t):t;return"none"!==n.transform||"none"!==n.perspective||!!n.containerType&&"normal"!==n.containerType||!e&&!!n.backdropFilter&&"none"!==n.backdropFilter||!e&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some((t=>(n.willChange||"").includes(t)))||["paint","layout","strict","content"].some((t=>(n.contain||"").includes(t)))}function st(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function lt(t){return["html","body","#document"].includes(Z(t))}function ct(t){return $(t).getComputedStyle(t)}function ut(t){return tt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ht(t){if("html"===Z(t))return t;const e=t.assignedSlot||t.parentNode||nt(t)&&t.host||Q(t);return nt(e)?e.host:e}function ft(t){const e=ht(t);return lt(e)?t.ownerDocument?t.ownerDocument.body:t.body:et(e)&&rt(e)?e:ft(e)}function dt(t,e,n){var r;void 0===e&&(e=[]),void 0===n&&(n=!0);const i=ft(t),a=i===(null==(r=t.ownerDocument)?void 0:r.body),o=$(i);if(a){const t=pt(o);return e.concat(o,o.visualViewport||[],rt(i)?i:[],t&&n?dt(t):[])}return e.concat(i,dt(i,[],n))}function pt(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function mt(t){const e=ct(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=et(t),a=i?t.offsetWidth:n,o=i?t.offsetHeight:r,s=P(n)!==a||P(r)!==o;return s&&(n=a,r=o),{width:n,height:r,$:s}}function _t(t){return tt(t)?t:t.contextElement}function vt(t){const e=_t(t);if(!et(e))return L(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:a}=mt(e);let o=(a?P(n.width):n.width)/r,s=(a?P(n.height):n.height)/i;return o&&Number.isFinite(o)||(o=1),s&&Number.isFinite(s)||(s=1),{x:o,y:s}}const yt=L(0);function gt(t){const e=$(t);return st()&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:yt}function bt(t,e,n,r){void 0===e&&(e=!1),void 0===n&&(n=!1);const i=t.getBoundingClientRect(),a=_t(t);let o=L(1);e&&(r?tt(r)&&(o=vt(r)):o=vt(t));const s=function(t,e,n){return void 0===e&&(e=!1),!(!n||e&&n!==$(t))&&e}(a,n,r)?gt(a):L(0);let l=(i.left+s.x)/o.x,c=(i.top+s.y)/o.y,u=i.width/o.x,h=i.height/o.y;if(a){const t=$(a),e=r&&tt(r)?$(r):r;let n=t,i=pt(n);for(;i&&r&&e!==n;){const t=vt(i),e=i.getBoundingClientRect(),r=ct(i),a=e.left+(i.clientLeft+parseFloat(r.paddingLeft))*t.x,o=e.top+(i.clientTop+parseFloat(r.paddingTop))*t.y;l*=t.x,c*=t.y,u*=t.x,h*=t.y,l+=a,c+=o,n=$(i),i=pt(n)}}return G({width:u,height:h,x:l,y:c})}function wt(t,e){const n=ut(t).scrollLeft;return e?e.left+n:bt(Q(t)).left+n}function xt(t,e,n){void 0===n&&(n=!1);const r=t.getBoundingClientRect();return{x:r.left+e.scrollLeft-(n?0:wt(t,r)),y:r.top+e.scrollTop}}function St(t,e,n){let r;if("viewport"===e)r=function(t,e){const n=$(t),r=Q(t),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,s=0,l=0;if(i){a=i.width,o=i.height;const t=st();(!t||t&&"fixed"===e)&&(s=i.offsetLeft,l=i.offsetTop)}return{width:a,height:o,x:s,y:l}}(t,n);else if("document"===e)r=function(t){const e=Q(t),n=ut(t),r=t.ownerDocument.body,i=k(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=k(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+wt(t);const s=-n.scrollTop;return"rtl"===ct(r).direction&&(o+=k(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:s}}(Q(t));else if(tt(e))r=function(t,e){const n=bt(t,!0,"fixed"===e),r=n.top+t.clientTop,i=n.left+t.clientLeft,a=et(t)?vt(t):L(1);return{width:t.clientWidth*a.x,height:t.clientHeight*a.y,x:i*a.x,y:r*a.y}}(e,n);else{const n=gt(t);r={x:e.x-n.x,y:e.y-n.y,width:e.width,height:e.height}}return G(r)}function Et(t,e){const n=ht(t);return!(n===e||!tt(n)||lt(n))&&("fixed"===ct(n).position||Et(n,e))}function At(t,e,n){const r=et(e),i=Q(e),a="fixed"===n,o=bt(t,!0,a,e);let s={scrollLeft:0,scrollTop:0};const l=L(0);if(r||!r&&!a)if(("body"!==Z(e)||rt(i))&&(s=ut(e)),r){const t=bt(e,!0,a,e);l.x=t.x+e.clientLeft,l.y=t.y+e.clientTop}else i&&(l.x=wt(i));const c=!i||r||a?L(0):xt(i,s);return{x:o.left+s.scrollLeft-l.x-c.x,y:o.top+s.scrollTop-l.y-c.y,width:o.width,height:o.height}}function Tt(t){return"static"===ct(t).position}function Rt(t,e){if(!et(t)||"fixed"===ct(t).position)return null;if(e)return e(t);let n=t.offsetParent;return Q(t)===n&&(n=n.ownerDocument.body),n}function Mt(t,e){const n=$(t);if(at(t))return n;if(!et(t)){let e=ht(t);for(;e&&!lt(e);){if(tt(e)&&!Tt(e))return e;e=ht(e)}return n}let r=Rt(t,e);for(;r&&it(r)&&Tt(r);)r=Rt(r,e);return r&&lt(r)&&Tt(r)&&!ot(r)?n:r||function(t){let e=ht(t);for(;et(e)&&!lt(e);){if(ot(e))return e;if(at(e))return null;e=ht(e)}return null}(t)||n}const kt={convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const a="fixed"===i,o=Q(r),s=!!e&&at(e.floating);if(r===o||s&&a)return n;let l={scrollLeft:0,scrollTop:0},c=L(1);const u=L(0),h=et(r);if((h||!h&&!a)&&(("body"!==Z(r)||rt(o))&&(l=ut(r)),et(r))){const t=bt(r);c=vt(r),u.x=t.x+r.clientLeft,u.y=t.y+r.clientTop}const f=!o||h||a?L(0):xt(o,l,!0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:n.y*c.y-l.scrollTop*c.y+u.y+f.y}},getDocumentElement:Q,getClippingRect:function(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[..."clippingAncestors"===n?at(e)?[]:function(t,e){const n=e.get(t);if(n)return n;let r=dt(t,[],!1).filter((t=>tt(t)&&"body"!==Z(t))),i=null;const a="fixed"===ct(t).position;let o=a?ht(t):t;for(;tt(o)&&!lt(o);){const e=ct(o),n=ot(o);n||"fixed"!==e.position||(i=null),(a?!n&&!i:!n&&"static"===e.position&&i&&["absolute","fixed"].includes(i.position)||rt(o)&&!n&&Et(t,o))?r=r.filter((t=>t!==o)):i=e,o=ht(o)}return e.set(t,r),r}(e,this._c):[].concat(n),r],o=a[0],s=a.reduce(((t,n)=>{const r=St(e,n,i);return t.top=k(r.top,t.top),t.right=M(r.right,t.right),t.bottom=M(r.bottom,t.bottom),t.left=k(r.left,t.left),t}),St(e,o,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},getOffsetParent:Mt,getElementRects:async function(t){const e=this.getOffsetParent||Mt,n=this.getDimensions,r=await n(t.floating);return{reference:At(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(t){return Array.from(t.getClientRects())},getDimensions:function(t){const{width:e,height:n}=mt(t);return{width:e,height:n}},getScale:vt,isElement:tt,isRTL:function(t){return"rtl"===ct(t).direction}};const Pt=function(t){return void 0===t&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:a,placement:o,middlewareData:s}=e,l=await async function(t,e){const{placement:n,platform:r,elements:i}=t,a=await(null==r.isRTL?void 0:r.isRTL(i.floating)),o=I(n),s=D(n),l="y"===H(n),c=["left","top"].includes(o)?-1:1,u=a&&l?-1:1,h=C(e,t);let{mainAxis:f,crossAxis:d,alignmentAxis:p}="number"==typeof h?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return s&&"number"==typeof p&&(d="end"===s?-1*p:p),l?{x:d*u,y:f*c}:{x:f*c,y:d*u}}(e,t);return o===(null==(n=s.offset)?void 0:n.placement)&&null!=(r=s.arrow)&&r.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:o}}}}},Bt=function(t){return void 0===t&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:t=>{let{x:e,y:n}=t;return{x:e,y:n}}},...l}=C(t,e),c={x:n,y:r},u=await W(e,l),h=H(I(i)),f=j(h);let d=c[f],p=c[h];if(a){const t="y"===f?"bottom":"right";d=N(d+u["y"===f?"top":"left"],d,d-u[t])}if(o){const t="y"===h?"bottom":"right";p=N(p+u["y"===h?"top":"left"],p,p-u[t])}const m=s.fn({...e,[f]:d,[h]:p});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[f]:a,[h]:o}}}}}},Lt=function(t){return void 0===t&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:s,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,..._}=C(t,e);if(null!=(n=a.arrow)&&n.alignmentOffset)return{};const v=I(i),y=H(s),g=I(s)===s,b=await(null==l.isRTL?void 0:l.isRTL(c.floating)),w=f||(g||!m?[Y(s)]:function(t){const e=Y(t);return[X(t),e,X(e)]}(s)),x="none"!==p;!f&&x&&w.push(...function(t,e,n,r){const i=D(t);let a=function(t,e,n){const r=["left","right"],i=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?a:o;default:return[]}}(I(t),"start"===n,r);return i&&(a=a.map((t=>t+"-"+i)),e&&(a=a.concat(a.map(X)))),a}(s,m,p,b));const S=[s,...w],E=await W(e,_),A=[];let T=(null==(r=a.flip)?void 0:r.overflows)||[];if(u&&A.push(E[v]),h){const t=function(t,e,n){void 0===n&&(n=!1);const r=D(t),i=q(t),a=F(i);let o="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=Y(o)),[o,Y(o)]}(i,o,b);A.push(E[t[0]],E[t[1]])}if(T=[...T,{placement:i,overflows:A}],!A.every((t=>t<=0))){var R,M;const t=((null==(R=a.flip)?void 0:R.index)||0)+1,e=S[t];if(e)return{data:{index:t,overflows:T},reset:{placement:e}};let n=null==(M=T.filter((t=>t.overflows[0]<=0)).sort(((t,e)=>t.overflows[1]-e.overflows[1]))[0])?void 0:M.placement;if(!n)switch(d){case"bestFit":{var k;const t=null==(k=T.filter((t=>{if(x){const e=H(t.placement);return e===y||"y"===e}return!0})).map((t=>[t.placement,t.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)])).sort(((t,e)=>t[1]-e[1]))[0])?void 0:k[0];t&&(n=t);break}case"initialPlacement":n=s}if(i!==n)return{reset:{placement:n}}}return{}}}},Vt=(t,e,n)=>{const r=new Map,i={platform:kt,...n},a={...i.platform,_c:r};return(async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,s=a.filter(Boolean),l=await(null==o.isRTL?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:h}=z(c,r,l),f=r,d={},p=0;for(let n=0;n<s.length;n++){const{name:a,fn:m}=s[n],{x:_,y:v,data:y,reset:g}=await m({x:u,y:h,initialPlacement:r,placement:f,strategy:i,middlewareData:d,rects:c,platform:o,elements:{reference:t,floating:e}});u=null!=_?_:u,h=null!=v?v:h,d={...d,[a]:{...d[a],...y}},g&&p<=50&&(p++,"object"==typeof g&&(g.placement&&(f=g.placement),g.rects&&(c=!0===g.rects?await o.getElementRects({reference:t,floating:e,strategy:i}):g.rects),({x:u,y:h}=z(c,f,l))),n=-1)}return{x:u,y:h,placement:f,strategy:i,middlewareData:d}})(t,e,{...i,platform:a})};var Ot=a(3373);const Nt={core:!1,base:!1};function Ct({css:t,id:e="react-tooltip-base-styles",type:n="base",ref:r}){var i,a;if(!t||"undefined"==typeof document||Nt[n])return;if("core"===n&&"undefined"!=typeof process&&(null===(i=null===process||void 0===process?void 0:process.env)||void 0===i?void 0:i.REACT_TOOLTIP_DISABLE_CORE_STYLES))return;if("base"!==n&&"undefined"!=typeof process&&(null===(a=null===process||void 0===process?void 0:process.env)||void 0===a?void 0:a.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;"core"===n&&(e="react-tooltip-core-styles"),r||(r={});const{insertAt:o}=r;if(document.getElementById(e))return;const s=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.id=e,l.type="text/css","top"===o&&s.firstChild?s.insertBefore(l,s.firstChild):s.appendChild(l),l.styleSheet?l.styleSheet.cssText=t:l.appendChild(document.createTextNode(t)),Nt[n]=!0}const It=async({elementReference:t=null,tooltipReference:e=null,tooltipArrowReference:n=null,place:r="top",offset:i=10,strategy:a="absolute",middlewares:o=[Pt(Number(i)),Lt({fallbackAxisSideDirection:"start"}),Bt({padding:5})],border:s})=>{if(!t)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};if(null===e)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};const l=o;return n?(l.push({name:"arrow",options:c={element:n,padding:5},async fn(t){const{x:e,y:n,placement:r,rects:i,platform:a,elements:o,middlewareData:s}=t,{element:l,padding:u=0}=C(c,t)||{};if(null==l)return{};const h=U(u),f={x:e,y:n},d=q(r),p=F(d),m=await a.getDimensions(l),_="y"===d,v=_?"top":"left",y=_?"bottom":"right",g=_?"clientHeight":"clientWidth",b=i.reference[p]+i.reference[d]-f[d]-i.floating[p],w=f[d]-i.reference[d],x=await(null==a.getOffsetParent?void 0:a.getOffsetParent(l));let S=x?x[g]:0;S&&await(null==a.isElement?void 0:a.isElement(x))||(S=o.floating[g]||i.floating[p]);const E=b/2-w/2,A=S/2-m[p]/2-1,T=M(h[v],A),R=M(h[y],A),k=T,P=S-m[p]-R,B=S/2-m[p]/2+E,L=N(k,B,P),V=!s.arrow&&null!=D(r)&&B!==L&&i.reference[p]/2-(B<k?T:R)-m[p]/2<0,O=V?B<k?B-k:B-P:0;return{[d]:f[d]+O,data:{[d]:L,centerOffset:B-L-O,...V&&{alignmentOffset:O}},reset:V}}}),Vt(t,e,{placement:r,strategy:a,middleware:l}).then((({x:t,y:e,placement:n,middlewareData:r})=>{var i,a;const o={left:`${t}px`,top:`${e}px`,border:s},{x:l,y:c}=null!==(i=r.arrow)&&void 0!==i?i:{x:0,y:0},u=null!==(a={top:"bottom",right:"left",bottom:"top",left:"right"}[n.split("-")[0]])&&void 0!==a?a:"bottom",h=s&&{borderBottom:s,borderRight:s};let f=0;if(s){const t=`${s}`.match(/(\d+)px/);f=(null==t?void 0:t[1])?Number(t[1]):1}return{tooltipStyles:o,tooltipArrowStyles:{left:null!=l?`${l}px`:"",top:null!=c?`${c}px`:"",right:"",bottom:"",...h,[u]:`-${4+f}px`},place:n}}))):Vt(t,e,{placement:"bottom",strategy:a,middleware:l}).then((({x:t,y:e,placement:n})=>({tooltipStyles:{left:`${t}px`,top:`${e}px`},tooltipArrowStyles:{},place:n})));var c},Dt=(t,e)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(t,e),jt=(t,e,n)=>{let r=null;const i=function(...i){const a=()=>{r=null,n||t.apply(this,i)};n&&!r&&(t.apply(this,i),r=setTimeout(a,e)),n||(r&&clearTimeout(r),r=setTimeout(a,e))};return i.cancel=()=>{r&&(clearTimeout(r),r=null)},i},Ft=t=>null!==t&&!Array.isArray(t)&&"object"==typeof t,Ht=(t,e)=>{if(t===e)return!0;if(Array.isArray(t)&&Array.isArray(e))return t.length===e.length&&t.every(((t,n)=>Ht(t,e[n])));if(Array.isArray(t)!==Array.isArray(e))return!1;if(!Ft(t)||!Ft(e))return t===e;const n=Object.keys(t),r=Object.keys(e);return n.length===r.length&&n.every((n=>Ht(t[n],e[n])))},qt=t=>{if(!(t instanceof HTMLElement||t instanceof SVGElement))return!1;const e=getComputedStyle(t);return["overflow","overflow-x","overflow-y"].some((t=>{const n=e.getPropertyValue(t);return"auto"===n||"scroll"===n}))},Xt=t=>{if(!t)return null;let e=t.parentElement;for(;e;){if(qt(e))return e;e=e.parentElement}return document.scrollingElement||document.documentElement},Yt="undefined"!=typeof window?t.useLayoutEffect:t.useEffect,Ut=t=>{t.current&&(clearTimeout(t.current),t.current=null)},Gt={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},zt=(0,t.createContext)({getTooltipData:()=>Gt});function Wt(e="DEFAULT_TOOLTIP_ID"){return(0,t.useContext)(zt).getTooltipData(e)}var Kt={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},Zt={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const $t=({forwardRef:e,id:n,className:r,classNameArrow:i,variant:a="dark",anchorId:o,anchorSelect:s,place:l="top",offset:c=10,events:u=["hover"],openOnClick:h=!1,positionStrategy:f="absolute",middlewares:d,wrapper:p,delayShow:m=0,delayHide:_=0,float:v=!1,hidden:y=!1,noArrow:g=!1,clickable:b=!1,closeOnEsc:w=!1,closeOnScroll:x=!1,closeOnResize:S=!1,openEvents:E,closeEvents:A,globalCloseEvents:T,imperativeModeOnly:R,style:P,position:L,afterShow:V,afterHide:O,disableTooltip:N,content:C,contentWrapperRef:I,isOpen:D,defaultIsOpen:j=!1,setIsOpen:F,activeAnchor:H,setActiveAnchor:q,border:X,opacity:Y,arrowColor:U,role:G="tooltip"})=>{var z;const W=(0,t.useRef)(null),K=(0,t.useRef)(null),Z=(0,t.useRef)(null),$=(0,t.useRef)(null),J=(0,t.useRef)(null),[tt,et]=(0,t.useState)({tooltipStyles:{},tooltipArrowStyles:{},place:l}),[nt,rt]=(0,t.useState)(!1),[it,at]=(0,t.useState)(!1),[ot,st]=(0,t.useState)(null),lt=(0,t.useRef)(!1),ct=(0,t.useRef)(null),{anchorRefs:ut,setActiveAnchor:ht}=Wt(n),ft=(0,t.useRef)(!1),[pt,mt]=(0,t.useState)([]),vt=(0,t.useRef)(!1),yt=h||u.includes("click"),gt=yt||(null==E?void 0:E.click)||(null==E?void 0:E.dblclick)||(null==E?void 0:E.mousedown),wt=E?{...E}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!E&&yt&&Object.assign(wt,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const xt=A?{...A}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!A&&yt&&Object.assign(xt,{mouseleave:!1,blur:!1,mouseout:!1});const St=T?{...T}:{escape:w||!1,scroll:x||!1,resize:S||!1,clickOutsideAnchor:gt||!1};R&&(Object.assign(wt,{mouseenter:!1,focus:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(xt,{mouseleave:!1,blur:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(St,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),Yt((()=>(vt.current=!0,()=>{vt.current=!1})),[]);const Et=t=>{vt.current&&(t&&at(!0),setTimeout((()=>{vt.current&&(null==F||F(t),void 0===D&&rt(t))}),10))};(0,t.useEffect)((()=>{if(void 0===D)return()=>null;D&&at(!0);const t=setTimeout((()=>{rt(D)}),10);return()=>{clearTimeout(t)}}),[D]),(0,t.useEffect)((()=>{if(nt!==lt.current)if(Ut(J),lt.current=nt,nt)null==V||V();else{const t=(()=>{const t=getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay").match(/^([\d.]+)(ms|s)$/);if(!t)return 0;const[,e,n]=t;return Number(e)*("ms"===n?1:1e3)})();J.current=setTimeout((()=>{at(!1),st(null),null==O||O()}),t+25)}}),[nt]);const At=t=>{et((e=>Ht(e,t)?e:t))},Tt=(t=m)=>{Ut(Z),it?Et(!0):Z.current=setTimeout((()=>{Et(!0)}),t)},Rt=(t=_)=>{Ut($),$.current=setTimeout((()=>{ft.current||Et(!1)}),t)},Mt=t=>{var e;if(!t)return;const n=null!==(e=t.currentTarget)&&void 0!==e?e:t.target;if(!(null==n?void 0:n.isConnected))return q(null),void ht({current:null});m?Tt():Et(!0),q(n),ht({current:n}),Ut($)},kt=()=>{b?Rt(_||100):_?Rt():Et(!1),Ut(Z)},Pt=({x:t,y:e})=>{var n;const r={getBoundingClientRect:()=>({x:t,y:e,width:0,height:0,top:e,left:t,right:t,bottom:e})};It({place:null!==(n=null==ot?void 0:ot.place)&&void 0!==n?n:l,offset:c,elementReference:r,tooltipReference:W.current,tooltipArrowReference:K.current,strategy:f,middlewares:d,border:X}).then((t=>{At(t)}))},Bt=t=>{if(!t)return;const e=t,n={x:e.clientX,y:e.clientY};Pt(n),ct.current=n},Lt=t=>{var e;if(!nt)return;const n=t.target;n.isConnected&&((null===(e=W.current)||void 0===e?void 0:e.contains(n))||[document.querySelector(`[id='${o}']`),...pt].some((t=>null==t?void 0:t.contains(n)))||(Et(!1),Ut(Z)))},Vt=jt(Mt,50,!0),Nt=jt(kt,50,!0),Ct=t=>{Nt.cancel(),Vt(t)},Dt=()=>{Vt.cancel(),Nt()},Ft=(0,t.useCallback)((()=>{var t,e;const n=null!==(t=null==ot?void 0:ot.position)&&void 0!==t?t:L;n?Pt(n):v?ct.current&&Pt(ct.current):(null==H?void 0:H.isConnected)&&It({place:null!==(e=null==ot?void 0:ot.place)&&void 0!==e?e:l,offset:c,elementReference:H,tooltipReference:W.current,tooltipArrowReference:K.current,strategy:f,middlewares:d,border:X}).then((t=>{vt.current&&At(t)}))}),[nt,H,C,P,l,null==ot?void 0:ot.place,c,f,L,null==ot?void 0:ot.position,v]);(0,t.useEffect)((()=>{var t,e;const n=new Set(ut);pt.forEach((t=>{(null==N?void 0:N(t))||n.add({current:t})}));const r=document.querySelector(`[id='${o}']`);r&&!(null==N?void 0:N(r))&&n.add({current:r});const i=()=>{Et(!1)},a=Xt(H),s=Xt(W.current);St.scroll&&(window.addEventListener("scroll",i),null==a||a.addEventListener("scroll",i),null==s||s.addEventListener("scroll",i));let l=null;St.resize?window.addEventListener("resize",i):H&&W.current&&(l=function(t,e,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o="function"==typeof ResizeObserver,layoutShift:s="function"==typeof IntersectionObserver,animationFrame:l=!1}=r,c=_t(t),u=i||a?[...c?dt(c):[],...dt(e)]:[];u.forEach((t=>{i&&t.addEventListener("scroll",n,{passive:!0}),a&&t.addEventListener("resize",n)}));const h=c&&s?function(t,e){let n,r=null;const i=Q(t);function a(){var t;clearTimeout(n),null==(t=r)||t.disconnect(),r=null}return function o(s,l){void 0===s&&(s=!1),void 0===l&&(l=1),a();const{left:c,top:u,width:h,height:f}=t.getBoundingClientRect();if(s||e(),!h||!f)return;const d={rootMargin:-B(u)+"px "+-B(i.clientWidth-(c+h))+"px "+-B(i.clientHeight-(u+f))+"px "+-B(c)+"px",threshold:k(0,M(1,l))||1};let p=!0;function m(t){const e=t[0].intersectionRatio;if(e!==l){if(!p)return o();e?o(!1,e):n=setTimeout((()=>{o(!1,1e-7)}),1e3)}p=!1}try{r=new IntersectionObserver(m,{...d,root:i.ownerDocument})}catch(t){r=new IntersectionObserver(m,d)}r.observe(t)}(!0),a}(c,n):null;let f,d=-1,p=null;o&&(p=new ResizeObserver((t=>{let[r]=t;r&&r.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame((()=>{var t;null==(t=p)||t.observe(e)}))),n()})),c&&!l&&p.observe(c),p.observe(e));let m=l?bt(t):null;return l&&function e(){const r=bt(t);!m||r.x===m.x&&r.y===m.y&&r.width===m.width&&r.height===m.height||n(),m=r,f=requestAnimationFrame(e)}(),n(),()=>{var t;u.forEach((t=>{i&&t.removeEventListener("scroll",n),a&&t.removeEventListener("resize",n)})),null==h||h(),null==(t=p)||t.disconnect(),p=null,l&&cancelAnimationFrame(f)}}(H,W.current,Ft,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const c=t=>{"Escape"===t.key&&Et(!1)};St.escape&&window.addEventListener("keydown",c),St.clickOutsideAnchor&&window.addEventListener("click",Lt);const u=[],h=t=>{nt&&(null==t?void 0:t.target)===H||Mt(t)},f=t=>{nt&&(null==t?void 0:t.target)===H&&kt()},d=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],p=["click","dblclick","mousedown","mouseup"];Object.entries(wt).forEach((([t,e])=>{e&&(d.includes(t)?u.push({event:t,listener:Ct}):p.includes(t)&&u.push({event:t,listener:h}))})),Object.entries(xt).forEach((([t,e])=>{e&&(d.includes(t)?u.push({event:t,listener:Dt}):p.includes(t)&&u.push({event:t,listener:f}))})),v&&u.push({event:"pointermove",listener:Bt});const m=()=>{ft.current=!0},_=()=>{ft.current=!1,kt()};return b&&!gt&&(null===(t=W.current)||void 0===t||t.addEventListener("mouseenter",m),null===(e=W.current)||void 0===e||e.addEventListener("mouseleave",_)),u.forEach((({event:t,listener:e})=>{n.forEach((n=>{var r;null===(r=n.current)||void 0===r||r.addEventListener(t,e)}))})),()=>{var t,e;St.scroll&&(window.removeEventListener("scroll",i),null==a||a.removeEventListener("scroll",i),null==s||s.removeEventListener("scroll",i)),St.resize?window.removeEventListener("resize",i):null==l||l(),St.clickOutsideAnchor&&window.removeEventListener("click",Lt),St.escape&&window.removeEventListener("keydown",c),b&&!gt&&(null===(t=W.current)||void 0===t||t.removeEventListener("mouseenter",m),null===(e=W.current)||void 0===e||e.removeEventListener("mouseleave",_)),u.forEach((({event:t,listener:e})=>{n.forEach((n=>{var r;null===(r=n.current)||void 0===r||r.removeEventListener(t,e)}))}))}}),[H,Ft,it,ut,pt,E,A,T,yt,m,_]),(0,t.useEffect)((()=>{var t,e;let r=null!==(e=null!==(t=null==ot?void 0:ot.anchorSelect)&&void 0!==t?t:s)&&void 0!==e?e:"";!r&&n&&(r=`[data-tooltip-id='${n.replace(/'/g,"\\'")}']`);const i=new MutationObserver((t=>{const e=[],i=[];t.forEach((t=>{if("attributes"===t.type&&"data-tooltip-id"===t.attributeName&&(t.target.getAttribute("data-tooltip-id")===n?e.push(t.target):t.oldValue===n&&i.push(t.target)),"childList"===t.type){if(H){const e=[...t.removedNodes].filter((t=>1===t.nodeType));if(r)try{i.push(...e.filter((t=>t.matches(r)))),i.push(...e.flatMap((t=>[...t.querySelectorAll(r)])))}catch(t){}e.some((t=>{var e;return!!(null===(e=null==t?void 0:t.contains)||void 0===e?void 0:e.call(t,H))&&(at(!1),Et(!1),q(null),Ut(Z),Ut($),!0)}))}if(r)try{const n=[...t.addedNodes].filter((t=>1===t.nodeType));e.push(...n.filter((t=>t.matches(r)))),e.push(...n.flatMap((t=>[...t.querySelectorAll(r)])))}catch(t){}}})),(e.length||i.length)&&mt((t=>[...t.filter((t=>!i.includes(t))),...e]))}));return i.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{i.disconnect()}}),[n,s,null==ot?void 0:ot.anchorSelect,H]),(0,t.useEffect)((()=>{Ft()}),[Ft]),(0,t.useEffect)((()=>{if(!(null==I?void 0:I.current))return()=>null;const t=new ResizeObserver((()=>{setTimeout((()=>Ft()))}));return t.observe(I.current),()=>{t.disconnect()}}),[C,null==I?void 0:I.current]),(0,t.useEffect)((()=>{var t;const e=document.querySelector(`[id='${o}']`),n=[...pt,e];H&&n.includes(H)||q(null!==(t=pt[0])&&void 0!==t?t:e)}),[o,pt,H]),(0,t.useEffect)((()=>(j&&Et(!0),()=>{Ut(Z),Ut($)})),[]),(0,t.useEffect)((()=>{var t;let e=null!==(t=null==ot?void 0:ot.anchorSelect)&&void 0!==t?t:s;if(!e&&n&&(e=`[data-tooltip-id='${n.replace(/'/g,"\\'")}']`),e)try{const t=Array.from(document.querySelectorAll(e));mt(t)}catch(t){mt([])}}),[n,s,null==ot?void 0:ot.anchorSelect]),(0,t.useEffect)((()=>{Z.current&&(Ut(Z),Tt(m))}),[m]);const qt=null!==(z=null==ot?void 0:ot.content)&&void 0!==z?z:C,Gt=nt&&Object.keys(tt.tooltipStyles).length>0;return(0,t.useImperativeHandle)(e,(()=>({open:t=>{if(null==t?void 0:t.anchorSelect)try{document.querySelector(t.anchorSelect)}catch(e){return void console.warn(`[react-tooltip] "${t.anchorSelect}" is not a valid CSS selector`)}st(null!=t?t:null),(null==t?void 0:t.delay)?Tt(t.delay):Et(!0)},close:t=>{(null==t?void 0:t.delay)?Rt(t.delay):Et(!1)},activeAnchor:H,place:tt.place,isOpen:Boolean(it&&!y&&qt&&Gt)}))),it&&!y&&qt?t.createElement(p,{id:n,role:G,className:Ot("react-tooltip",Kt.tooltip,Zt.tooltip,Zt[a],r,`react-tooltip__place-${tt.place}`,Kt[Gt?"show":"closing"],Gt?"react-tooltip__show":"react-tooltip__closing","fixed"===f&&Kt.fixed,b&&Kt.clickable),onTransitionEnd:t=>{Ut(J),nt||"opacity"!==t.propertyName||(at(!1),st(null),null==O||O())},style:{...P,...tt.tooltipStyles,opacity:void 0!==Y&&Gt?Y:void 0},ref:W},qt,t.createElement(p,{className:Ot("react-tooltip-arrow",Kt.arrow,Zt.arrow,i,g&&Kt.noArrow),style:{...tt.tooltipArrowStyles,background:U?`linear-gradient(to right bottom, transparent 50%, ${U} 50%)`:void 0},ref:K})):null},Qt=({content:e})=>t.createElement("span",{dangerouslySetInnerHTML:{__html:e}}),Jt=t.forwardRef((({id:e,anchorId:n,anchorSelect:r,content:i,html:a,render:o,className:s,classNameArrow:l,variant:c="dark",place:u="top",offset:h=10,wrapper:f="div",children:d=null,events:p=["hover"],openOnClick:m=!1,positionStrategy:_="absolute",middlewares:v,delayShow:y=0,delayHide:g=0,float:b=!1,hidden:w=!1,noArrow:x=!1,clickable:S=!1,closeOnEsc:E=!1,closeOnScroll:A=!1,closeOnResize:T=!1,openEvents:R,closeEvents:M,globalCloseEvents:k,imperativeModeOnly:P=!1,style:B,position:L,isOpen:V,defaultIsOpen:O=!1,disableStyleInjection:N=!1,border:C,opacity:I,arrowColor:D,setIsOpen:j,afterShow:F,afterHide:H,disableTooltip:q,role:X="tooltip"},Y)=>{const[U,G]=(0,t.useState)(i),[z,W]=(0,t.useState)(a),[K,Z]=(0,t.useState)(u),[$,Q]=(0,t.useState)(c),[J,tt]=(0,t.useState)(h),[et,nt]=(0,t.useState)(y),[rt,it]=(0,t.useState)(g),[at,ot]=(0,t.useState)(b),[st,lt]=(0,t.useState)(w),[ct,ut]=(0,t.useState)(f),[ht,ft]=(0,t.useState)(p),[dt,pt]=(0,t.useState)(_),[mt,_t]=(0,t.useState)(null),[vt,yt]=(0,t.useState)(null),gt=(0,t.useRef)(N),{anchorRefs:bt,activeAnchor:wt}=Wt(e),xt=t=>null==t?void 0:t.getAttributeNames().reduce(((e,n)=>{var r;return n.startsWith("data-tooltip-")&&(e[n.replace(/^data-tooltip-/,"")]=null!==(r=null==t?void 0:t.getAttribute(n))&&void 0!==r?r:null),e}),{}),St=t=>{const e={place:t=>{var e;Z(null!==(e=t)&&void 0!==e?e:u)},content:t=>{G(null!=t?t:i)},html:t=>{W(null!=t?t:a)},variant:t=>{var e;Q(null!==(e=t)&&void 0!==e?e:c)},offset:t=>{tt(null===t?h:Number(t))},wrapper:t=>{var e;ut(null!==(e=t)&&void 0!==e?e:f)},events:t=>{const e=null==t?void 0:t.split(" ");ft(null!=e?e:p)},"position-strategy":t=>{var e;pt(null!==(e=t)&&void 0!==e?e:_)},"delay-show":t=>{nt(null===t?y:Number(t))},"delay-hide":t=>{it(null===t?g:Number(t))},float:t=>{ot(null===t?b:"true"===t)},hidden:t=>{lt(null===t?w:"true"===t)},"class-name":t=>{_t(t)}};Object.values(e).forEach((t=>t(null))),Object.entries(t).forEach((([t,n])=>{var r;null===(r=e[t])||void 0===r||r.call(e,n)}))};(0,t.useEffect)((()=>{G(i)}),[i]),(0,t.useEffect)((()=>{W(a)}),[a]),(0,t.useEffect)((()=>{Z(u)}),[u]),(0,t.useEffect)((()=>{Q(c)}),[c]),(0,t.useEffect)((()=>{tt(h)}),[h]),(0,t.useEffect)((()=>{nt(y)}),[y]),(0,t.useEffect)((()=>{it(g)}),[g]),(0,t.useEffect)((()=>{ot(b)}),[b]),(0,t.useEffect)((()=>{lt(w)}),[w]),(0,t.useEffect)((()=>{pt(_)}),[_]),(0,t.useEffect)((()=>{gt.current!==N&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")}),[N]),(0,t.useEffect)((()=>{"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:"core"===N,disableBase:N}}))}),[]),(0,t.useEffect)((()=>{var t;const i=new Set(bt);let a=r;if(!a&&e&&(a=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`),a)try{document.querySelectorAll(a).forEach((t=>{i.add({current:t})}))}catch(t){console.warn(`[react-tooltip] "${a}" is not a valid CSS selector`)}const o=document.querySelector(`[id='${n}']`);if(o&&i.add({current:o}),!i.size)return()=>null;const s=null!==(t=null!=vt?vt:o)&&void 0!==t?t:wt.current,l=new MutationObserver((t=>{t.forEach((t=>{var e;if(!s||"attributes"!==t.type||!(null===(e=t.attributeName)||void 0===e?void 0:e.startsWith("data-tooltip-")))return;const n=xt(s);St(n)}))})),c={attributes:!0,childList:!1,subtree:!1};if(s){const t=xt(s);St(t),l.observe(s,c)}return()=>{l.disconnect()}}),[bt,wt,vt,n,r]),(0,t.useEffect)((()=>{(null==B?void 0:B.border)&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),C&&!Dt("border",`${C}`)&&console.warn(`[react-tooltip] "${C}" is not a valid \`border\`.`),(null==B?void 0:B.opacity)&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),I&&!Dt("opacity",`${I}`)&&console.warn(`[react-tooltip] "${I}" is not a valid \`opacity\`.`)}),[]);let Et=d;const At=(0,t.useRef)(null);if(o){const e=o({content:(null==vt?void 0:vt.getAttribute("data-tooltip-content"))||U||null,activeAnchor:vt});Et=e?t.createElement("div",{ref:At,className:"react-tooltip-content-wrapper"},e):null}else U&&(Et=U);z&&(Et=t.createElement(Qt,{content:z}));const Tt={forwardRef:Y,id:e,anchorId:n,anchorSelect:r,className:Ot(s,mt),classNameArrow:l,content:Et,contentWrapperRef:At,place:K,variant:$,offset:J,wrapper:ct,events:ht,openOnClick:m,positionStrategy:dt,middlewares:v,delayShow:et,delayHide:rt,float:at,hidden:st,noArrow:x,clickable:S,closeOnEsc:E,closeOnScroll:A,closeOnResize:T,openEvents:R,closeEvents:M,globalCloseEvents:k,imperativeModeOnly:P,style:B,position:L,isOpen:V,defaultIsOpen:O,border:C,opacity:I,arrowColor:D,setIsOpen:j,afterShow:F,afterHide:H,disableTooltip:q,activeAnchor:vt,setActiveAnchor:t=>yt(t),role:X};return t.createElement($t,{...Tt})}));"undefined"!=typeof window&&window.addEventListener("react-tooltip-inject-styles",(t=>{t.detail.disableCore||Ct({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),t.detail.disableBase||Ct({css:"\n.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:8px;height:8px}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}",type:"base"})}));const te=a.p+"b63a3b8899453810bfaf.png",ee=function(){return e().createElement(e().Fragment,null,e().createElement("img",{src:te,alt:"title-logo",className:"w-[24rem] m-auto"}),e().createElement("h1",{className:"text-md mb-8 mt-4 text-center mx-auto text-zinc-50 tracking-tight max-w-xl"},"Slow, speed up, and pitch shift audio files with ease. Upload a file, adjust the reverb decay time and pitch shift, then apply and preview your changes. Export to your preferred audio format to save your changes."),e().createElement("h1",{className:"text-md mb-8 mt-4 text-center mx-auto text-zinc-50 tracking-tight max-w-xl"},"To learn more about each setting and how to use it, hover or tap the  icon next to each setting."))};var ne=(0,t.forwardRef)((function(t,n){var r=t.onClick,i=t.onChange,a=t.type,o=void 0===a?"button":a,s=t.disabled,l=void 0!==s&&s,c=t.className,u=void 0===c?"":c,h=t.children,f=t.isFileInput,d=void 0!==f&&f,p=t.accept,m=t.capture,_="px-4 py-2 font-arimo text-sm font-bold tracking-tight rounded bg-zinc-50 text-zinc-700 border-zinc-600 border-2",v=l?"opacity-50 cursor-not-allowed":"hover:bg-zinc-200 transition-colors duration-200 cursor-pointer";return d?e().createElement("div",{className:"relative"},e().createElement("input",{type:"file",accept:p,onChange:i,ref:n,disabled:l,capture:m,className:"absolute inset-0 opacity-0 w-full h-full cursor-pointer disabled:cursor-not-allowed"}),e().createElement("button",{type:o,disabled:l,className:"".concat(_," ").concat(v," ").concat(u)},h)):e().createElement("button",{type:o,disabled:l,onClick:r,className:"".concat(_," ").concat(v," ").concat(u)},h)}));ne.displayName="Button";const re=ne;function ie(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}const ae=function(n){var r,i,a=n.fileInputRef,o=n.handleFileUpload,s=(r=(0,t.useState)(null),i=2,function(t){if(Array.isArray(t))return t}(r)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(r,i)||function(t,e){if(t){if("string"==typeof t)return ie(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ie(t,e):void 0}}(r,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=s[0],c=s[1];return e().createElement("div",{className:"border-zinc-600 border-2 p-4 rounded-md shadow-xl bg-zinc-200"},e().createElement("h1",{className:"text-xl font-bold mb-2 text-left text-zinc-700 font-arimo"},"Upload Audio"),e().createElement("div",{className:"flex justify-start mb-4 italic text-sm tracking-wide"},"Click the button below to upload an audio file. You can upload MP3, WAV, M4A, and AAC files."),e().createElement(re,{accept:"audio/*,.mp3,.wav,.m4a,.aac",ref:a,onChange:function(t){var e,n=null===(e=t.target)||void 0===e||null===(e=e.files)||void 0===e?void 0:e[0];n&&(c(n.name),o(n.name))},isFileInput:!0},"Choose File"),l&&e().createElement("p",{className:"text-zinc-700 mt-4 flex items-center"},e().createElement("b",{className:"flex items-center mr-2"},"Uploaded File:"),e().createElement("span",{className:"flex items-center"},e().createElement("span",{className:"material-symbols-outlined mr-1 flex-shrink-0 align-middle"},"audio_file"),e().createElement("span",{className:"italic"},l))))},oe=function(t){var n=t.message,r=t.type,i=void 0===r?"warning":r,a="warning"===i?"bg-amber-50":"bg-blue-50",o="warning"===i?"border-amber-400":"border-blue-400",s="warning"===i?"text-amber-800":"text-blue-800",l="warning"===i?"#B45309":"#1E40AF";return e().createElement("div",{className:"flex items-center ".concat(a," ").concat(o," flex justify-center border border-zinc-800 rounded-lg bg-gray-100 p-4 my-4")},e().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 -960 960 960",width:"20px",fill:l,className:"mr-2 flex-shrink-0"},"warning"===i?e().createElement("path",{d:"m40-120 440-760 440 760H40Zm138-80h604L480-720 178-200Zm302-40q17 0 28.5-11.5T520-280q0-17-11.5-28.5T480-320q-17 0-28.5 11.5T440-280q0 17 11.5 28.5T480-240Zm-40-120h80v-200h-80v200Z"}):e().createElement("path",{d:"M440-280h80v-240h-80v240Zm40-320q17 0 28.5-11.5T520-640q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640q0 17 11.5 28.5T480-600Zm0 520q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Z"})),e().createElement("p",{className:"".concat(s," text-sm")},n))};var se=e().lazy((function(){return Promise.all([a.e(43),a.e(574)]).then(a.bind(a,3574))}));const le=function(n){var r=n.decayTime,i=n.dryGainValue,a=n.wetGainValue,o=n.highPassFrequency,s=n.lowPassFrequency,l=n.showAdvanced,c=n.frequencyData,u=n.handleParameterChange,h=n.setDecayTime,f=n.setDryGainValue,d=n.setWetGainValue,p=n.setHighPassFrequency,m=n.setLowPassFrequency,_=n.setShowAdvanced;return e().createElement("div",{className:"border-zinc-600 border-2 p-4 rounded-md shadow-xl bg-zinc-200 font-arimo"},e().createElement("h1",{className:"text-xl font-bold my-2 mb-2 text-left text-zinc-700"},"Reverberation"),e().createElement("div",{className:"flex justify-start mb-4 italic text-sm tracking-wide"},"Set the reverberation parameters below to apply the reverb effect to your uploaded audio file. You can choose to apply a simple decay time or click the button below to set more advanced parameters."),e().createElement("div",{className:"grid grid-cols-1 gap-4"},e().createElement("div",null,e().createElement("div",{className:"flex"},e().createElement("span",{"data-tooltip-id":"reverb-tooltip","data-tooltip-html":"Reverb Decay Time controls the length of the reverb effect. <br><br> Higher values apply a longer reverb tail, resulting in a spacier, ethereal sound. <br><br> Lower values tend to be tighter and more confined.","data-tooltip-place":"right","data-tooltip-delay-show":500,"data-tooltip-delay-hide":300,className:"mr-2 text-zinc-700 cursor-help"},""),e().createElement("label",{className:"block text-zinc-700 font-medium mb-1"},"Reverb Decay Time (s): ",r,"s")),e().createElement("input",{type:"range",min:"0",max:"10",step:"0.1",value:r,onChange:function(t){return u(h,parseFloat(t.target.value))},className:"w-full"})),e().createElement("div",{className:"flex justify-center"},e().createElement(re,{onClick:function(){return _(!l)},"data-tooltip-id":"show-advanced-tooltip","data-tooltip-html":"Set advanced parameters like Dry Gain, Wet Gain, High Pass and Low Pass Frequency Filters. <br><br> Mouse over the    to learn more about each parameter.","data-tooltip-place":"right","data-tooltip-delay-show":500,"data-tooltip-delay-hide":300},l?"Hide Advanced Reverb Settings":"Show Advanced Reverb Settings")),l&&e().createElement("div",null,e().createElement("hr",{className:"my-4 border-zinc-400 border-1"}),e().createElement("h1",{className:"text-xl font-bold my-2 mb-2 text-left text-zinc-700"},"Gain Staging"),e().createElement("div",{className:"flex justify-start mb-4 italic text-sm tracking-wide"},"Control the volume of the reverberated signal."),e().createElement("div",null,e().createElement("div",{className:"flex"},e().createElement("span",{"data-tooltip-id":"dry-gain-tooltip","data-tooltip-html":"Dry Gain handles the volume of the raw, unprocessed audio signal. <br><br> Higher values make the unprocessed audio stronger, while lower values reduce it, opening up more space for additional effects and reverberation.","data-tooltip-place":"right","data-tooltip-delay-show":500,"data-tooltip-delay-hide":300,className:"mr-2 text-zinc-700 cursor-help"},""),e().createElement("label",{className:"block text-zinc-700 font-medium mb-1"},"Dry Gain: ",i.toFixed(2))),e().createElement("input",{type:"range",min:"0",max:"1",step:"0.01",value:i,onChange:function(t){return u(f,parseFloat(t.target.value))},className:"w-full"})),e().createElement("div",null,e().createElement("div",{className:"flex"},e().createElement("span",{"data-tooltip-id":"wet-gain-tooltip","data-tooltip-html":"Wet Gain handles the volume of the processed, reverberated audio signal. <br><br> Higher values make the reverberated audio stronger, while lower values reduce it, giving the dry signal more space in the overall mix.","data-tooltip-place":"right","data-tooltip-delay-show":500,"data-tooltip-delay-hide":300,className:"mr-2 text-zinc-700 cursor-help"},""),e().createElement("label",{className:"block text-zinc-700 font-medium mb-1"},"Wet Gain: ",a.toFixed(2))),e().createElement("input",{type:"range",min:"0",max:"1",step:"0.01",value:a,onChange:function(t){return u(d,parseFloat(t.target.value))},className:"w-full"})),i+a>1&&e().createElement(oe,{message:"Your current total gain is ".concat((i+a).toFixed(2),", exceeding the usual threshold of 1. This may cause clipping, leading to distortion!")}),e().createElement("h1",{className:"text-xl font-bold my-2 mb-2 text-left text-zinc-700"},"Frequency Filters"),e().createElement("div",{className:"flex justify-start mb-4 italic text-sm tracking-wide"},"Control where the reverb effect is applied."),e().createElement("div",null,e().createElement("div",{className:"flex"},e().createElement("span",{"data-tooltip-id":"high-pass-tooltip","data-tooltip-html":"The High Pass Frequency Filter controls the dynamics of the lower frequencies in the processed audio signal. <br><br> A higher value will cut out the bass and kick elements within the wet, reverberated signal, while a lower value will allow them to filter in. <br><br> Typically, a lower value may sound 'muddier' because the bass and kick reverb overpowers the raw signal within the lower frequency ranges.","data-tooltip-place":"right","data-tooltip-delay-show":500,"data-tooltip-delay-hide":300,className:"mr-2 text-zinc-700 cursor-help"},""),e().createElement("label",{className:"block text-zinc-700 font-medium mb-1"},"High Pass Filter Frequency (Hz): ",o," Hz")),e().createElement("input",{type:"range",min:"20",max:"20000",step:"1",value:o,onChange:function(t){return u(p,parseFloat(t.target.value))},className:"w-full"})),e().createElement("div",null,e().createElement("div",{className:"flex"},e().createElement("span",{"data-tooltip-id":"low-pass-tooltip","data-tooltip-html":"The Low Pass Frequency Filter controls the dynamics of the higher frequencies in the processed audio signal. <br><br> A higher value will cut out the high hats and snares, in addition to other 'airy' sounds within the reverberated signal, while a lower value will allow them to filter in. <br><br> A higher value may overpower the entire mix, mostly because the high hat and snare reverb creates extremely powerful air on top of the track.","data-tooltip-place":"right","data-tooltip-delay-show":500,"data-tooltip-delay-hide":300,className:"mr-2 text-zinc-700 cursor-help"},""),e().createElement("label",{className:"block text-zinc-700 font-medium mb-1"},"Low Pass Filter Frequency (Hz): ",s," Hz")),e().createElement("input",{type:"range",min:"20",max:"20000",step:"1",value:s,onChange:function(t){return u(m,parseFloat(t.target.value))},className:"w-full"})),e().createElement(t.Suspense,{fallback:e().createElement("div",null,"Loading...")},e().createElement(se,{data:c})))))},ce=function(t){var n=t.pitchShift,r=t.handleParameterChange,i=t.setPitchShift;return e().createElement("div",{className:"border-zinc-600 border-2 p-4 rounded-md shadow-xl bg-zinc-200"},e().createElement("h1",{className:"text-xl font-bold mb-2 text-left text-zinc-700 font-arimo"},"Pitch & Tempo Shift"),e().createElement("div",{className:"flex justify-start mb-4 italic text-sm tracking-wide"},"Pitch shift controls both the tempo and key of the audio signal."),e().createElement("div",null,e().createElement("div",{className:"flex"},e().createElement("span",{"data-tooltip-id":"pitch-shift-tooltip","data-tooltip-content":"Pitch shift controls both the tempo and key of the audio signal. For example, if your file is in the key of 'C' and has a BPM (beats per minute) of 120, a -1 semitone adjustment will reduce the tempo to 110 and shift the key to 'B'.","data-tooltip-place":"right","data-tooltip-delay-show":500,"data-tooltip-delay-hide":300,className:"mr-2 text-zinc-700 cursor-help"},""),e().createElement("label",{className:"block text-zinc-700 font-medium mb-1"},"Pitch Shift (Semitones): ",n)),e().createElement("input",{type:"range",min:"-12",max:"12",step:"1",value:n,onChange:function(t){return r(i,parseFloat(t.target.value))},className:"w-full"})))},ue=function(t){var n=t.audioElementRef,r=t.isPlaying,i=t.needsProcessing,a=t.isProcessing,o=t.audioBuffer,s=t.handlePlayPause,l=t.handleApplyChanges,c=t.audioSrc,u=t.parametersChanged;return e().createElement("div",{className:"border-zinc-600 border-2 p-4 rounded-md shadow-xl bg-zinc-200"},e().createElement("h1",{className:"text-xl font-bold mb-2 text-left text-zinc-700 font-arimo"},"Apply & Preview Changes"),e().createElement("div",{className:"flex justify-start mb-4 italic text-sm tracking-wide"},"Apply your changes and preview your modifications."),!o&&e().createElement(oe,{message:"Upload an audio file to preview and process."}),e().createElement("div",{className:"grid grid-cols-1 gap-2 my-2 md:grid-cols-2 grid-rows-1 justify-center"},e().createElement("audio",{ref:n,src:c}),e().createElement(re,{onClick:l,disabled:!i||a||!u&&!o,className:"flex justify-center items-center mx-2 min-w-40"},e().createElement("div",{className:"flex justify-center items-center"},e().createElement("span",{className:"material-symbols-outlined"},"sync"),e().createElement("span",null,"Apply Changes"))),e().createElement(re,{onClick:s,disabled:a||!c,className:"flex justify-center items-center mx-2 min-w-40"},r?e().createElement("div",{className:"flex justify-center items-center"},e().createElement("span",{className:"material-symbols-outlined"},"stop"),e().createElement("span",null,"Stop Audio")):e().createElement("div",{className:"flex justify-center items-center"},e().createElement("span",{className:"material-symbols-outlined"},"play_arrow"),e().createElement("span",null,"Preview Audio")))))};var he=a(7183),fe=a.n(he);function de(t){return de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},de(t)}function pe(){pe=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var a=e&&e.prototype instanceof v?e:v,o=Object.create(a.prototype),s=new P(r||[]);return i(o,"_invoke",{value:T(t,n,s)}),o}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var f="suspendedStart",d="suspendedYield",p="executing",m="completed",_={};function v(){}function y(){}function g(){}var b={};c(b,o,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(B([])));x&&x!==n&&r.call(x,o)&&(b=x);var S=g.prototype=v.prototype=Object.create(b);function E(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function n(i,a,o,s){var l=h(t[i],t,a);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==de(u)&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,o,s)}),(function(t){n("throw",t,o,s)})):e.resolve(u).then((function(t){c.value=t,o(c)}),(function(t){return n("throw",t,o,s)}))}s(l.arg)}var a;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return a=a?a.then(i,i):i()}})}function T(e,n,r){var i=f;return function(a,o){if(i===p)throw Error("Generator is already running");if(i===m){if("throw"===a)throw o;return{value:t,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var l=R(s,r);if(l){if(l===_)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var c=h(e,n,r);if("normal"===c.type){if(i=r.done?m:d,c.arg===_)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=m,r.method="throw",r.arg=c.arg)}}}function R(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,R(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),_;var a=h(i,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,_;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,_):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,_)}function M(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(M,this),this.reset(!0)}function B(e){if(e||""===e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(de(e)+" is not iterable")}return y.prototype=g,i(S,"constructor",{value:g,configurable:!0}),i(g,"constructor",{value:y,configurable:!0}),y.displayName=c(g,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,c(t,l,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},E(A.prototype),c(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new A(u(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},E(S),c(S,l,"Generator"),c(S,o,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=B,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,_):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),_},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),_}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:B(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),_}},e}function me(t,e,n,r,i,a,o){try{var s=t[a](o),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,i)}var _e=function(){var t,e=(t=pe().mark((function t(e,r,i,a,o,s,l){var c,u,h,f,d,p,m,_,v,y,g,b;return pe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=Math.pow(2,i/12),u=e.length/c,h=new OfflineAudioContext(e.numberOfChannels,u,e.sampleRate),(f=h.createBufferSource()).buffer=e,f.playbackRate.value=c,(d=h.createConvolver()).buffer=n(h,r),p=h.createGain(),m=h.createGain(),p.gain.value=a,m.gain.value=o,(_=h.createBiquadFilter()).type="highpass",_.frequency.value=s,(v=h.createBiquadFilter()).type="lowpass",v.frequency.value=l,f.connect(p),p.connect(h.destination),f.connect(d),d.connect(_),_.connect(v),v.connect(m),m.connect(h.destination),f.start(0),t.next=28,h.startRendering();case 28:return y=t.sent,console.log("Rendered buffer duration:",y.duration),g=fe()(y),console.log("WAV array buffer length:",g.byteLength),b=new Blob([g],{type:"audio/wav"}),console.log("Created WAV blob:",b),t.abrupt("return",b);case 35:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){me(a,r,i,o,s,"next",t)}function s(t){me(a,r,i,o,s,"throw",t)}o(void 0)}))});return function(t,n,r,i,a,o,s){return e.apply(this,arguments)}}();function ve(t){return ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ve(t)}function ye(){ye=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var a=e&&e.prototype instanceof v?e:v,o=Object.create(a.prototype),s=new P(r||[]);return i(o,"_invoke",{value:T(t,n,s)}),o}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var f="suspendedStart",d="suspendedYield",p="executing",m="completed",_={};function v(){}function y(){}function g(){}var b={};c(b,o,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(B([])));x&&x!==n&&r.call(x,o)&&(b=x);var S=g.prototype=v.prototype=Object.create(b);function E(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function n(i,a,o,s){var l=h(t[i],t,a);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==ve(u)&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,o,s)}),(function(t){n("throw",t,o,s)})):e.resolve(u).then((function(t){c.value=t,o(c)}),(function(t){return n("throw",t,o,s)}))}s(l.arg)}var a;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return a=a?a.then(i,i):i()}})}function T(e,n,r){var i=f;return function(a,o){if(i===p)throw Error("Generator is already running");if(i===m){if("throw"===a)throw o;return{value:t,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var l=R(s,r);if(l){if(l===_)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var c=h(e,n,r);if("normal"===c.type){if(i=r.done?m:d,c.arg===_)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=m,r.method="throw",r.arg=c.arg)}}}function R(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,R(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),_;var a=h(i,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,_;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,_):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,_)}function M(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(M,this),this.reset(!0)}function B(e){if(e||""===e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(ve(e)+" is not iterable")}return y.prototype=g,i(S,"constructor",{value:g,configurable:!0}),i(g,"constructor",{value:y,configurable:!0}),y.displayName=c(g,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,c(t,l,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},E(A.prototype),c(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new A(u(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},E(S),c(S,l,"Generator"),c(S,o,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=B,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,_):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),_},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),_}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:B(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),_}},e}function ge(t,e,n,r,i,a,o){try{var s=t[a](o),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,i)}function be(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){ge(a,r,i,o,s,"next",t)}function s(t){ge(a,r,i,o,s,"throw",t)}o(void 0)}))}}const we=function(t){var n=t.processedBuffer,r=t.audioBuffer,i=t.fileName,a=t.isExporting,o=t.setIsExporting,s=t.processingParameters,l=t.needsProcessing,c=t.isProcessing,u=g().addNotification,h=function(t){return new Promise((function(e){return setTimeout(e,t)}))},f=function(){var t=be(ye().mark((function t(){var e,r,a;return ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=26;break}return o(!0),u("Exporting MP3...","info"),t.next=5,h(1e3);case 5:return t.prev=5,t.next=8,d(n);case 8:e=t.sent,r=URL.createObjectURL(e),(a=document.createElement("a")).href=r,a.download="".concat(i+" (made with SilkVerb)"||0,".mp3"),document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(r),u("MP3 export successful!","success"),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(5),u("Export failed. Please try again.","error");case 23:return t.prev=23,o(!1),t.finish(23);case 26:case"end":return t.stop()}}),t,null,[[5,20,23,26]])})));return function(){return t.apply(this,arguments)}}(),p=function(){var t=be(ye().mark((function t(){var e,n,a;return ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=26;break}return o(!0),u("Exporting WAV...","info"),t.next=5,h(1e3);case 5:return t.prev=5,t.next=8,_e(r,s.decayTime,s.pitchShift,s.dryGainValue,s.wetGainValue,s.highPassFrequency,s.lowPassFrequency);case 8:e=t.sent,n=URL.createObjectURL(e),(a=document.createElement("a")).href=n,a.download="".concat(i+" (made with SilkVerb)"||0,".wav"),document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(n),u("WAV export successful!","success"),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(5),u("Export failed. Please try again.","error");case 23:return t.prev=23,o(!1),t.finish(23);case 26:case"end":return t.stop()}}),t,null,[[5,20,23,26]])})));return function(){return t.apply(this,arguments)}}();return e().createElement("div",{className:"border-zinc-600 border-2 p-4 rounded-md shadow-xl bg-zinc-200"},e().createElement("h1",{className:"text-xl font-bold mb-2 text-left text-zinc-700 font-arimo"},"Export Audio"),e().createElement("div",{className:"flex justify-start mb-4 italic text-sm tracking-wide"},"Export your processed audio."),!r&&e().createElement(oe,{type:"warning",message:"Upload an audio file to enable exporting options."}),l&&r&&e().createElement(oe,{message:"Apply your changes before exporting to ensure all modifications are included."}),c&&e().createElement(oe,{type:"info",message:"Hang tight! We're processing your audio."}),e().createElement("div",{className:"grid grid-cols-1 gap-2 my-2 md:grid-cols-2 grid-rows-1 justify-center"},e().createElement(re,{onClick:f,disabled:!n||a||l||c,className:"flex justify-center items-center mx-2 min-w-40"},e().createElement("div",{className:"flex justify-center items-center"},e().createElement("span",{className:"material-symbols-outlined"},"download"),e().createElement("span",null,"Export as .mp3"))),e().createElement(re,{onClick:p,disabled:!r||a||l||c,className:"flex justify-center items-center mx-2 min-w-40"},e().createElement("div",{className:"flex justify-center items-center"},e().createElement("span",{className:"material-symbols-outlined"},"download"),e().createElement("span",null,"Export as .wav")))))};var xe=a(1085);const Se=(0,t.createContext)(null);function Ee(e){const n=(0,t.useRef)(null);return null===n.current&&(n.current=e()),n.current}const Ae=(0,t.createContext)({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class Te extends t.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const t=this.props.sizeRef.current;t.height=e.offsetHeight||0,t.width=e.offsetWidth||0,t.top=e.offsetTop,t.left=e.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Re({children:e,isPresent:n}){const r=(0,t.useId)(),i=(0,t.useRef)(null),a=(0,t.useRef)({width:0,height:0,top:0,left:0}),{nonce:o}=(0,t.useContext)(Ae);return(0,t.useInsertionEffect)((()=>{const{width:t,height:e,top:s,left:l}=a.current;if(n||!i.current||!t||!e)return;i.current.dataset.motionPopId=r;const c=document.createElement("style");return o&&(c.nonce=o),document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`\n          [data-motion-pop-id="${r}"] {\n            position: absolute !important;\n            width: ${t}px !important;\n            height: ${e}px !important;\n            top: ${s}px !important;\n            left: ${l}px !important;\n          }\n        `),()=>{document.head.removeChild(c)}}),[n]),(0,xe.jsx)(Te,{isPresent:n,childRef:i,sizeRef:a,children:t.cloneElement(e,{ref:i})})}const Me=({children:e,initial:n,isPresent:r,onExitComplete:i,custom:a,presenceAffectsLayout:o,mode:s})=>{const l=Ee(ke),c=(0,t.useId)(),u=(0,t.useCallback)((t=>{l.set(t,!0);for(const t of l.values())if(!t)return;i&&i()}),[l,i]),h=(0,t.useMemo)((()=>({id:c,initial:n,isPresent:r,custom:a,onExitComplete:u,register:t=>(l.set(t,!1),()=>l.delete(t))})),o?[Math.random(),u]:[r,u]);return(0,t.useMemo)((()=>{l.forEach(((t,e)=>l.set(e,!1)))}),[r]),t.useEffect((()=>{!r&&!l.size&&i&&i()}),[r]),"popLayout"===s&&(e=(0,xe.jsx)(Re,{isPresent:r,children:e})),(0,xe.jsx)(Se.Provider,{value:h,children:e})};function ke(){return new Map}const Pe=(0,t.createContext)({}),Be=t=>t;let Le=Be,Ve=Be;const Oe=t=>t.key||"";function Ne(e){const n=[];return t.Children.forEach(e,(e=>{(0,t.isValidElement)(e)&&n.push(e)})),n}const Ce="undefined"!=typeof window,Ie=Ce?t.useLayoutEffect:t.useEffect,De=({children:e,exitBeforeEnter:n,custom:r,initial:i=!0,onExitComplete:a,presenceAffectsLayout:o=!0,mode:s="sync"})=>{Ve(!n,"Replace exitBeforeEnter with mode='wait'");const l=(0,t.useMemo)((()=>Ne(e)),[e]),c=l.map(Oe),u=(0,t.useRef)(!0),h=(0,t.useRef)(l),f=Ee((()=>new Map)),[d,p]=(0,t.useState)(l),[m,_]=(0,t.useState)(l);Ie((()=>{u.current=!1,h.current=l;for(let t=0;t<m.length;t++){const e=Oe(m[t]);c.includes(e)?f.delete(e):!0!==f.get(e)&&f.set(e,!1)}}),[m,c.length,c.join("-")]);const v=[];if(l!==d){let t=[...l];for(let e=0;e<m.length;e++){const n=m[e],r=Oe(n);c.includes(r)||(t.splice(e,0,n),v.push(n))}return"wait"===s&&v.length&&(t=v),_(Ne(t)),void p(l)}const{forceRender:y}=(0,t.useContext)(Pe);return(0,xe.jsx)(xe.Fragment,{children:m.map((t=>{const e=Oe(t),n=l===m||c.includes(e);return(0,xe.jsx)(Me,{isPresent:n,initial:!(u.current&&!i)&&void 0,custom:n?void 0:r,presenceAffectsLayout:o,mode:s,onExitComplete:n?void 0:()=>{if(!f.has(e))return;f.set(e,!0);let t=!0;f.forEach((e=>{e||(t=!1)})),t&&(null==y||y(),_(h.current),a&&a())},children:t},e)}))})};function je(t){if("undefined"==typeof Proxy)return t;const e=new Map;return new Proxy(((...e)=>t(...e)),{get:(n,r)=>"create"===r?t:(e.has(r)||e.set(r,t(r)),e.get(r))})}function Fe(t){return null!==t&&"object"==typeof t&&"function"==typeof t.start}const He=t=>Array.isArray(t);function qe(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Xe(t){return"string"==typeof t||Array.isArray(t)}function Ye(t){const e=[{},{}];return null==t||t.values.forEach(((t,n)=>{e[0][n]=t.get(),e[1][n]=t.getVelocity()})),e}function Ue(t,e,n,r){if("function"==typeof e){const[i,a]=Ye(r);e=e(void 0!==n?n:t.custom,i,a)}if("string"==typeof e&&(e=t.variants&&t.variants[e]),"function"==typeof e){const[i,a]=Ye(r);e=e(void 0!==n?n:t.custom,i,a)}return e}function Ge(t,e,n){const r=t.getProps();return Ue(r,e,void 0!==n?n:r.custom,t)}const ze=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],We=["initial",...ze],Ke=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ze=new Set(Ke),$e=t=>1e3*t,Qe=t=>t/1e3,Je={type:"spring",stiffness:500,damping:25,restSpeed:10},tn={type:"keyframes",duration:.8},en={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nn=(t,{keyframes:e})=>e.length>2?tn:Ze.has(t)?t.startsWith("scale")?{type:"spring",stiffness:550,damping:0===e[1]?2*Math.sqrt(550):30,restSpeed:10}:Je:en;function rn(t,e){return t?t[e]||t.default||t:void 0}const an=t=>null!==t;function on(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(an),a=e&&"loop"!==n&&e%2==1?0:i.length-1;return a&&void 0!==r?r:i[a]}const sn=["read","resolveKeyframes","update","preRender","render","postRender"];function ln(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=sn.reduce(((t,e)=>(t[e]=function(t){let e=new Set,n=new Set,r=!1,i=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function s(e){a.has(e)&&(l.schedule(e),t()),e(o)}const l={schedule:(t,i=!1,o=!1)=>{const s=o&&r?e:n;return i&&a.add(t),s.has(t)||s.add(t),t},cancel:t=>{n.delete(t),a.delete(t)},process:t=>{o=t,r?i=!0:(r=!0,[e,n]=[n,e],e.forEach(s),e.clear(),r=!1,i&&(i=!1,l.process(t)))}};return l}(a),t)),{}),{read:s,resolveKeyframes:l,update:c,preRender:u,render:h,postRender:f}=o,d=()=>{const a=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(a-i.timestamp,40),1),i.timestamp=a,i.isProcessing=!0,s.process(i),l.process(i),c.process(i),u.process(i),h.process(i),f.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(d))};return{schedule:sn.reduce(((e,a)=>{const s=o[a];return e[a]=(e,a=!1,o=!1)=>(n||(n=!0,r=!0,i.isProcessing||t(d)),s.schedule(e,a,o)),e}),{}),cancel:t=>{for(let e=0;e<sn.length;e++)o[sn[e]].cancel(t)},state:i,steps:o}}const{schedule:cn,cancel:un,state:hn,steps:fn}=ln("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:Be,!0),dn=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t;function pn(t,e,n,r){if(t===e&&n===r)return Be;return i=>0===i||1===i?i:dn(function(t,e,n,r,i){let a,o,s=0;do{o=e+(n-e)/2,a=dn(o,r,i)-t,a>0?n=o:e=o}while(Math.abs(a)>1e-7&&++s<12);return o}(i,0,1,t,n),e,r)}const mn=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,_n=t=>e=>1-t(1-e),vn=pn(.33,1.53,.69,.99),yn=_n(vn),gn=mn(yn),bn=t=>(t*=2)<1?.5*yn(t):.5*(2-Math.pow(2,-10*(t-1))),wn=t=>1-Math.sin(Math.acos(t)),xn=_n(wn),Sn=mn(wn),En=t=>/^0[^.\s]+$/u.test(t),An=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Tn=t=>e=>"string"==typeof e&&e.startsWith(t),Rn=Tn("--"),Mn=Tn("var(--"),kn=t=>!!Mn(t)&&Pn.test(t.split("/*")[0].trim()),Pn=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Bn=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Ln(t,e,n=1){Ve(n<=4,`Max CSS variable fallback depth detected in property "${t}". This may indicate a circular fallback dependency.`);const[r,i]=function(t){const e=Bn.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${null!=n?n:r}`,i]}(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const t=a.trim();return An(t)?parseFloat(t):t}return kn(i)?Ln(i,e,n+1):i}const Vn=(t,e,n)=>n>e?e:n<t?t:n,On={test:t=>"number"==typeof t,parse:parseFloat,transform:t=>t},Nn={...On,transform:t=>Vn(0,1,t)},Cn={...On,default:1},In=t=>({test:e=>"string"==typeof e&&e.endsWith(t)&&1===e.split(" ").length,parse:parseFloat,transform:e=>`${e}${t}`}),Dn=In("deg"),jn=In("%"),Fn=In("px"),Hn=In("vh"),qn=In("vw"),Xn={...jn,parse:t=>jn.parse(t)/100,transform:t=>jn.transform(100*t)},Yn=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Un=t=>t===On||t===Fn,Gn=(t,e)=>parseFloat(t.split(", ")[e]),zn=(t,e)=>(n,{transform:r})=>{if("none"===r||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return Gn(i[1],e);{const e=r.match(/^matrix\((.+)\)$/u);return e?Gn(e[1],t):0}},Wn=new Set(["x","y","z"]),Kn=Ke.filter((t=>!Wn.has(t))),Zn={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:zn(4,13),y:zn(5,14)};Zn.translateX=Zn.x,Zn.translateY=Zn.y;const $n=t=>e=>e.test(t),Qn=[On,Fn,jn,Dn,qn,Hn,{test:t=>"auto"===t,parse:t=>t}],Jn=t=>Qn.find($n(t)),tr=new Set;let er=!1,nr=!1;function rr(){if(nr){const t=Array.from(tr).filter((t=>t.needsMeasurement)),e=new Set(t.map((t=>t.element))),n=new Map;e.forEach((t=>{const e=function(t){const e=[];return Kn.forEach((n=>{const r=t.getValue(n);void 0!==r&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),e}(t);e.length&&(n.set(t,e),t.render())})),t.forEach((t=>t.measureInitialState())),e.forEach((t=>{t.render();const e=n.get(t);e&&e.forEach((([e,n])=>{var r;null===(r=t.getValue(e))||void 0===r||r.set(n)}))})),t.forEach((t=>t.measureEndState())),t.forEach((t=>{void 0!==t.suspendedScrollY&&window.scrollTo(0,t.suspendedScrollY)}))}nr=!1,er=!1,tr.forEach((t=>t.complete())),tr.clear()}function ir(){tr.forEach((t=>{t.readKeyframes(),t.needsMeasurement&&(nr=!0)}))}class ar{constructor(t,e,n,r,i,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=n,this.motionValue=r,this.element=i,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(tr.add(this),er||(er=!0,cn.read(ir),cn.resolveKeyframes(rr))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:n,motionValue:r}=this;for(let i=0;i<t.length;i++)if(null===t[i])if(0===i){const i=null==r?void 0:r.get(),a=t[t.length-1];if(void 0!==i)t[0]=i;else if(n&&e){const r=n.readValue(e,a);null!=r&&(t[0]=r)}void 0===t[0]&&(t[0]=a),r&&void 0===i&&r.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),tr.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,tr.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const or=t=>Math.round(1e5*t)/1e5,sr=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,lr=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,cr=(t,e)=>n=>Boolean("string"==typeof n&&lr.test(n)&&n.startsWith(t)||e&&!function(t){return null==t}(n)&&Object.prototype.hasOwnProperty.call(n,e)),ur=(t,e,n)=>r=>{if("string"!=typeof r)return r;const[i,a,o,s]=r.match(sr);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(o),alpha:void 0!==s?parseFloat(s):1}},hr={...On,transform:t=>Math.round((t=>Vn(0,255,t))(t))},fr={test:cr("rgb","red"),parse:ur("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+hr.transform(t)+", "+hr.transform(e)+", "+hr.transform(n)+", "+or(Nn.transform(r))+")"},dr={test:cr("#"),parse:function(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:fr.transform},pr={test:cr("hsl","hue"),parse:ur("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+jn.transform(or(e))+", "+jn.transform(or(n))+", "+or(Nn.transform(r))+")"},mr={test:t=>fr.test(t)||dr.test(t)||pr.test(t),parse:t=>fr.test(t)?fr.parse(t):pr.test(t)?pr.parse(t):dr.parse(t),transform:t=>"string"==typeof t?t:t.hasOwnProperty("red")?fr.transform(t):pr.transform(t)},_r=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,vr="number",yr="color",gr=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function br(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const o=e.replace(gr,(t=>(mr.test(t)?(r.color.push(a),i.push(yr),n.push(mr.parse(t))):t.startsWith("var(")?(r.var.push(a),i.push("var"),n.push(t)):(r.number.push(a),i.push(vr),n.push(parseFloat(t))),++a,"${}"))).split("${}");return{values:n,split:o,indexes:r,types:i}}function wr(t){return br(t).values}function xr(t){const{split:e,types:n}=br(t),r=e.length;return t=>{let i="";for(let a=0;a<r;a++)if(i+=e[a],void 0!==t[a]){const e=n[a];i+=e===vr?or(t[a]):e===yr?mr.transform(t[a]):t[a]}return i}}const Sr=t=>"number"==typeof t?0:t,Er={test:function(t){var e,n;return isNaN(t)&&"string"==typeof t&&((null===(e=t.match(sr))||void 0===e?void 0:e.length)||0)+((null===(n=t.match(_r))||void 0===n?void 0:n.length)||0)>0},parse:wr,createTransformer:xr,getAnimatableNone:function(t){const e=wr(t);return xr(t)(e.map(Sr))}},Ar=new Set(["brightness","contrast","saturate","opacity"]);function Tr(t){const[e,n]=t.slice(0,-1).split("(");if("drop-shadow"===e)return t;const[r]=n.match(sr)||[];if(!r)return t;const i=n.replace(r,"");let a=Ar.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const Rr=/\b([a-z-]*)\(.*?\)/gu,Mr={...Er,getAnimatableNone:t=>{const e=t.match(Rr);return e?e.map(Tr).join(" "):t}},kr={borderWidth:Fn,borderTopWidth:Fn,borderRightWidth:Fn,borderBottomWidth:Fn,borderLeftWidth:Fn,borderRadius:Fn,radius:Fn,borderTopLeftRadius:Fn,borderTopRightRadius:Fn,borderBottomRightRadius:Fn,borderBottomLeftRadius:Fn,width:Fn,maxWidth:Fn,height:Fn,maxHeight:Fn,top:Fn,right:Fn,bottom:Fn,left:Fn,padding:Fn,paddingTop:Fn,paddingRight:Fn,paddingBottom:Fn,paddingLeft:Fn,margin:Fn,marginTop:Fn,marginRight:Fn,marginBottom:Fn,marginLeft:Fn,backgroundPositionX:Fn,backgroundPositionY:Fn},Pr={rotate:Dn,rotateX:Dn,rotateY:Dn,rotateZ:Dn,scale:Cn,scaleX:Cn,scaleY:Cn,scaleZ:Cn,skew:Dn,skewX:Dn,skewY:Dn,distance:Fn,translateX:Fn,translateY:Fn,translateZ:Fn,x:Fn,y:Fn,z:Fn,perspective:Fn,transformPerspective:Fn,opacity:Nn,originX:Xn,originY:Xn,originZ:Fn},Br={...On,transform:Math.round},Lr={...kr,...Pr,zIndex:Br,size:Fn,fillOpacity:Nn,strokeOpacity:Nn,numOctaves:Br},Vr={...Lr,color:mr,backgroundColor:mr,outlineColor:mr,fill:mr,stroke:mr,borderColor:mr,borderTopColor:mr,borderRightColor:mr,borderBottomColor:mr,borderLeftColor:mr,filter:Mr,WebkitFilter:Mr},Or=t=>Vr[t];function Nr(t,e){let n=Or(t);return n!==Mr&&(n=Er),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Cr=new Set(["auto","none","0"]);class Ir extends ar{constructor(t,e,n,r,i){super(t,e,n,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:n}=this;if(!e||!e.current)return;super.readKeyframes();for(let n=0;n<t.length;n++){let r=t[n];if("string"==typeof r&&(r=r.trim(),kn(r))){const i=Ln(r,e.current);void 0!==i&&(t[n]=i),n===t.length-1&&(this.finalKeyframe=r)}}if(this.resolveNoneKeyframes(),!Yn.has(n)||2!==t.length)return;const[r,i]=t,a=Jn(r),o=Jn(i);if(a!==o)if(Un(a)&&Un(o))for(let e=0;e<t.length;e++){const n=t[e];"string"==typeof n&&(t[e]=parseFloat(n))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,n=[];for(let e=0;e<t.length;e++)("number"==typeof(r=t[e])?0===r:null===r||"none"===r||"0"===r||En(r))&&n.push(e);var r;n.length&&function(t,e,n){let r,i=0;for(;i<t.length&&!r;){const e=t[i];"string"==typeof e&&!Cr.has(e)&&br(e).values.length&&(r=t[i]),i++}if(r&&n)for(const i of e)t[i]=Nr(n,r)}(t,n,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:n}=this;if(!t||!t.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Zn[n](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const r=e[e.length-1];void 0!==r&&t.getValue(n,r).jump(r,!1)}measureEndState(){var t;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,o=r[a];r[a]=Zn[n](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==o&&void 0===this.finalKeyframe&&(this.finalKeyframe=o),(null===(t=this.removedTransforms)||void 0===t?void 0:t.length)&&this.removedTransforms.forEach((([t,n])=>{e.getValue(t).set(n)})),this.resolveNoneKeyframes()}}function Dr(t){return"function"==typeof t}let jr;function Fr(){jr=void 0}const Hr={now:()=>(void 0===jr&&Hr.set(hn.isProcessing?hn.timestamp:performance.now()),jr),set:t=>{jr=t,queueMicrotask(Fr)}},qr=(t,e)=>!("zIndex"===e||"number"!=typeof t&&!Array.isArray(t)&&("string"!=typeof t||!Er.test(t)&&"0"!==t||t.startsWith("url(")));function Xr(t,e,n,r){const i=t[0];if(null===i)return!1;if("display"===e||"visibility"===e)return!0;const a=t[t.length-1],o=qr(i,e),s=qr(a,e);return Le(o===s,`You are trying to animate ${e} from "${i}" to "${a}". ${i} is not an animatable value - to enable this animation set ${i} to a value animatable to ${a} via the \`style\` property.`),!(!o||!s)&&(function(t){const e=t[0];if(1===t.length)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}(t)||("spring"===n||Dr(n))&&r)}class Yr{constructor({autoplay:t=!0,delay:e=0,type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Hr.now(),this.options={autoplay:t,delay:e,type:n,repeat:r,repeatDelay:i,repeatType:a,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(ir(),rr()),this._resolved}onKeyframesResolved(t,e){this.resolvedAt=Hr.now(),this.hasAttemptedResolve=!0;const{name:n,type:r,velocity:i,delay:a,onComplete:o,onUpdate:s,isGenerator:l}=this.options;if(!l&&!Xr(t,n,r,i)){if(!a)return null==s||s(on(t,this.options,e)),null==o||o(),void this.resolveFinishedPromise();this.options.duration=0}const c=this.initPlayback(t,e);!1!==c&&(this._resolved={keyframes:t,finalKeyframe:e,...c},this.onPostResolved())}onPostResolved(){}then(t,e){return this.currentFinishedPromise.then(t,e)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise((t=>{this.resolveFinishedPromise=t}))}}const Ur=(t,e,n)=>{const r=e-t;return 0===r?1:(n-t)/r},Gr=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let e=0;e<i;e++)r+=t(Ur(0,i-1,e))+", ";return`linear(${r.substring(0,r.length-2)})`};function zr(t,e){return e?t*(1e3/e):0}function Wr(t,e,n){const r=Math.max(e-5,0);return zr(n-t(r),e-r)}const Kr=.01,Zr=2,$r=.005,Qr=.5;const Jr=12;function ti(t,e){return t*Math.sqrt(1-e*e)}const ei=2e4;function ni(t){let e=0,n=t.next(e);for(;!n.done&&e<ei;)e+=50,n=t.next(e);return e>=ei?1/0:e}const ri=["duration","bounce"],ii=["stiffness","damping","mass"];function ai(t,e){return e.some((e=>void 0!==t[e]))}function oi(t=.3,e=.3){const n="object"!=typeof t?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],s={done:!1,value:a},{stiffness:l,damping:c,mass:u,duration:h,velocity:f,isResolvedFromDuration:d}=function(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!ai(t,ii)&&ai(t,ri))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(1.2*n),i=r*r,a=2*Vn(.05,1,1-t.bounce)*Math.sqrt(i);e={...e,mass:1,stiffness:i,damping:a}}else{const n=function({duration:t=800,bounce:e=.3,velocity:n=0,mass:r=1}){let i,a;Le(t<=$e(10),"Spring duration must be 10 seconds or less");let o=1-e;o=Vn(.05,1,o),t=Vn(.01,10,Qe(t)),o<1?(i=e=>{const r=e*o,i=r*t;return.001-(r-n)/ti(e,o)*Math.exp(-i)},a=e=>{const r=e*o*t,a=r*n+n,s=Math.pow(o,2)*Math.pow(e,2)*t,l=Math.exp(-r),c=ti(Math.pow(e,2),o);return(.001-i(e)>0?-1:1)*((a-s)*l)/c}):(i=e=>Math.exp(-e*t)*((e-n)*t+1)-.001,a=e=>Math.exp(-e*t)*(t*t*(n-e)));const s=function(t,e,n){let r=n;for(let n=1;n<Jr;n++)r-=t(r)/e(r);return r}(i,a,5/t);if(t=$e(t),isNaN(s))return{stiffness:100,damping:10,duration:t};{const e=Math.pow(s,2)*r;return{stiffness:e,damping:2*o*Math.sqrt(r*e),duration:t}}}(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}({...n,velocity:-Qe(n.velocity||0)}),p=f||0,m=c/(2*Math.sqrt(l*u)),_=o-a,v=Qe(Math.sqrt(l/u)),y=Math.abs(_)<5;let g;if(r||(r=y?Kr:Zr),i||(i=y?$r:Qr),m<1){const t=ti(v,m);g=e=>{const n=Math.exp(-m*v*e);return o-n*((p+m*v*_)/t*Math.sin(t*e)+_*Math.cos(t*e))}}else if(1===m)g=t=>o-Math.exp(-v*t)*(_+(p+v*_)*t);else{const t=v*Math.sqrt(m*m-1);g=e=>{const n=Math.exp(-m*v*e),r=Math.min(t*e,300);return o-n*((p+m*v*_)*Math.sinh(r)+t*_*Math.cosh(r))/t}}const b={calculatedDuration:d&&h||null,next:t=>{const e=g(t);if(d)s.done=t>=h;else{let n=0;m<1&&(n=0===t?$e(p):Wr(g,t,e));const a=Math.abs(n)<=r,l=Math.abs(o-e)<=i;s.done=a&&l}return s.value=s.done?o:e,s},toString:()=>{const t=Math.min(ni(b),ei),e=Gr((e=>b.next(t*e).value),t,30);return t+"ms "+e}};return b}function si({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:s,max:l,restDelta:c=.5,restSpeed:u}){const h=t[0],f={done:!1,value:h},d=t=>void 0===s?l:void 0===l||Math.abs(s-t)<Math.abs(l-t)?s:l;let p=n*e;const m=h+p,_=void 0===o?m:o(m);_!==m&&(p=_-h);const v=t=>-p*Math.exp(-t/r),y=t=>_+v(t),g=t=>{const e=v(t),n=y(t);f.done=Math.abs(e)<=c,f.value=f.done?_:n};let b,w;const x=t=>{var e;e=f.value,(void 0!==s&&e<s||void 0!==l&&e>l)&&(b=t,w=oi({keyframes:[f.value,d(f.value)],velocity:Wr(y,t,f.value),damping:i,stiffness:a,restDelta:c,restSpeed:u}))};return x(0),{calculatedDuration:null,next:t=>{let e=!1;return w||void 0!==b||(e=!0,g(t),x(t)),void 0!==b&&t>=b?w.next(t-b):(!e&&g(t),f)}}}const li=pn(.42,0,1,1),ci=pn(0,0,.58,1),ui=pn(.42,0,.58,1),hi=t=>Array.isArray(t)&&"number"==typeof t[0],fi={linear:Be,easeIn:li,easeInOut:ui,easeOut:ci,circIn:wn,circInOut:Sn,circOut:xn,backIn:yn,backInOut:gn,backOut:vn,anticipate:bn},di=t=>{if(hi(t)){Ve(4===t.length,"Cubic bezier arrays must contain four numerical values.");const[e,n,r,i]=t;return pn(e,n,r,i)}return"string"==typeof t?(Ve(void 0!==fi[t],`Invalid easing type '${t}'`),fi[t]):t},pi=(t,e)=>n=>e(t(n)),mi=(...t)=>t.reduce(pi),_i=(t,e,n)=>t+(e-t)*n;function vi(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function yi(t,e){return n=>n>0?e:t}const gi=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},bi=[dr,fr,pr];function wi(t){const e=(n=t,bi.find((t=>t.test(n))));var n;if(Le(Boolean(e),`'${t}' is not an animatable color. Use the equivalent color code instead.`),!Boolean(e))return!1;let r=e.parse(t);return e===pr&&(r=function({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,n/=100;let i=0,a=0,o=0;if(e/=100){const r=n<.5?n*(1+e):n+e-n*e,s=2*n-r;i=vi(s,r,t+1/3),a=vi(s,r,t),o=vi(s,r,t-1/3)}else i=a=o=n;return{red:Math.round(255*i),green:Math.round(255*a),blue:Math.round(255*o),alpha:r}}(r)),r}const xi=(t,e)=>{const n=wi(t),r=wi(e);if(!n||!r)return yi(t,e);const i={...n};return t=>(i.red=gi(n.red,r.red,t),i.green=gi(n.green,r.green,t),i.blue=gi(n.blue,r.blue,t),i.alpha=_i(n.alpha,r.alpha,t),fr.transform(i))},Si=new Set(["none","hidden"]);function Ei(t,e){return n=>_i(t,e,n)}function Ai(t){return"number"==typeof t?Ei:"string"==typeof t?kn(t)?yi:mr.test(t)?xi:Mi:Array.isArray(t)?Ti:"object"==typeof t?mr.test(t)?xi:Ri:yi}function Ti(t,e){const n=[...t],r=n.length,i=t.map(((t,n)=>Ai(t)(t,e[n])));return t=>{for(let e=0;e<r;e++)n[e]=i[e](t);return n}}function Ri(t,e){const n={...t,...e},r={};for(const i in n)void 0!==t[i]&&void 0!==e[i]&&(r[i]=Ai(t[i])(t[i],e[i]));return t=>{for(const e in r)n[e]=r[e](t);return n}}const Mi=(t,e)=>{const n=Er.createTransformer(e),r=br(t),i=br(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Si.has(t)&&!i.values.length||Si.has(e)&&!r.values.length?function(t,e){return Si.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}(t,e):mi(Ti(function(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const o=e.types[a],s=t.indexes[o][i[o]],l=null!==(n=t.values[s])&&void 0!==n?n:0;r[a]=l,i[o]++}return r}(r,i),i.values),n):(Le(!0,`Complex values '${t}' and '${e}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),yi(t,e))};function ki(t,e,n){return"number"==typeof t&&"number"==typeof e&&"number"==typeof n?_i(t,e,n):Ai(t)(t,e)}function Pi({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=(t=>Array.isArray(t)&&"number"!=typeof t[0])(r)?r.map(di):di(r),a={done:!1,value:e[0]},o=function(t,e){return t.map((t=>t*e))}(n&&n.length===e.length?n:function(t){const e=[0];return function(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Ur(0,e,r);t.push(_i(n,1,i))}}(e,t.length-1),e}(e),t),s=function(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(Ve(a===e.length,"Both input and output ranges must be the same length"),1===a)return()=>e[0];if(2===a&&t[0]===t[1])return()=>e[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=function(t,e,n){const r=[],i=n||ki,a=t.length-1;for(let n=0;n<a;n++){let a=i(t[n],t[n+1]);if(e){const t=Array.isArray(e)?e[n]||Be:e;a=mi(t,a)}r.push(a)}return r}(e,r,i),s=o.length,l=e=>{let n=0;if(s>1)for(;n<t.length-2&&!(e<t[n+1]);n++);const r=Ur(t[n],t[n+1],e);return o[n](r)};return n?e=>l(Vn(t[0],t[a-1],e)):l}(o,e,{ease:Array.isArray(i)?i:(l=e,c=i,l.map((()=>c||ui)).splice(0,l.length-1))});var l,c;return{calculatedDuration:t,next:e=>(a.value=s(e),a.done=e>=t,a)}}const Bi=t=>{const e=({timestamp:e})=>t(e);return{start:()=>cn.update(e,!0),stop:()=>un(e),now:()=>hn.isProcessing?hn.timestamp:Hr.now()}},Li={decay:si,inertia:si,tween:Pi,keyframes:Pi,spring:oi},Vi=t=>t/100;class Oi extends Yr{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();const{onStop:t}=this.options;t&&t()};const{name:e,motionValue:n,element:r,keyframes:i}=this.options,a=(null==r?void 0:r.KeyframeResolver)||ar;this.resolver=new a(i,((t,e)=>this.onKeyframesResolved(t,e)),e,n,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:e="keyframes",repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:a=0}=this.options,o=Dr(e)?e:Li[e]||Pi;let s,l;o!==Pi&&"number"!=typeof t[0]&&(s=mi(Vi,ki(t[0],t[1])),t=[0,100]);const c=o({...this.options,keyframes:t});"mirror"===i&&(l=o({...this.options,keyframes:[...t].reverse(),velocity:-a})),null===c.calculatedDuration&&(c.calculatedDuration=ni(c));const{calculatedDuration:u}=c,h=u+r;return{generator:c,mirroredGenerator:l,mapPercentToKeyframes:s,calculatedDuration:u,resolvedDuration:h,totalDuration:h*(n+1)-r}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),"paused"!==this.pendingPlayState&&t?this.state=this.pendingPlayState:this.pause()}tick(t,e=!1){const{resolved:n}=this;if(!n){const{keyframes:t}=this.options;return{done:!0,value:t[t.length-1]}}const{finalKeyframe:r,generator:i,mirroredGenerator:a,mapPercentToKeyframes:o,keyframes:s,calculatedDuration:l,totalDuration:c,resolvedDuration:u}=n;if(null===this.startTime)return i.next(0);const{delay:h,repeat:f,repeatType:d,repeatDelay:p,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-c/this.speed,this.startTime)),e?this.currentTime=t:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const _=this.currentTime-h*(this.speed>=0?1:-1),v=this.speed>=0?_<0:_>c;this.currentTime=Math.max(_,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=c);let y=this.currentTime,g=i;if(f){const t=Math.min(this.currentTime,c)/u;let e=Math.floor(t),n=t%1;!n&&t>=1&&(n=1),1===n&&e--,e=Math.min(e,f+1),Boolean(e%2)&&("reverse"===d?(n=1-n,p&&(n-=p/u)):"mirror"===d&&(g=a)),y=Vn(0,1,n)*u}const b=v?{done:!1,value:s[0]}:g.next(y);o&&(b.value=o(b.value));let{done:w}=b;v||null===l||(w=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const x=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return x&&void 0!==r&&(b.value=on(s,this.options,r)),m&&m(b.value),x&&this.finish(),b}get duration(){const{resolved:t}=this;return t?Qe(t.calculatedDuration):0}get time(){return Qe(this.currentTime)}set time(t){t=$e(t),this.currentTime=t,null!==this.holdTime||0===this.speed?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=Qe(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved)return void(this.pendingPlayState="running");if(this.isStopped)return;const{driver:t=Bi,onPlay:e,startTime:n}=this.options;this.driver||(this.driver=t((t=>this.tick(t)))),e&&e();const r=this.driver.now();null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=r):this.startTime=null!=n?n:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;this._resolved?(this.state="paused",this.holdTime=null!==(t=this.currentTime)&&void 0!==t?t:0):this.pendingPlayState="paused"}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const Ni=new Set(["opacity","clipPath","filter","transform"]);function Ci(t){let e;return()=>(void 0===e&&(e=t()),e)}const Ii={linearEasing:void 0};function Di(t,e){const n=Ci(t);return()=>{var t;return null!==(t=Ii[e])&&void 0!==t?t:n()}}const ji=Di((()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(t){return!1}return!0}),"linearEasing");function Fi(t){return Boolean("function"==typeof t&&ji()||!t||"string"==typeof t&&(t in qi||ji())||hi(t)||Array.isArray(t)&&t.every(Fi))}const Hi=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,qi={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Hi([0,.65,.55,1]),circOut:Hi([.55,0,1,.45]),backIn:Hi([.31,.01,.66,-.59]),backOut:Hi([.33,1.53,.69,.99])};function Xi(t,e){return t?"function"==typeof t&&ji()?Gr(t,e):hi(t)?Hi(t):Array.isArray(t)?t.map((t=>Xi(t,e)||qi.easeOut)):qi[t]:void 0}function Yi(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:s="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=Xi(s,i);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:a+1,direction:"reverse"===o?"alternate":"normal"})}function Ui(t,e){t.timeline=e,t.onfinish=null}const Gi=Ci((()=>Object.hasOwnProperty.call(Element.prototype,"animate"))),zi={anticipate:bn,backInOut:gn,circInOut:Sn};class Wi extends Yr{constructor(t){super(t);const{name:e,motionValue:n,element:r,keyframes:i}=this.options;this.resolver=new Ir(i,((t,e)=>this.onKeyframesResolved(t,e)),e,n,r),this.resolver.scheduleResolve()}initPlayback(t,e){var n;let{duration:r=300,times:i,ease:a,type:o,motionValue:s,name:l,startTime:c}=this.options;if(!(null===(n=s.owner)||void 0===n?void 0:n.current))return!1;var u;if("string"==typeof a&&ji()&&a in zi&&(a=zi[a]),Dr((u=this.options).type)||"spring"===u.type||!Fi(u.ease)){const{onComplete:e,onUpdate:n,motionValue:s,element:l,...c}=this.options,u=function(t,e){const n=new Oi({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let a=0;for(;!r.done&&a<2e4;)r=n.sample(a),i.push(r.value),a+=10;return{times:void 0,keyframes:i,duration:a-10,ease:"linear"}}(t,c);1===(t=u.keyframes).length&&(t[1]=t[0]),r=u.duration,i=u.times,a=u.ease,o="keyframes"}const h=Yi(s.owner.current,l,t,{...this.options,duration:r,times:i,ease:a});return h.startTime=null!=c?c:this.calcStartTime(),this.pendingTimeline?(Ui(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:n}=this.options;s.set(on(t,this.options,e)),n&&n(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:r,times:i,type:o,ease:a,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:e}=t;return Qe(e)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:e}=t;return Qe(e.currentTime||0)}set time(t){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.currentTime=$e(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:e}=t;return e.playbackRate}set speed(t){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:e}=t;return e.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:e}=t;return e.startTime}attachTimeline(t){if(this._resolved){const{resolved:e}=this;if(!e)return Be;const{animation:n}=e;Ui(n,t)}else this.pendingTimeline=t;return Be}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:e}=t;"finished"===e.playState&&this.updateFinishedPromise(),e.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:e}=t;e.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:e,keyframes:n,duration:r,type:i,ease:a,times:o}=t;if("idle"===e.playState||"finished"===e.playState)return;if(this.time){const{motionValue:t,onUpdate:e,onComplete:s,element:l,...c}=this.options,u=new Oi({...c,keyframes:n,duration:r,type:i,ease:a,times:o,isGenerator:!0}),h=$e(this.time);t.setWithVelocity(u.sample(h-10).value,u.sample(h).value,10)}const{onStop:s}=this.options;s&&s(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:a,type:o}=t;return Gi()&&n&&Ni.has(n)&&e&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate&&!r&&"mirror"!==i&&0!==a&&"inertia"!==o}}const Ki=Ci((()=>void 0!==window.ScrollTimeline));class Zi{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,e){return Promise.all(this.animations).then(t).catch(e)}getAll(t){return this.animations[0][t]}setAll(t,e){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=e}attachTimeline(t,e){const n=this.animations.map((n=>Ki()&&n.attachTimeline?n.attachTimeline(t):e(n)));return()=>{n.forEach(((t,e)=>{t&&t(),this.animations[e].stop()}))}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let e=0;e<this.animations.length;e++)t=Math.max(t,this.animations[e].duration);return t}runAll(t){this.animations.forEach((e=>e[t]()))}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const $i=(t,e,n,r={},i,a)=>o=>{const s=rn(r,t)||{},l=s.delay||r.delay||0;let{elapsed:c=0}=r;c-=$e(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...s,delay:-c,onUpdate:t=>{e.set(t),s.onUpdate&&s.onUpdate(t)},onComplete:()=>{o(),s.onComplete&&s.onComplete()},name:t,motionValue:e,element:a?void 0:i};(function({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:s,from:l,elapsed:c,...u}){return!!Object.keys(u).length})(s)||(u={...u,...nn(t,u)}),u.duration&&(u.duration=$e(u.duration)),u.repeatDelay&&(u.repeatDelay=$e(u.repeatDelay)),void 0!==u.from&&(u.keyframes[0]=u.from);let h=!1;if((!1===u.type||0===u.duration&&!u.repeatDelay)&&(u.duration=0,0===u.delay&&(h=!0)),h&&!a&&void 0!==e.get()){const t=on(u.keyframes,s);if(void 0!==t)return cn.update((()=>{u.onUpdate(t),u.onComplete()})),new Zi([])}return!a&&Wi.supports(u)?new Wi(u):new Oi(u)};function Qi(t,e){-1===t.indexOf(e)&&t.push(e)}function Ji(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class ta{constructor(){this.subscriptions=[]}add(t){return Qi(this.subscriptions,t),()=>Ji(this.subscriptions,t)}notify(t,e,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](t,e,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(t,e,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ea={current:void 0};class na{constructor(t,e={}){this.version="11.15.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(t,e=!0)=>{const n=Hr.now();this.updatedAt!==n&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(t),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),e&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){var e;this.current=t,this.updatedAt=Hr.now(),null===this.canTrackVelocity&&void 0!==t&&(this.canTrackVelocity=(e=this.current,!isNaN(parseFloat(e))))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new ta);const n=this.events[t].add(e);return"change"===t?()=>{n(),cn.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t,e=!0){e&&this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t,e)}setWithVelocity(t,e,n){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return ea.current&&ea.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Hr.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||t-this.updatedAt>30)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,30);return zr(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise((e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ra(t,e){return new na(t,e)}function ia(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ra(n))}const aa=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),oa="data-"+aa("framerAppearId");function sa(t){return t.props[oa]}const la=t=>Boolean(t&&t.getVelocity);function ca(t,e){const n=t.getValue("willChange");if(r=n,Boolean(la(r)&&r.add))return n.add(e);var r}function ua({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&!0!==e[n];return e[n]=!1,r}function ha(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var a;let{transition:o=t.getDefaultTransition(),transitionEnd:s,...l}=e;r&&(o=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const e in l){const r=t.getValue(e,null!==(a=t.latestValues[e])&&void 0!==a?a:null),i=l[e];if(void 0===i||u&&ua(u,e))continue;const s={delay:n,...rn(o||{},e)};let h=!1;if(window.MotionHandoffAnimation){const n=sa(t);if(n){const t=window.MotionHandoffAnimation(n,e,cn);null!==t&&(s.startTime=t,h=!0)}}ca(t,e),r.start($i(e,r,i,t.shouldReduceMotion&&Ze.has(e)?{type:!1}:s,t,h));const f=r.animation;f&&c.push(f)}return s&&Promise.all(c).then((()=>{cn.update((()=>{s&&function(t,e){const n=Ge(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const e in a)ia(t,e,(o=a[e],He(o)?o[o.length-1]||0:o));var o}(t,s)}))})),c}function fa(t,e,n={}){var r;const i=Ge(t,e,"exit"===n.type?null===(r=t.presenceContext)||void 0===r?void 0:r.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const o=i?()=>Promise.all(ha(t,i,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(r=0)=>{const{delayChildren:i=0,staggerChildren:o,staggerDirection:s}=a;return function(t,e,n=0,r=0,i=1,a){const o=[],s=(t.variantChildren.size-1)*r,l=1===i?(t=0)=>t*r:(t=0)=>s-t*r;return Array.from(t.variantChildren).sort(da).forEach(((t,r)=>{t.notify("AnimationStart",e),o.push(fa(t,e,{...a,delay:n+l(r)}).then((()=>t.notify("AnimationComplete",e))))})),Promise.all(o)}(t,e,i+r,o,s,n)}:()=>Promise.resolve(),{when:l}=a;if(l){const[t,e]="beforeChildren"===l?[o,s]:[s,o];return t().then((()=>e()))}return Promise.all([o(),s(n.delay)])}function da(t,e){return t.sortNodePosition(e)}const pa=We.length;function ma(t){if(!t)return;if(!t.isControllingVariants){const e=t.parent&&ma(t.parent)||{};return void 0!==t.props.initial&&(e.initial=t.props.initial),e}const e={};for(let n=0;n<pa;n++){const r=We[n],i=t.props[r];(Xe(i)||!1===i)&&(e[r]=i)}return e}const _a=[...ze].reverse(),va=ze.length;function ya(t){let e=function(t){return e=>Promise.all(e.map((({animation:e,options:n})=>function(t,e,n={}){let r;if(t.notify("AnimationStart",e),Array.isArray(e)){const i=e.map((e=>fa(t,e,n)));r=Promise.all(i)}else if("string"==typeof e)r=fa(t,e,n);else{const i="function"==typeof e?Ge(t,e,n.custom):e;r=Promise.all(ha(t,i,n))}return r.then((()=>{t.notify("AnimationComplete",e)}))}(t,e,n))))}(t),n=ba(),r=!0;const i=e=>(n,r)=>{var i;const a=Ge(t,r,"exit"===e?null===(i=t.presenceContext)||void 0===i?void 0:i.custom:void 0);if(a){const{transition:t,transitionEnd:e,...r}=a;n={...n,...r,...e}}return n};function a(a){const{props:o}=t,s=ma(t.parent)||{},l=[],c=new Set;let u={},h=1/0;for(let e=0;e<va;e++){const p=_a[e],m=n[p],_=void 0!==o[p]?o[p]:s[p],v=Xe(_),y=p===a?m.isActive:null;!1===y&&(h=e);let g=_===s[p]&&_!==o[p]&&v;if(g&&r&&t.manuallyAnimateOnMount&&(g=!1),m.protectedKeys={...u},!m.isActive&&null===y||!_&&!m.prevProp||Fe(_)||"boolean"==typeof _)continue;const b=(f=m.prevProp,"string"==typeof(d=_)?d!==f:!!Array.isArray(d)&&!qe(d,f));let w=b||p===a&&m.isActive&&!g&&v||e>h&&v,x=!1;const S=Array.isArray(_)?_:[_];let E=S.reduce(i(p),{});!1===y&&(E={});const{prevResolvedValues:A={}}=m,T={...A,...E},R=e=>{w=!0,c.has(e)&&(x=!0,c.delete(e)),m.needsAnimating[e]=!0;const n=t.getValue(e);n&&(n.liveStyle=!1)};for(const t in T){const e=E[t],n=A[t];if(u.hasOwnProperty(t))continue;let r=!1;r=He(e)&&He(n)?!qe(e,n):e!==n,r?null!=e?R(t):c.add(t):void 0!==e&&c.has(t)?R(t):m.protectedKeys[t]=!0}m.prevProp=_,m.prevResolvedValues=E,m.isActive&&(u={...u,...E}),r&&t.blockInitialAnimation&&(w=!1),w&&(!g||!b||x)&&l.push(...S.map((t=>({animation:t,options:{type:p}}))))}var f,d;if(c.size){const e={};c.forEach((n=>{const r=t.getBaseTarget(n),i=t.getValue(n);i&&(i.liveStyle=!0),e[n]=null!=r?r:null})),l.push({animation:e})}let p=Boolean(l.length);return!r||!1!==o.initial&&o.initial!==o.animate||t.manuallyAnimateOnMount||(p=!1),r=!1,p?e(l):Promise.resolve()}return{animateChanges:a,setActive:function(e,r){var i;if(n[e].isActive===r)return Promise.resolve();null===(i=t.variantChildren)||void 0===i||i.forEach((t=>{var n;return null===(n=t.animationState)||void 0===n?void 0:n.setActive(e,r)})),n[e].isActive=r;const o=a(e);for(const t in n)n[t].protectedKeys={};return o},setAnimateFunction:function(n){e=n(t)},getState:()=>n,reset:()=>{n=ba(),r=!0}}}function ga(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ba(){return{animate:ga(!0),whileInView:ga(),whileHover:ga(),whileTap:ga(),whileDrag:ga(),whileFocus:ga(),exit:ga()}}class wa{constructor(t){this.isMounted=!1,this.node=t}update(){}}let xa=0;const Sa={animation:{Feature:class extends wa{constructor(t){super(t),t.animationState||(t.animationState=ya(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Fe(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),null===(t=this.unmountControls)||void 0===t||t.call(this)}}},exit:{Feature:class extends wa{constructor(){super(...arguments),this.id=xa++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const r=this.node.animationState.setActive("exit",!t);e&&!t&&r.then((()=>e(this.id)))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}}},Ea={x:!1,y:!1};function Aa(){return Ea.x||Ea.y}function Ta(t,e){const n=function(t){if(t instanceof Element)return[t];if("string"==typeof t){let e=document;const n=e.querySelectorAll(t);return n?Array.from(n):[]}return Array.from(t)}(t),r=new AbortController;return[n,{passive:!0,...e,signal:r.signal},()=>r.abort()]}function Ra(t){return e=>{"touch"===e.pointerType||Aa()||t(e)}}const Ma=t=>"mouse"===t.pointerType?"number"!=typeof t.button||t.button<=0:!1!==t.isPrimary,ka=new WeakSet;function Pa(t){return e=>{"Enter"===e.key&&t(e)}}function Ba(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const La=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]),Va=(t,e)=>!!e&&(t===e||Va(t,e.parentElement));function Oa(t){return Ma(t)&&!Aa()}function Na(t){return{point:{x:t.pageX,y:t.pageY}}}function Ca(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Ia(t,e,n,r){return Ca(t,e,(t=>e=>Ma(e)&&t(e,Na(e)))(n),r)}const Da=(t,e)=>Math.abs(t-e);class ja{constructor(t,e,{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const t=qa(this.lastMoveEventInfo,this.history),e=null!==this.startEvent,n=function(t,e){const n=Da(t.x,e.x),r=Da(t.y,e.y);return Math.sqrt(n**2+r**2)}(t.offset,{x:0,y:0})>=3;if(!e&&!n)return;const{point:r}=t,{timestamp:i}=hn;this.history.push({...r,timestamp:i});const{onStart:a,onMove:o}=this.handlers;e||(a&&a(this.lastMoveEvent,t),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,t)},this.handlePointerMove=(t,e)=>{this.lastMoveEvent=t,this.lastMoveEventInfo=Fa(e,this.transformPagePoint),cn.update(this.updatePoint,!0)},this.handlePointerUp=(t,e)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const a=qa("pointercancel"===t.type?this.lastMoveEventInfo:Fa(e,this.transformPagePoint),this.history);this.startEvent&&n&&n(t,a),r&&r(t,a)},!Ma(t))return;this.dragSnapToOrigin=i,this.handlers=e,this.transformPagePoint=n,this.contextWindow=r||window;const a=Fa(Na(t),this.transformPagePoint),{point:o}=a,{timestamp:s}=hn;this.history=[{...o,timestamp:s}];const{onSessionStart:l}=e;l&&l(t,qa(a,this.history)),this.removeListeners=mi(Ia(this.contextWindow,"pointermove",this.handlePointerMove),Ia(this.contextWindow,"pointerup",this.handlePointerUp),Ia(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),un(this.updatePoint)}}function Fa(t,e){return e?{point:e(t.point)}:t}function Ha(t,e){return{x:t.x-e.x,y:t.y-e.y}}function qa({point:t},e){return{point:t,delta:Ha(t,Ya(e)),offset:Ha(t,Xa(e)),velocity:Ua(e,.1)}}function Xa(t){return t[0]}function Ya(t){return t[t.length-1]}function Ua(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=Ya(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>$e(e)));)n--;if(!r)return{x:0,y:0};const a=Qe(i.timestamp-r.timestamp);if(0===a)return{x:0,y:0};const o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Ga(t){return t&&"object"==typeof t&&Object.prototype.hasOwnProperty.call(t,"current")}function za(t){return t.max-t.min}function Wa(t,e,n,r=.5){t.origin=r,t.originPoint=_i(e.min,e.max,t.origin),t.scale=za(n)/za(e),t.translate=_i(n.min,n.max,t.origin)-t.originPoint,(t.scale>=.9999&&t.scale<=1.0001||isNaN(t.scale))&&(t.scale=1),(t.translate>=-.01&&t.translate<=.01||isNaN(t.translate))&&(t.translate=0)}function Ka(t,e,n,r){Wa(t.x,e.x,n.x,r?r.originX:void 0),Wa(t.y,e.y,n.y,r?r.originY:void 0)}function Za(t,e,n){t.min=n.min+e.min,t.max=t.min+za(e)}function $a(t,e,n){t.min=e.min-n.min,t.max=t.min+za(e)}function Qa(t,e,n){$a(t.x,e.x,n.x),$a(t.y,e.y,n.y)}function Ja(t,e,n){return{min:void 0!==e?t.min+e:void 0,max:void 0!==n?t.max+n-(t.max-t.min):void 0}}function to(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}const eo=.35;function no(t,e,n){return{min:ro(t,e),max:ro(t,n)}}function ro(t,e){return"number"==typeof t?t:t[e]||0}const io=()=>({x:{min:0,max:0},y:{min:0,max:0}});function ao(t){return[t("x"),t("y")]}function oo({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function so(t){return void 0===t||1===t}function lo({scale:t,scaleX:e,scaleY:n}){return!so(t)||!so(e)||!so(n)}function co(t){return lo(t)||uo(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function uo(t){return ho(t.x)||ho(t.y)}function ho(t){return t&&"0%"!==t}function fo(t,e,n){return n+e*(t-n)}function po(t,e,n,r,i){return void 0!==i&&(t=fo(t,i,r)),fo(t,n,r)+e}function mo(t,e=0,n=1,r,i){t.min=po(t.min,e,n,r,i),t.max=po(t.max,e,n,r,i)}function _o(t,{x:e,y:n}){mo(t.x,e.translate,e.scale,e.originPoint),mo(t.y,n.translate,n.scale,n.originPoint)}const vo=.999999999999,yo=1.0000000000001;function go(t,e){t.min=t.min+e,t.max=t.max+e}function bo(t,e,n,r,i=.5){mo(t,e,n,_i(t.min,t.max,i),r)}function wo(t,e){bo(t.x,e.x,e.scaleX,e.scale,e.originX),bo(t.y,e.y,e.scaleY,e.scale,e.originY)}function xo(t,e){return oo(function(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(t.getBoundingClientRect(),e))}const So=({current:t})=>t?t.ownerDocument.defaultView:null,Eo=new WeakMap;class Ao{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=t}start(t,{snapToCursor:e=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new ja(t,{onSessionStart:t=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(Na(t).point)},onStart:(t,e)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(a=n)||"y"===a?Ea[a]?null:(Ea[a]=!0,()=>{Ea[a]=!1}):Ea.x||Ea.y?null:(Ea.x=Ea.y=!0,()=>{Ea.x=Ea.y=!1}),!this.openDragLock))return;var a;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ao((t=>{let e=this.getAxisMotionValue(t).get()||0;if(jn.test(e)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[t];r&&(e=za(r)*(parseFloat(e)/100))}}this.originPoint[t]=e})),i&&cn.postRender((()=>i(t,e))),ca(this.visualElement,"transform");const{animationState:o}=this.visualElement;o&&o.setActive("whileDrag",!0)},onMove:(t,e)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:a}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:o}=e;if(r&&null===this.currentDirection)return this.currentDirection=function(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}(o),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",e.point,o),this.updateAxis("y",e.point,o),this.visualElement.render(),a&&a(t,e)},onSessionEnd:(t,e)=>this.stop(t,e),resumeAnimation:()=>ao((t=>{var e;return"paused"===this.getAnimationState(t)&&(null===(e=this.getAxisMotionValue(t).animation)||void 0===e?void 0:e.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:So(this.visualElement)})}stop(t,e){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=e;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&cn.postRender((()=>i(t,e)))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,n){const{drag:r}=this.getProps();if(!n||!To(t,r,this.currentDirection))return;const i=this.getAxisMotionValue(t);let a=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(a=function(t,{min:e,max:n},r){return void 0!==e&&t<e?t=r?_i(e,t,r.min):Math.max(t,e):void 0!==n&&t>n&&(t=r?_i(n,t,r.max):Math.min(t,n)),t}(a,this.constraints[t],this.elastic[t])),i.set(a)}resolveConstraints(){var t;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(t=this.visualElement.projection)||void 0===t?void 0:t.layout,i=this.constraints;e&&Ga(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!e||!r)&&function(t,{top:e,left:n,bottom:r,right:i}){return{x:Ja(t.x,n,i),y:Ja(t.y,e,r)}}(r.layoutBox,e),this.elastic=function(t=eo){return!1===t?t=0:!0===t&&(t=eo),{x:no(t,"left","right"),y:no(t,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ao((t=>{!1!==this.constraints&&this.getAxisMotionValue(t)&&(this.constraints[t]=function(t,e){const n={};return void 0!==e.min&&(n.min=e.min-t.min),void 0!==e.max&&(n.max=e.max-t.min),n}(r.layoutBox[t],this.constraints[t]))}))}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Ga(t))return!1;const n=t.current;Ve(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(t,e,n){const r=xo(t,n),{scroll:i}=e;return i&&(go(r.x,i.offset.x),go(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let a=function(t,e){return{x:to(t.x,e.x),y:to(t.y,e.y)}}(r.layout.layoutBox,i);if(e){const t=e(function({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}(a));this.hasMutatedConstraints=!!t,t&&(a=oo(t))}return a}startAnimation(t){const{drag:e,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),s=this.constraints||{},l=ao((o=>{if(!To(o,e,this.currentDirection))return;let l=s&&s[o]||{};a&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,h={type:"inertia",velocity:n?t[o]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...i,...l};return this.startAxisValueAnimation(o,h)}));return Promise.all(l).then(o)}startAxisValueAnimation(t,e){const n=this.getAxisMotionValue(t);return ca(this.visualElement,t),n.start($i(t,n,0,e,this.visualElement,!1))}stopAnimation(){ao((t=>this.getAxisMotionValue(t).stop()))}pauseAnimation(){ao((t=>{var e;return null===(e=this.getAxisMotionValue(t).animation)||void 0===e?void 0:e.pause()}))}getAnimationState(t){var e;return null===(e=this.getAxisMotionValue(t).animation)||void 0===e?void 0:e.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps();return n[e]||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){ao((e=>{const{drag:n}=this.getProps();if(!To(e,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(e);if(r&&r.layout){const{min:n,max:a}=r.layout.layoutBox[e];i.set(t[e]-_i(n,a,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:n}=this.visualElement;if(!Ga(e)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};ao((t=>{const e=this.getAxisMotionValue(t);if(e&&!1!==this.constraints){const n=e.get();r[t]=function(t,e){let n=.5;const r=za(t),i=za(e);return i>r?n=Ur(e.min,e.max-r,t.min):r>i&&(n=Ur(t.min,t.max-i,e.min)),Vn(0,1,n)}({min:n,max:n},this.constraints[t])}}));const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),ao((e=>{if(!To(e,t,null))return;const n=this.getAxisMotionValue(e),{min:i,max:a}=this.constraints[e];n.set(_i(i,a,r[e]))}))}addListeners(){if(!this.visualElement.current)return;Eo.set(this.visualElement,this);const t=Ia(this.visualElement.current,"pointerdown",(t=>{const{drag:e,dragListener:n=!0}=this.getProps();e&&n&&this.start(t)})),e=()=>{const{dragConstraints:t}=this.getProps();Ga(t)&&t.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",e);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),cn.read(e);const i=Ca(window,"resize",(()=>this.scalePositionWithinConstraints())),a=n.addEventListener("didUpdate",(({delta:t,hasLayoutChanged:e})=>{this.isDragging&&e&&(ao((e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))})),this.visualElement.render())}));return()=>{i(),t(),r(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:a=eo,dragMomentum:o=!0}=t;return{...t,drag:e,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:a,dragMomentum:o}}}function To(t,e,n){return!(!0!==e&&e!==t||null!==n&&n!==t)}const Ro=t=>(e,n)=>{t&&cn.postRender((()=>t(e,n)))},Mo=(0,t.createContext)({}),ko={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Po(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Bo={correct:(t,e)=>{if(!e.target)return t;if("string"==typeof t){if(!Fn.test(t))return t;t=parseFloat(t)}return`${Po(t,e.target.x)}% ${Po(t,e.target.y)}%`}},Lo={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Er.parse(t);if(i.length>5)return r;const a=Er.createTransformer(t),o="number"!=typeof i[0]?1:0,s=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=s,i[1+o]/=l;const c=_i(s,l,.5);return"number"==typeof i[2+o]&&(i[2+o]/=c),"number"==typeof i[3+o]&&(i[3+o]/=c),a(i)}},Vo={},{schedule:Oo,cancel:No}=ln(queueMicrotask,!1);class Co extends t.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=t;var a;a=Do,Object.assign(Vo,a),i&&(e.group&&e.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",(()=>{this.safeToRemove()})),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ko.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:n,drag:r,isPresent:i}=this.props,a=n.projection;return a?(a.isPresent=i,r||t.layoutDependency!==e||void 0===e?a.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?a.promote():a.relegate()||cn.postRender((()=>{const t=a.getStack();t&&t.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Oo.postRender((()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n}=this.props,{projection:r}=t;r&&(r.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Io(e){const[n,r]=function(){const e=(0,t.useContext)(Se);if(null===e)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=(0,t.useId)();(0,t.useEffect)((()=>i(a)),[]);const o=(0,t.useCallback)((()=>r&&r(a)),[a,r]);return!n&&r?[!1,o]:[!0]}(),i=(0,t.useContext)(Pe);return(0,xe.jsx)(Co,{...e,layoutGroup:i,switchLayoutGroup:(0,t.useContext)(Mo),isPresent:n,safeToRemove:r})}const Do={borderRadius:{...Bo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Bo,borderTopRightRadius:Bo,borderBottomLeftRadius:Bo,borderBottomRightRadius:Bo,boxShadow:Lo},jo=["TopLeft","TopRight","BottomLeft","BottomRight"],Fo=jo.length,Ho=t=>"string"==typeof t?parseFloat(t):t,qo=t=>"number"==typeof t||Fn.test(t);function Xo(t,e){return void 0!==t[e]?t[e]:t.borderRadius}const Yo=Go(0,.5,xn),Uo=Go(.5,.95,Be);function Go(t,e,n){return r=>r<t?0:r>e?1:n(Ur(t,e,r))}function zo(t,e){t.min=e.min,t.max=e.max}function Wo(t,e){zo(t.x,e.x),zo(t.y,e.y)}function Ko(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Zo(t,e,n,r,i){return t=fo(t-=e,1/n,r),void 0!==i&&(t=fo(t,1/i,r)),t}function $o(t,e,[n,r,i],a,o){!function(t,e=0,n=1,r=.5,i,a=t,o=t){if(jn.test(e)&&(e=parseFloat(e),e=_i(o.min,o.max,e/100)-o.min),"number"!=typeof e)return;let s=_i(a.min,a.max,r);t===a&&(s-=e),t.min=Zo(t.min,e,n,s,i),t.max=Zo(t.max,e,n,s,i)}(t,e[n],e[r],e[i],e.scale,a,o)}const Qo=["x","scaleX","originX"],Jo=["y","scaleY","originY"];function ts(t,e,n,r){$o(t.x,e,Qo,n?n.x:void 0,r?r.x:void 0),$o(t.y,e,Jo,n?n.y:void 0,r?r.y:void 0)}function es(t){return 0===t.translate&&1===t.scale}function ns(t){return es(t.x)&&es(t.y)}function rs(t,e){return t.min===e.min&&t.max===e.max}function is(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function as(t,e){return is(t.x,e.x)&&is(t.y,e.y)}function os(t){return za(t.x)/za(t.y)}function ss(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class ls{constructor(){this.members=[]}add(t){Qi(this.members,t),t.scheduleRender()}remove(t){if(Ji(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(t){const e=this.members.findIndex((e=>t===e));if(0===e)return!1;let n;for(let t=e;t>=0;t--){const e=this.members[t];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(t,e){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,e&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((t=>{const{options:e,resumingFrom:n}=t;e.onExitComplete&&e.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((t=>{t.instance&&t.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const cs=(t,e)=>t.depth-e.depth;class us{constructor(){this.children=[],this.isDirty=!1}add(t){Qi(this.children,t),this.isDirty=!0}remove(t){Ji(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(cs),this.isDirty=!1,this.children.forEach(t)}}function hs(t){const e=la(t)?t.get():t;return n=e,Boolean(n&&"object"==typeof n&&n.mix&&n.toValue)?e.toValue():e;var n}const fs={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},ds="undefined"!=typeof window&&void 0!==window.MotionDebug,ps=["","X","Y","Z"],ms={visibility:"hidden"};let _s=0;function vs(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function ys(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=sa(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:e,layoutId:r}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",cn,!(e||r))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&ys(r)}function gs({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(t={},n=(null==e?void 0:e())){this.id=_s++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ds&&(fs.totalNodes=fs.resolvedTargetDeltas=fs.recalculatedProjection=0),this.nodes.forEach(xs),this.nodes.forEach(ks),this.nodes.forEach(Ps),this.nodes.forEach(Ss),ds&&window.MotionDebug.record(fs)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=t,this.root=n?n.root||n:this,this.path=n?[...n.path,n]:[],this.parent=n,this.depth=n?n.depth+1:0;for(let t=0;t<this.path.length;t++)this.path[t].shouldResetTransform=!0;this.root===this&&(this.nodes=new us)}addEventListener(t,e){return this.eventHandlers.has(t)||this.eventHandlers.set(t,new ta),this.eventHandlers.get(t).add(e)}notifyListeners(t,...e){const n=this.eventHandlers.get(t);n&&n.notify(...e)}hasListeners(t){return this.eventHandlers.has(t)}mount(e,n=this.root.hasTreeAnimated){if(this.instance)return;var r;this.isSVG=(r=e)instanceof SVGElement&&"svg"!==r.tagName,this.instance=e;const{layoutId:i,layout:a,visualElement:o}=this.options;if(o&&!o.current&&o.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(a||i)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(t,e){const n=Hr.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(un(r),t(a-e))};return cn.read(r,!0),()=>un(r)}(r,250),ko.hasAnimatedSinceResize&&(ko.hasAnimatedSinceResize=!1,this.nodes.forEach(Ms))}))}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&o&&(i||a)&&this.addEventListener("didUpdate",(({delta:t,hasLayoutChanged:e,hasRelativeTargetChanged:n,layout:r})=>{if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const i=this.options.transition||o.getDefaultTransition()||Cs,{onLayoutAnimationStart:a,onLayoutAnimationComplete:s}=o.getProps(),l=!this.targetLayout||!as(this.targetLayout,r)||n,c=!e&&n;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||c||e&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,c);const e={...rn(i,"layout"),onPlay:a,onComplete:s};(o.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else e||Ms(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const t=this.getStack();t&&t.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,un(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Bs),this.animationId++)}getTransformTemplate(){const{visualElement:t}=this.options;return t&&t.getProps().transformTemplate}willUpdate(t=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ys(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let t=0;t<this.path.length;t++){const e=this.path[t];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:e,layout:n}=this.options;if(void 0===e&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),t&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(As);this.isUpdating||this.nodes.forEach(Ts),this.isUpdating=!1,this.nodes.forEach(Rs),this.nodes.forEach(bs),this.nodes.forEach(ws),this.clearAllSnapshots();const t=Hr.now();hn.delta=Vn(0,1e3/60,t-hn.timestamp),hn.timestamp=t,hn.isProcessing=!0,fn.update.process(hn),fn.preRender.process(hn),fn.render.process(hn),hn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Oo.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Es),this.sharedNodes.forEach(Ls)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,cn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){cn.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let t=0;t<this.path.length;t++)this.path[t].updateScroll();const t=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:e}=this.options;e&&e.notify("LayoutMeasure",this.layout.layoutBox,t?t.layoutBox:void 0)}updateScroll(t="measure"){let e=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===t&&(e=!1),e){const e=r(this.instance);this.scroll={animationId:this.root.animationId,phase:t,isRoot:e,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:e}}}resetTransform(){if(!i)return;const t=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,e=this.projectionDelta&&!ns(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,a=r!==this.prevTransformTemplateValue;t&&(e||co(this.latestValues)||a)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(t=!0){const e=this.measurePageBox();let n=this.removeElementScroll(e);var r;return t&&(n=this.removeTransform(n)),js((r=n).x),js(r.y),{animationId:this.root.animationId,measuredBox:e,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var t;const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const n=e.measureViewportBox();if(!(null===(t=this.scroll)||void 0===t?void 0:t.wasRoot)&&!this.path.some(Hs)){const{scroll:t}=this.root;t&&(go(n.x,t.offset.x),go(n.y,t.offset.y))}return n}removeElementScroll(t){var e;const n={x:{min:0,max:0},y:{min:0,max:0}};if(Wo(n,t),null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)return n;for(let e=0;e<this.path.length;e++){const r=this.path[e],{scroll:i,options:a}=r;r!==this.root&&i&&a.layoutScroll&&(i.wasRoot&&Wo(n,t),go(n.x,i.offset.x),go(n.y,i.offset.y))}return n}applyTransform(t,e=!1){const n={x:{min:0,max:0},y:{min:0,max:0}};Wo(n,t);for(let t=0;t<this.path.length;t++){const r=this.path[t];!e&&r.options.layoutScroll&&r.scroll&&r!==r.root&&wo(n,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),co(r.latestValues)&&wo(n,r.latestValues)}return co(this.latestValues)&&wo(n,this.latestValues),n}removeTransform(t){const e={x:{min:0,max:0},y:{min:0,max:0}};Wo(e,t);for(let t=0;t<this.path.length;t++){const n=this.path[t];if(!n.instance)continue;if(!co(n.latestValues))continue;lo(n.latestValues)&&n.updateSnapshot();const r={x:{min:0,max:0},y:{min:0,max:0}};Wo(r,n.measurePageBox()),ts(e,n.latestValues,n.snapshot?n.snapshot.layoutBox:void 0,r)}return co(this.latestValues)&&ts(e,this.latestValues),e}setTargetDelta(t){this.targetDelta=t,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(t){this.options={...this.options,...t,crossfade:void 0===t.crossfade||t.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==hn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(t=!1){var e;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(t||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:i,layoutId:a}=this.options;if(this.layout&&(i||a)){if(this.resolvedRelativeTargetAt=hn.timestamp,!this.targetDelta&&!this.relativeTarget){const t=this.getClosestProjectingParent();t&&t.layout&&1!==this.animationProgress?(this.relativeParent=t,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Qa(this.relativeTargetOrigin,this.layout.layoutBox,t.layout.layoutBox),Wo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var o,s,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),o=this.target,s=this.relativeTarget,l=this.relativeParent.target,Za(o.x,s.x,l.x),Za(o.y,s.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Wo(this.target,this.layout.layoutBox),_o(this.target,this.targetDelta)):Wo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const t=this.getClosestProjectingParent();t&&Boolean(t.resumingFrom)===Boolean(this.resumingFrom)&&!t.options.layoutScroll&&t.target&&1!==this.animationProgress?(this.relativeParent=t,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Qa(this.relativeTargetOrigin,this.target,t.target),Wo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ds&&fs.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!lo(this.parent.latestValues)&&!uo(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var t;const e=this.getLead(),n=Boolean(this.resumingFrom)||this!==e;let r=!0;if((this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===hn.timestamp&&(r=!1),r)return;const{layout:i,layoutId:a}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!a)return;Wo(this.layoutCorrected,this.layout.layoutBox);const o=this.treeScale.x,s=this.treeScale.y;!function(t,e,n,r=!1){const i=n.length;if(!i)return;let a,o;e.x=e.y=1;for(let s=0;s<i;s++){a=n[s],o=a.projectionDelta;const{visualElement:i}=a.options;i&&i.props.style&&"contents"===i.props.style.display||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&wo(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,_o(t,o)),r&&co(a.latestValues)&&wo(t,a.latestValues))}e.x<yo&&e.x>vo&&(e.x=1),e.y<yo&&e.y>vo&&(e.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!e.layout||e.target||1===this.treeScale.x&&1===this.treeScale.y||(e.target=e.layout.layoutBox,e.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=e;l?(this.projectionDelta&&this.prevProjectionDelta?(Ko(this.prevProjectionDelta.x,this.projectionDelta.x),Ko(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),Ka(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===o&&this.treeScale.y===s&&ss(this.projectionDelta.x,this.prevProjectionDelta.x)&&ss(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),ds&&fs.recalculatedProjection++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(t=!0){var e;if(null===(e=this.options.visualElement)||void 0===e||e.scheduleRender(),t){const t=this.getStack();t&&t.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(t,e=!1){const n=this.snapshot,r=n?n.latestValues:{},i={...this.latestValues},a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!e;const o={x:{min:0,max:0},y:{min:0,max:0}},s=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(s&&!c&&!0===this.options.crossfade&&!this.path.some(Ns));let h;this.animationProgress=0,this.mixTargetDelta=e=>{const n=e/1e3;var l,f,d,p;Vs(a.x,t.x,n),Vs(a.y,t.y,n),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Qa(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),l=this.relativeTarget,f=this.relativeTargetOrigin,d=o,p=n,Os(l.x,f.x,d.x,p),Os(l.y,f.y,d.y,p),h&&function(t,e){return rs(t.x,e.x)&&rs(t.y,e.y)}(this.relativeTarget,h)&&(this.isProjectionDirty=!1),h||(h={x:{min:0,max:0},y:{min:0,max:0}}),Wo(h,this.relativeTarget)),s&&(this.animationValues=i,function(t,e,n,r,i,a){i?(t.opacity=_i(0,void 0!==n.opacity?n.opacity:1,Yo(r)),t.opacityExit=_i(void 0!==e.opacity?e.opacity:1,0,Uo(r))):a&&(t.opacity=_i(void 0!==e.opacity?e.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let i=0;i<Fo;i++){const a=`border${jo[i]}Radius`;let o=Xo(e,a),s=Xo(n,a);void 0===o&&void 0===s||(o||(o=0),s||(s=0),0===o||0===s||qo(o)===qo(s)?(t[a]=Math.max(_i(Ho(o),Ho(s),r),0),(jn.test(s)||jn.test(o))&&(t[a]+="%")):t[a]=s)}(e.rotate||n.rotate)&&(t.rotate=_i(e.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(t){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(un(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=cn.update((()=>{ko.hasAnimatedSinceResize=!0,this.currentAnimation=function(t,e,n){const r=la(0)?0:ra(0);return r.start($i("",r,1e3,n)),r.animation}(0,0,{...t,onUpdate:e=>{this.mixTargetDelta(e),t.onUpdate&&t.onUpdate(e)},onComplete:()=>{t.onComplete&&t.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const t=this.getStack();t&&t.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const t=this.getLead();let{targetWithTransforms:e,target:n,layout:r,latestValues:i}=t;if(e&&n&&r){if(this!==t&&this.layout&&r&&Fs(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const e=za(this.layout.layoutBox.x);n.x.min=t.target.x.min,n.x.max=n.x.min+e;const r=za(this.layout.layoutBox.y);n.y.min=t.target.y.min,n.y.max=n.y.min+r}Wo(e,n),wo(e,i),Ka(this.projectionDeltaWithTransform,this.layoutCorrected,e,i)}}registerSharedNode(t,e){this.sharedNodes.has(t)||this.sharedNodes.set(t,new ls),this.sharedNodes.get(t).add(e);const n=e.options.initialPromotionConfig;e.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(e):void 0})}isLead(){const t=this.getStack();return!t||t.lead===this}getLead(){var t;const{layoutId:e}=this.options;return e&&(null===(t=this.getStack())||void 0===t?void 0:t.lead)||this}getPrevLead(){var t;const{layoutId:e}=this.options;return e?null===(t=this.getStack())||void 0===t?void 0:t.prevLead:void 0}getStack(){const{layoutId:t}=this.options;if(t)return this.root.sharedNodes.get(t)}promote({needsReset:t,transition:e,preserveFollowOpacity:n}={}){const r=this.getStack();r&&r.promote(this,n),t&&(this.projectionDelta=void 0,this.needsReset=!0),e&&this.setOptions({transition:e})}relegate(){const t=this.getStack();return!!t&&t.relegate(this)}resetSkewAndRotation(){const{visualElement:t}=this.options;if(!t)return;let e=!1;const{latestValues:n}=t;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(e=!0),!e)return;const r={};n.z&&vs("z",t,r,this.animationValues);for(let e=0;e<ps.length;e++)vs(`rotate${ps[e]}`,t,r,this.animationValues),vs(`skew${ps[e]}`,t,r,this.animationValues);t.render();for(const e in r)t.setStaticValue(e,r[e]),this.animationValues&&(this.animationValues[e]=r[e]);t.scheduleRender()}getProjectionStyles(t){var e,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return ms;const r={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=hs(null==t?void 0:t.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;const a=this.getLead();if(!this.projectionDelta||!this.layout||!a.target){const e={};return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=hs(null==t?void 0:t.pointerEvents)||""),this.hasProjected&&!co(this.latestValues)&&(e.transform=i?i({},""):"none",this.hasProjected=!1),e}const o=a.animationValues||a.latestValues;this.applyTransformsToTarget(),r.transform=function(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,o=(null==n?void 0:n.z)||0;if((i||a||o)&&(r=`translate3d(${i}px, ${a}px, ${o}px) `),1===e.x&&1===e.y||(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:t,rotate:e,rotateX:i,rotateY:a,skewX:o,skewY:s}=n;t&&(r=`perspective(${t}px) ${r}`),e&&(r+=`rotate(${e}deg) `),i&&(r+=`rotateX(${i}deg) `),a&&(r+=`rotateY(${a}deg) `),o&&(r+=`skewX(${o}deg) `),s&&(r+=`skewY(${s}deg) `)}const s=t.x.scale*e.x,l=t.y.scale*e.y;return 1===s&&1===l||(r+=`scale(${s}, ${l})`),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,o),i&&(r.transform=i(o,r.transform));const{x:s,y:l}=this.projectionDelta;r.transformOrigin=`${100*s.origin}% ${100*l.origin}% 0`,a.animationValues?r.opacity=a===this?null!==(n=null!==(e=o.opacity)&&void 0!==e?e:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:o.opacityExit:r.opacity=a===this?void 0!==o.opacity?o.opacity:"":void 0!==o.opacityExit?o.opacityExit:0;for(const t in Vo){if(void 0===o[t])continue;const{correct:e,applyTo:n}=Vo[t],i="none"===r.transform?o[t]:e(o[t],a);if(n){const t=n.length;for(let e=0;e<t;e++)r[n[e]]=i}else r[t]=i}return this.options.layoutId&&(r.pointerEvents=a===this?hs(null==t?void 0:t.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((t=>{var e;return null===(e=t.currentAnimation)||void 0===e?void 0:e.stop()})),this.root.nodes.forEach(As),this.root.sharedNodes.clear()}}}function bs(t){t.updateLayout()}function ws(t){var e;const n=(null===(e=t.resumeFrom)||void 0===e?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:r}=t.layout,{animationType:i}=t.options,a=n.source!==t.layout.source;"size"===i?ao((t=>{const r=a?n.measuredBox[t]:n.layoutBox[t],i=za(r);r.min=e[t].min,r.max=r.min+i})):Fs(i,n.layoutBox,e)&&ao((r=>{const i=a?n.measuredBox[r]:n.layoutBox[r],o=za(e[r]);i.max=i.min+o,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[r].max=t.relativeTarget[r].min+o)}));const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};Ka(o,e,n.layoutBox);const s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};a?Ka(s,t.applyTransform(r,!0),n.measuredBox):Ka(s,e,n.layoutBox);const l=!ns(o);let c=!1;if(!t.resumeFrom){const r=t.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:a}=r;if(i&&a){const o={x:{min:0,max:0},y:{min:0,max:0}};Qa(o,n.layoutBox,i.layoutBox);const s={x:{min:0,max:0},y:{min:0,max:0}};Qa(s,e,a.layoutBox),as(o,s)||(c=!0),r.options.layoutRoot&&(t.relativeTarget=s,t.relativeTargetOrigin=o,t.relativeParent=r)}}}t.notifyListeners("didUpdate",{layout:e,snapshot:n,delta:s,layoutDelta:o,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:e}=t.options;e&&e()}t.options.transition=void 0}function xs(t){ds&&fs.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=Boolean(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Ss(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Es(t){t.clearSnapshot()}function As(t){t.clearMeasurements()}function Ts(t){t.isLayoutDirty=!1}function Rs(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Ms(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function ks(t){t.resolveTargetDelta()}function Ps(t){t.calcProjection()}function Bs(t){t.resetSkewAndRotation()}function Ls(t){t.removeLeadSnapshot()}function Vs(t,e,n){t.translate=_i(e.translate,0,n),t.scale=_i(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Os(t,e,n,r){t.min=_i(e.min,n.min,r),t.max=_i(e.max,n.max,r)}function Ns(t){return t.animationValues&&void 0!==t.animationValues.opacityExit}const Cs={duration:.45,ease:[.4,0,.1,1]},Is=t=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Ds=Is("applewebkit/")&&!Is("chrome/")?Math.round:Be;function js(t){t.min=Ds(t.min),t.max=Ds(t.max)}function Fs(t,e,n){return"position"===t||"preserve-aspect"===t&&(r=os(e),i=os(n),!(Math.abs(r-i)<=.2));var r,i}function Hs(t){var e;return t!==t.root&&(null===(e=t.scroll)||void 0===e?void 0:e.wasRoot)}const qs=gs({attachResizeListener:(t,e)=>Ca(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Xs={current:void 0},Ys=gs({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Xs.current){const t=new qs({});t.mount(window),t.setOptions({layoutScroll:!0}),Xs.current=t}return Xs.current},resetTransform:(t,e)=>{t.style.transform=void 0!==e?e:"none"},checkIsScrollRoot:t=>Boolean("fixed"===window.getComputedStyle(t).position)}),Us={pan:{Feature:class extends wa{constructor(){super(...arguments),this.removePointerDownListener=Be}onPointerDown(t){this.session=new ja(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:So(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Ro(t),onStart:Ro(e),onMove:n,onEnd:(t,e)=>{delete this.session,r&&cn.postRender((()=>r(t,e)))}}}mount(){this.removePointerDownListener=Ia(this.node.current,"pointerdown",(t=>this.onPointerDown(t)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends wa{constructor(t){super(t),this.removeGroupControls=Be,this.removeListeners=Be,this.controls=new Ao(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Be}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:Ys,MeasureLayout:Io}};function Gs(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover","Start"===n);const i=r["onHover"+n];i&&cn.postRender((()=>i(e,Na(e))))}function zs(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap","Start"===n);const i=r["onTap"+("End"===n?"":n)];i&&cn.postRender((()=>i(e,Na(e))))}const Ws=new WeakMap,Ks=new WeakMap,Zs=t=>{const e=Ws.get(t.target);e&&e(t)},$s=t=>{t.forEach(Zs)};const Qs={some:0,all:1},Js={inView:{Feature:class extends wa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:n,amount:r="some",once:i}=t,a={root:e?e.current:void 0,rootMargin:n,threshold:"number"==typeof r?r:Qs[r]};return function(t,e,n){const r=function({root:t,...e}){const n=t||document;Ks.has(n)||Ks.set(n,{});const r=Ks.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver($s,{root:t,...e})),r[i]}(e);return Ws.set(t,n),r.observe(t),()=>{Ws.delete(t),r.unobserve(t)}}(this.node.current,a,(t=>{const{isIntersecting:e}=t;if(this.isInView===e)return;if(this.isInView=e,i&&!e&&this.hasEnteredView)return;e&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",e);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),a=e?n:r;a&&a(t)}))}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(function({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}(t,e))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends wa{mount(){const{current:t}=this.node;t&&(this.unmount=function(t,e,n={}){const[r,i,a]=Ta(t,n),o=t=>{const r=t.currentTarget;if(!Oa(t)||ka.has(r))return;ka.add(r);const a=e(t),o=(t,e)=>{window.removeEventListener("pointerup",s),window.removeEventListener("pointercancel",l),Oa(t)&&ka.has(r)&&(ka.delete(r),a&&a(t,{success:e}))},s=t=>{o(t,n.useGlobalTarget||Va(r,t.target))},l=t=>{o(t,!1)};window.addEventListener("pointerup",s,i),window.addEventListener("pointercancel",l,i)};return r.forEach((t=>{(function(t){return La.has(t.tagName)||-1!==t.tabIndex})(t)||(t.tabIndex=0),(n.useGlobalTarget?window:t).addEventListener("pointerdown",o,i),t.addEventListener("focus",(t=>((t,e)=>{const n=t.currentTarget;if(!n)return;const r=Pa((()=>{if(ka.has(n))return;Ba(n,"down");const t=Pa((()=>{Ba(n,"up")}));n.addEventListener("keyup",t,e),n.addEventListener("blur",(()=>Ba(n,"cancel")),e)}));n.addEventListener("keydown",r,e),n.addEventListener("blur",(()=>n.removeEventListener("keydown",r)),e)})(t,i)),i)})),a}(t,(t=>(zs(this.node,t,"Start"),(t,{success:e})=>zs(this.node,t,e?"End":"Cancel"))),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends wa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch(e){t=!0}t&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=mi(Ca(this.node.current,"focus",(()=>this.onFocus())),Ca(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends wa{mount(){const{current:t}=this.node;t&&(this.unmount=function(t,e,n={}){const[r,i,a]=Ta(t,n),o=Ra((t=>{const{target:n}=t,r=e(t);if(!r||!n)return;const a=Ra((t=>{r(t),n.removeEventListener("pointerleave",a)}));n.addEventListener("pointerleave",a,i)}));return r.forEach((t=>{t.addEventListener("pointerenter",o,i)})),a}(t,(t=>(Gs(this.node,t,"Start"),t=>Gs(this.node,t,"End")))))}unmount(){}}}},tl={layout:{ProjectionNode:Ys,MeasureLayout:Io}},el=(0,t.createContext)({}),nl=(0,t.createContext)({strict:!1});function rl(e,n,r,i,a){var o,s;const{visualElement:l}=(0,t.useContext)(el),c=(0,t.useContext)(nl),u=(0,t.useContext)(Se),h=(0,t.useContext)(Ae).reducedMotion,f=(0,t.useRef)(null);i=i||c.renderer,!f.current&&i&&(f.current=i(e,{visualState:n,parent:l,props:r,presenceContext:u,blockInitialAnimation:!!u&&!1===u.initial,reducedMotionConfig:h}));const d=f.current,p=(0,t.useContext)(Mo);!d||d.projection||!a||"html"!==d.type&&"svg"!==d.type||function(t,e,n,r){const{layoutId:i,layout:a,drag:o,dragConstraints:s,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:il(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:Boolean(o)||s&&Ga(s),visualElement:t,animationType:"string"==typeof a?a:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}(f.current,r,a,p);const m=(0,t.useRef)(!1);(0,t.useInsertionEffect)((()=>{d&&m.current&&d.update(r,u)}));const _=r[oa],v=(0,t.useRef)(Boolean(_)&&!(null===(o=window.MotionHandoffIsComplete)||void 0===o?void 0:o.call(window,_))&&(null===(s=window.MotionHasOptimisedAnimation)||void 0===s?void 0:s.call(window,_)));return Ie((()=>{d&&(m.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),Oo.render(d.render),v.current&&d.animationState&&d.animationState.animateChanges())})),(0,t.useEffect)((()=>{d&&(!v.current&&d.animationState&&d.animationState.animateChanges(),v.current&&(queueMicrotask((()=>{var t;null===(t=window.MotionHandoffMarkAsComplete)||void 0===t||t.call(window,_)})),v.current=!1))})),d}function il(t){if(t)return!1!==t.options.allowProjection?t.projection:il(t.parent)}function al(e,n,r){return(0,t.useCallback)((t=>{t&&e.mount&&e.mount(t),n&&(t?n.mount(t):n.unmount()),r&&("function"==typeof r?r(t):Ga(r)&&(r.current=t))}),[n])}function ol(t){return Fe(t.animate)||We.some((e=>Xe(t[e])))}function sl(t){return Boolean(ol(t)||t.variants)}function ll(t){return Array.isArray(t)?t.join(" "):t}const cl={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ul={};for(const t in cl)ul[t]={isEnabled:e=>cl[t].some((t=>!!e[t]))};const hl=Symbol.for("motionComponentSymbol");function fl({preloadedFeatures:e,createVisualElement:n,useRender:r,useVisualState:i,Component:a}){e&&function(t){for(const e in t)ul[e]={...ul[e],...t[e]}}(e);const o=(0,t.forwardRef)((function(e,o){let s;const l={...(0,t.useContext)(Ae),...e,layoutId:dl(e)},{isStatic:c}=l,u=function(e){const{initial:n,animate:r}=function(t,e){if(ol(t)){const{initial:e,animate:n}=t;return{initial:!1===e||Xe(e)?e:void 0,animate:Xe(n)?n:void 0}}return!1!==t.inherit?e:{}}(e,(0,t.useContext)(el));return(0,t.useMemo)((()=>({initial:n,animate:r})),[ll(n),ll(r)])}(e),h=i(e,c);if(!c&&Ce){(0,t.useContext)(nl).strict;const e=function(t){const{drag:e,layout:n}=ul;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:(null==e?void 0:e.isEnabled(t))||(null==n?void 0:n.isEnabled(t))?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(l);s=e.MeasureLayout,u.visualElement=rl(a,h,l,n,e.ProjectionNode)}return(0,xe.jsxs)(el.Provider,{value:u,children:[s&&u.visualElement?(0,xe.jsx)(s,{visualElement:u.visualElement,...l}):null,r(a,e,al(h,u.visualElement,o),h,c,u.visualElement)]})}));return o[hl]=a,o}function dl({layoutId:e}){const n=(0,t.useContext)(Pe).id;return n&&void 0!==e?n+"-"+e:e}const pl=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ml(t){return"string"==typeof t&&!t.includes("-")&&!!(pl.indexOf(t)>-1||/[A-Z]/u.test(t))}function _l(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const e in n)t.style.setProperty(e,n[e])}const vl=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function yl(t,e,n,r){_l(t,e,void 0,r);for(const n in e.attrs)t.setAttribute(vl.has(n)?n:aa(n),e.attrs[n])}function gl(t,{layout:e,layoutId:n}){return Ze.has(t)||t.startsWith("origin")||(e||void 0!==n)&&(!!Vo[t]||"opacity"===t)}function bl(t,e,n){var r;const{style:i}=t,a={};for(const o in i)(la(i[o])||e.style&&la(e.style[o])||gl(o,t)||void 0!==(null===(r=null==n?void 0:n.getValue(o))||void 0===r?void 0:r.liveStyle))&&(a[o]=i[o]);return a}function wl(t,e,n){const r=bl(t,e,n);for(const n in t)(la(t[n])||la(e[n]))&&(r[-1!==Ke.indexOf(n)?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n]=t[n]);return r}const xl=e=>(n,r)=>{const i=(0,t.useContext)(el),a=(0,t.useContext)(Se),o=()=>function({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,a){const o={latestValues:Sl(r,i,a,t),renderState:e()};return n&&(o.mount=t=>n(r,t,o)),o}(e,n,i,a);return r?o():Ee(o)};function Sl(t,e,n,r){const i={},a=r(t,{});for(const t in a)i[t]=hs(a[t]);let{initial:o,animate:s}=t;const l=ol(t),c=sl(t);e&&c&&!l&&!1!==t.inherit&&(void 0===o&&(o=e.initial),void 0===s&&(s=e.animate));let u=!!n&&!1===n.initial;u=u||!1===o;const h=u?s:o;if(h&&"boolean"!=typeof h&&!Fe(h)){const e=Array.isArray(h)?h:[h];for(let n=0;n<e.length;n++){const r=Ue(t,e[n]);if(r){const{transitionEnd:t,transition:e,...n}=r;for(const t in n){let e=n[t];Array.isArray(e)&&(e=e[u?e.length-1:0]),null!==e&&(i[t]=e)}for(const e in t)i[e]=t[e]}}}return i}const El=(t,e)=>e&&"number"==typeof t?e.transform(t):t,Al={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Tl=Ke.length;function Rl(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let o=!1,s=!1;for(const t in e){const n=e[t];if(Ze.has(t))o=!0;else if(Rn(t))i[t]=n;else{const e=El(n,Lr[t]);t.startsWith("origin")?(s=!0,a[t]=e):r[t]=e}}if(e.transform||(o||n?r.transform=function(t,e,n){let r="",i=!0;for(let a=0;a<Tl;a++){const o=Ke[a],s=t[o];if(void 0===s)continue;let l=!0;if(l="number"==typeof s?s===(o.startsWith("scale")?1:0):0===parseFloat(s),!l||n){const t=El(s,Lr[o]);l||(i=!1,r+=`${Al[o]||o}(${t}) `),n&&(e[o]=t)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}(e,t.transform,n):r.transform&&(r.transform="none")),s){const{originX:t="50%",originY:e="50%",originZ:n=0}=a;r.transformOrigin=`${t} ${e} ${n}`}}function Ml(t,e,n){return"string"==typeof t?t:Fn.transform(e+n*t)}const kl={offset:"stroke-dashoffset",array:"stroke-dasharray"},Pl={offset:"strokeDashoffset",array:"strokeDasharray"};function Bl(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:a,pathLength:o,pathSpacing:s=1,pathOffset:l=0,...c},u,h){if(Rl(t,c,h),u)return void(t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox));t.attrs=t.style,t.style={};const{attrs:f,style:d,dimensions:p}=t;f.transform&&(p&&(d.transform=f.transform),delete f.transform),p&&(void 0!==i||void 0!==a||d.transform)&&(d.transformOrigin=function(t,e,n){return`${Ml(e,t.x,t.width)} ${Ml(n,t.y,t.height)}`}(p,void 0!==i?i:.5,void 0!==a?a:.5)),void 0!==e&&(f.x=e),void 0!==n&&(f.y=n),void 0!==r&&(f.scale=r),void 0!==o&&function(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?kl:Pl;t[a.offset]=Fn.transform(-r);const o=Fn.transform(e),s=Fn.transform(n);t[a.array]=`${o} ${s}`}(f,o,s,l,!1)}const Ll=t=>"string"==typeof t&&"svg"===t.toLowerCase(),Vl={useVisualState:xl({scrapeMotionValuesFromProps:wl,createRenderState:()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),onMount:(t,e,{renderState:n,latestValues:r})=>{cn.read((()=>{try{n.dimensions="function"==typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(t){n.dimensions={x:0,y:0,width:0,height:0}}})),cn.render((()=>{Bl(n,r,Ll(e.tagName),t.transformTemplate),yl(e,n)}))}})},Ol={useVisualState:xl({scrapeMotionValuesFromProps:bl,createRenderState:()=>({style:{},transform:{},transformOrigin:{},vars:{}})})};function Nl(t,e,n){for(const r in e)la(e[r])||gl(r,n)||(t[r]=e[r])}function Cl(e,n){const r={},i=function(e,n){const r={};return Nl(r,e.style||{},e),Object.assign(r,function({transformTemplate:e},n){return(0,t.useMemo)((()=>{const t={style:{},transform:{},transformOrigin:{},vars:{}};return Rl(t,n,e),Object.assign({},t.vars,t.style)}),[n])}(e,n)),r}(e,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const Il=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Dl(t){return t.startsWith("while")||t.startsWith("drag")&&"draggable"!==t||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Il.has(t)}let jl=t=>!Dl(t);try{(Fl=require("@emotion/is-prop-valid").default)&&(jl=t=>t.startsWith("on")?!Dl(t):Fl(t))}catch(t){}var Fl;function Hl(e,n,r,i){const a=(0,t.useMemo)((()=>{const t={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return Bl(t,n,Ll(i),e.transformTemplate),{...t.attrs,style:{...t.style}}}),[n]);if(e.style){const t={};Nl(t,e.style,e),a.style={...t,...a.style}}return a}function ql(e=!1){return(n,r,i,{latestValues:a},o)=>{const s=(ml(n)?Hl:Cl)(r,a,o,n),l=function(t,e,n){const r={};for(const i in t)"values"===i&&"object"==typeof t.values||(jl(i)||!0===n&&Dl(i)||!e&&!Dl(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}(r,"string"==typeof n,e),c=n!==t.Fragment?{...l,...s,ref:i}:{},{children:u}=r,h=(0,t.useMemo)((()=>la(u)?u.get():u),[u]);return(0,t.createElement)(n,{...c,children:h})}}function Xl(t,e){return function(n,{forwardMotionProps:r}={forwardMotionProps:!1}){return fl({...ml(n)?Vl:Ol,preloadedFeatures:t,useRender:ql(r),createVisualElement:e,Component:n})}}const Yl={current:null},Ul={current:!1},Gl=new WeakMap,zl=[...Qn,mr,Er],Wl=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Kl{scrapeMotionValuesFromProps(t,e,n){return{}}constructor({parent:t,props:e,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ar,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const t=Hr.now();this.renderScheduledAt<t&&(this.renderScheduledAt=t,cn.render(this.render,!1,!0))};const{latestValues:s,renderState:l}=a;this.latestValues=s,this.baseTarget={...s},this.initialValues=e.initial?{...s}:{},this.renderState=l,this.parent=t,this.props=e,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.blockInitialAnimation=Boolean(i),this.isControllingVariants=ol(e),this.isVariantNode=sl(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(e,{},this);for(const t in u){const e=u[t];void 0!==s[t]&&la(e)&&e.set(s[t],!1)}}mount(t){this.current=t,Gl.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((t,e)=>this.bindToMotionValue(e,t))),Ul.current||function(){if(Ul.current=!0,Ce)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Yl.current=t.matches;t.addListener(e),e()}else Yl.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Yl.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Gl.delete(this.current),this.projection&&this.projection.unmount(),un(this.notifyUpdate),un(this.render),this.valueSubscriptions.forEach((t=>t())),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Ze.has(t),r=e.on("change",(e=>{this.latestValues[t]=e,this.props.onUpdate&&cn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)})),i=e.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,(()=>{r(),i(),a&&a(),e.owner&&e.stop()}))}sortNodePosition(t){return this.current&&this.sortInstanceNodePosition&&this.type===t.type?this.sortInstanceNodePosition(this.current,t.current):0}updateFeatures(){let t="animation";for(t in ul){const e=ul[t];if(!e)continue;const{isEnabled:n,Feature:r}=e;if(!this.features[t]&&r&&n(this.props)&&(this.features[t]=new r(this)),this.features[t]){const e=this.features[t];e.isMounted?e.update():(e.mount(),e.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let e=0;e<Wl.length;e++){const n=Wl[e];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const r=t["on"+n];r&&(this.propEventSubscriptions[n]=this.on(n,r))}this.prevMotionValues=function(t,e,n){for(const r in e){const i=e[r],a=n[r];if(la(i))t.addValue(r,i);else if(la(a))t.addValue(r,ra(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const e=t.getValue(r);!0===e.liveStyle?e.jump(i):e.hasAnimated||e.set(i)}else{const e=t.getStaticValue(r);t.addValue(r,ra(void 0!==e?e:i,{owner:t}))}}for(const r in n)void 0===e[r]&&t.removeValue(r);return e}(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const n=this.values.get(t);e!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return void 0===n&&void 0!==e&&(n=ra(null===e?void 0:e,{owner:this}),this.addValue(t,n)),n}readValue(t,e){var n;let r=void 0===this.latestValues[t]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,t))&&void 0!==n?n:this.readValueFromInstance(this.current,t,this.options):this.latestValues[t];var i;return null!=r&&("string"==typeof r&&(An(r)||En(r))?r=parseFloat(r):(i=r,!zl.find($n(i))&&Er.test(e)&&(r=Nr(t,e))),this.setBaseTarget(t,la(r)?r.get():r)),la(r)?r.get():r}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var e;const{initial:n}=this.props;let r;if("string"==typeof n||"object"==typeof n){const i=Ue(this.props,n,null===(e=this.presenceContext)||void 0===e?void 0:e.custom);i&&(r=i[t])}if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,t);return void 0===i||la(i)?void 0!==this.initialValues[t]&&void 0===r?void 0:this.baseTarget[t]:i}on(t,e){return this.events[t]||(this.events[t]=new ta),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}}class Zl extends Kl{constructor(){super(...arguments),this.KeyframeResolver=Ir}sortInstanceNodePosition(t,e){return 2&t.compareDocumentPosition(e)?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:n}){delete e[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;la(t)&&(this.childSubscription=t.on("change",(t=>{this.current&&(this.current.textContent=`${t}`)})))}}class $l extends Zl{constructor(){super(...arguments),this.type="html",this.renderInstance=_l}readValueFromInstance(t,e){if(Ze.has(e)){const t=Or(e);return t&&t.default||0}{const r=(n=t,window.getComputedStyle(n)),i=(Rn(e)?r.getPropertyValue(e):r[e])||0;return"string"==typeof i?i.trim():i}var n}measureInstanceViewportBox(t,{transformPagePoint:e}){return xo(t,e)}build(t,e,n){Rl(t,e,n.transformTemplate)}scrapeMotionValuesFromProps(t,e,n){return bl(t,e,n)}}class Ql extends Zl{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=io}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Ze.has(e)){const t=Or(e);return t&&t.default||0}return e=vl.has(e)?e:aa(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,n){return wl(t,e,n)}build(t,e,n){Bl(t,e,this.isSVGTag,n.transformTemplate)}renderInstance(t,e,n,r){yl(t,e,0,r)}mount(t){this.isSVGTag=Ll(t.tagName),super.mount(t)}}const Jl=je(Xl({...Sa,...Js,...Us,...tl},((e,n)=>ml(e)?new Ql(n):new $l(n,{allowProjection:e!==t.Fragment})))),tc=function(t){var n=t.isLoading,r=t.text;return n?e().createElement("div",{className:"flex items-center justify-center space-x-2"},e().createElement("div",{className:"animate-spin rounded-full w-6 h-6 border-4 border-t-transparent border-blue-500"}),r&&e().createElement("p",{className:"text-zinc-800 mt-4 text-lg font-vidaloka"},r)):null},ec=function(t){var n=t.message,r=t.type,i=t.onClose,a={success:"bg-zinc-50",error:"bg-zinc-50",info:"bg-zinc-50"}[r],o={success:"check_circle",error:"error",info:"info"}[r];return e().createElement(Jl.div,{initial:{x:100,opacity:0},animate:{x:0,opacity:1},exit:{x:100,opacity:0},className:"".concat(a," text-zinc-700 p-4 rounded-lg shadow-lg flex items-center justify-between font-arimo tracking-tight font-bold border-zinc-700 border-2 mt-24 min-w-[300px]")},e().createElement("span",{className:"flex items-center flex-1"},"info"===r?e().createElement("div",{className:"flex items-center justify-center w-6 h-6 mr-2"},e().createElement(tc,{isLoading:!0})):e().createElement("span",{className:"material-symbols-outlined mr-2 flex-shrink-0"},o),e().createElement("span",null,n)),e().createElement("button",{onClick:i,className:"ml-4 text-gray-700 hover:text-gray-200"},""))},nc=function(){var t=g(),n=t.notifications,r=t.removeNotification;return e().createElement("div",{className:"fixed top-4 right-4 z-50 space-y-2"},e().createElement(De,null,n.map((function(t){return e().createElement(ec,{key:t.id,message:t.message,type:t.type,onClose:function(){return r(t.id)}})}))))};function rc(t){return rc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rc(t)}function ic(){ic=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var a=e&&e.prototype instanceof v?e:v,o=Object.create(a.prototype),s=new P(r||[]);return i(o,"_invoke",{value:T(t,n,s)}),o}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var f="suspendedStart",d="suspendedYield",p="executing",m="completed",_={};function v(){}function y(){}function g(){}var b={};c(b,o,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(B([])));x&&x!==n&&r.call(x,o)&&(b=x);var S=g.prototype=v.prototype=Object.create(b);function E(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function n(i,a,o,s){var l=h(t[i],t,a);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==rc(u)&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,o,s)}),(function(t){n("throw",t,o,s)})):e.resolve(u).then((function(t){c.value=t,o(c)}),(function(t){return n("throw",t,o,s)}))}s(l.arg)}var a;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return a=a?a.then(i,i):i()}})}function T(e,n,r){var i=f;return function(a,o){if(i===p)throw Error("Generator is already running");if(i===m){if("throw"===a)throw o;return{value:t,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var l=R(s,r);if(l){if(l===_)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var c=h(e,n,r);if("normal"===c.type){if(i=r.done?m:d,c.arg===_)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=m,r.method="throw",r.arg=c.arg)}}}function R(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,R(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),_;var a=h(i,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,_;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,_):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,_)}function M(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(M,this),this.reset(!0)}function B(e){if(e||""===e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(rc(e)+" is not iterable")}return y.prototype=g,i(S,"constructor",{value:g,configurable:!0}),i(g,"constructor",{value:y,configurable:!0}),y.displayName=c(g,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,c(t,l,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},E(A.prototype),c(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new A(u(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},E(S),c(S,l,"Generator"),c(S,o,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=B,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,_):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),_},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),_}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:B(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),_}},e}function ac(t,e,n,r,i,a,o){try{var s=t[a](o),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,i)}function oc(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return sc(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sc(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}const lc=function(){var n=(0,t.useRef)(null),r=(0,t.useRef)(null),i=g().addNotification,a=oc((0,t.useState)(2),2),o=a[0],s=a[1],c=oc((0,t.useState)(0),2),u=c[0],h=c[1],f=oc((0,t.useState)(.7),2),p=f[0],m=f[1],_=oc((0,t.useState)(.3),2),v=_[0],y=_[1],b=oc((0,t.useState)(100),2),x=b[0],A=b[1],M=oc((0,t.useState)(4e3),2),k=M[0],P=M[1],B=oc((0,t.useState)(!1),2),L=B[0],V=B[1],O=oc((0,t.useState)(!1),2),N=O[0],C=O[1],I=oc((0,t.useState)(!1),2),D=I[0],j=I[1],F=oc((0,t.useState)(null),2),H=F[0],q=F[1],X=oc((0,t.useState)(!1),2),Y=X[0],U=X[1],G=oc((0,t.useState)([]),2),z=G[0],W=G[1],K=function(){var e=E((0,t.useState)(null),2),n=e[0],r=e[1],i=E((0,t.useState)(null),2),a=i[0],o=i[1],s=E((0,t.useState)(""),2),c=s[0],u=s[1],h=E((0,t.useState)(!1),2),f=h[0],p=h[1],m=(0,t.useRef)(null),_=g(),v=_.addNotification,y=_.removeNotification,b=function(){var t=S(w().mark((function t(e){var n,i,a;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.arrayBuffer();case 2:return n=t.sent,i=new(window.AudioContext||window.webkitAudioContext),t.next=6,i.decodeAudioData(n);case 6:a=t.sent,r(a),i.close();case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=function(){var t=S(w().mark((function t(e){var r,i,a,s,c;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=3;break}return v("Please upload an audio file first.","error"),t.abrupt("return");case 3:return p(!0),r=v("Processing audio...","info",!0),i=!1,t.prev=6,t.next=9,l(n,e.decayTime,e.pitchShift,e.dryGainValue,e.wetGainValue,e.highPassFrequency,e.lowPassFrequency);case 9:if(a=t.sent,i){t.next=21;break}return o(a),t.next=14,d(a);case 14:s=t.sent,c=URL.createObjectURL(s),u(c),m.current&&URL.revokeObjectURL(m.current),m.current=c,y(r),v("Changes applied successfully!","success");case 21:t.next=26;break;case 23:t.prev=23,t.t0=t.catch(6),i||(console.error("Audio processing failed:",t.t0),y(r),v("Audio processing failed. Please try again.","error"));case 26:return t.prev=26,p(!1),t.finish(26);case 29:case"end":return t.stop()}}),t,null,[[6,23,26,29]])})));return function(e){return t.apply(this,arguments)}}();return(0,t.useEffect)((function(){return function(){m.current&&URL.revokeObjectURL(m.current)}}),[]),{audioBuffer:n,processedBuffer:a,audioSrc:c,isProcessing:f,processAudioFile:b,processAudio:x}}(),Z=K.audioBuffer,$=K.processedBuffer,Q=K.audioSrc,J=K.isProcessing,tt=K.processAudioFile,et=K.processAudio,nt=(0,t.useRef)({decayTime:o,pitchShift:u,dryGainValue:p,wetGainValue:v,highPassFrequency:x,lowPassFrequency:k}),rt=o!==nt.current.decayTime||u!==nt.current.pitchShift||p!==nt.current.dryGainValue||v!==nt.current.wetGainValue||x!==nt.current.highPassFrequency||k!==nt.current.lowPassFrequency,it=function(t,e){t(e),V(!0)};(0,t.useEffect)((function(){var t=r.current;if(t){Q&&(t.src=Q,t.load());var e=function(){return j(!0)},n=function(){return j(!1)},i=function(){return j(!1)};return t.addEventListener("play",e),t.addEventListener("pause",n),t.addEventListener("ended",i),function(){t.removeEventListener("play",e),t.removeEventListener("pause",n),t.removeEventListener("ended",i)}}}),[Q]),(0,t.useEffect)((function(){var t=function(t,e){for(var n=[],r=0;r<12;r++){var i=20*Math.pow(1100,r/11),a=T(i,t)+R(i,e),o=Math.round(i),s=Math.round(a);n.push({frequency:o,gain:s})}return n}(x,k);W(t)}),[x,k]);var at=function(){var t,e=(t=ic().mark((function t(e){var r,a;return ic().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(r=n.current)||void 0===r||null===(r=r.files)||void 0===r||!r[0]){t.next=7;break}return a=n.current.files[0],q(e),t.next=5,tt(a);case 5:V(!0),i("File uploaded successfully","success");case 7:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){ac(a,r,i,o,s,"next",t)}function s(t){ac(a,r,i,o,s,"throw",t)}o(void 0)}))});return function(t){return e.apply(this,arguments)}}();return e().createElement("div",{className:"bg-[#2a3475] h-screen-max p-4 mt-20 md:p-12 font-arimo tracking-tight"},e().createElement(nc,null),e().createElement(ee,null),e().createElement("div",{className:"space-y-2 md:space-y-4 max-w-5xl mx-auto"},e().createElement(ae,{fileInputRef:n,handleFileUpload:at}),e().createElement(le,{decayTime:o,dryGainValue:p,wetGainValue:v,highPassFrequency:x,lowPassFrequency:k,showAdvanced:Y,frequencyData:z,handleParameterChange:it,setDecayTime:s,setDryGainValue:m,setWetGainValue:y,setHighPassFrequency:A,setLowPassFrequency:P,setShowAdvanced:U}),e().createElement(ce,{pitchShift:u,handleParameterChange:it,setPitchShift:h}),e().createElement(ue,{audioElementRef:r,isPlaying:D,needsProcessing:L||""!==Q,isProcessing:J,audioBuffer:Z,audioSrc:Q,handlePlayPause:function(){var t=r.current;t&&(D?t.pause():t.play())},handleApplyChanges:function(){et({decayTime:o,pitchShift:u,dryGainValue:p,wetGainValue:v,highPassFrequency:x,lowPassFrequency:k}),V(!1)},parametersChanged:rt}),e().createElement(we,{processedBuffer:$,audioBuffer:Z,fileName:H,isExporting:N,setIsExporting:C,needsProcessing:L,processingParameters:{decayTime:o,pitchShift:u,dryGainValue:p,wetGainValue:v,highPassFrequency:x,lowPassFrequency:k},isProcessing:J})),e().createElement(Jt,{id:"reverb-tooltip",className:"max-w-[280px] !opacity-90"}),e().createElement(Jt,{id:"dry-gain-tooltip",className:"max-w-[280px] !opacity-90"}),e().createElement(Jt,{id:"wet-gain-tooltip",className:"max-w-[280px] !opacity-90"}),e().createElement(Jt,{id:"high-pass-tooltip",className:"max-w-[280px] !opacity-90"}),e().createElement(Jt,{id:"low-pass-tooltip",className:"max-w-[280px] !opacity-90"}),e().createElement(Jt,{id:"freq-response-tooltip",className:"max-w-[280px] !opacity-90"}),e().createElement(Jt,{id:"pitch-shift-tooltip",className:"max-w-[280px] !opacity-90"}),e().createElement(Jt,{id:"show-advanced-tooltip",className:"max-w-[280px] !opacity-90"}))},cc=function(){return e().createElement(y,null,e().createElement(lc,null))}})(),o})()));